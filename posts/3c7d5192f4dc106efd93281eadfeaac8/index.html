<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jquery实现表情图添加与发布功能 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/3c7d5192f4dc106efd93281eadfeaac8/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="jquery实现表情图添加与发布功能">
  <meta property="og:description" content="对于很多接触jquery的新手学员来说，实现表情图的添加与发布是件难事，想必很多人第一件想到的就是去找一个表情图的插件，可是这样可能又会产生另外一个问题，那就是找到了插件，但不会用，所以给大家分享一个非常简单的不使用插件的实现表情图的添加与发布功能，话不多说，分享代码：
一、首先分享html主体内容
&amp;lt;div contenteditable=&#34;true&#34; id=&#34;imgs&#34; style=&#34; border:1px solid gainsboro;width: 408px;height: 80px; margin: 0px auto;display: block; margin-top: 10px;&#34;&amp;gt;&amp;lt;/div&amp;gt; &amp;lt;div class=&#34;txtcss&#34;&amp;gt;&amp;lt;input type=&#34;button&#34; value=&#34;表情&#34; id=&#34;minimg&#34; style=&#34;width: 60px;&#34;&amp;gt; &amp;lt;input type=&#34;button&#34; value=&#34;发布&#34; id=&#34;btnsure&#34; style=&#34;width: 60px;&#34;&amp;gt;&amp;lt;/div&amp;gt; &amp;lt;div id=&#34;content&#34;&amp;gt;&amp;lt;/div&amp;gt; 二、再是表情图主体内容，这里使用的是将一张张表情图添加到li列表中，通过jquery点击事件将表情图添加到发布框中去
&amp;lt;div id=&#34;W_palc&#34;&amp;gt; &amp;lt;div class=&#34;W_plasc1&#34;&amp;gt; &amp;lt;ul class=&#34;swith&#34;&amp;gt;&amp;lt;li&amp;gt;&amp;lt;a href=&#34;#&#34;&amp;gt;默认&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt; &amp;lt;li&amp;gt;&amp;lt;a href=&#34;#&#34;&amp;gt;热门&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt; &amp;lt;li&amp;gt;&amp;lt;a href=&#34;#&#34;&amp;gt;复仇者联盟&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt; &amp;lt;li class=&#34;placssd&#34;&amp;gt;&amp;lt;a href=&#34;#&#34;&amp;gt;小黄人&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt; &amp;lt;/ul&amp;gt; &amp;lt;span&amp;gt;&amp;lt;a href=&#34;#&#34; id=&#34;btnclose&#34;&amp;gt;&amp;lt;?xml version=&#34;1.0&#34; standalone=&#34;no&#34;?&amp;gt;&amp;lt;!DOCTYPE svg PUBLIC &#34;-//W3C//DTD SVG 1.1//EN&#34; &#34;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&#34;&amp;gt;&amp;lt;svg t=&#34;1551513423002&#34; class=&#34;icon&#34; style=&#34;&#34; viewBox=&#34;0 0 1024 1024&#34; version=&#34;1.1&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; p-id=&#34;7800&#34; xmlns:xlink=&#34;">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-03-14T19:05:16+08:00">
    <meta property="article:modified_time" content="2019-03-14T19:05:16+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">jquery实现表情图添加与发布功能</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>对于很多接触jquery的新手学员来说，实现表情图的添加与发布是件难事，想必很多人第一件想到的就是去找一个表情图的插件，可是这样可能又会产生另外一个问题，那就是找到了插件，但不会用，所以给大家分享一个非常简单的不使用插件的实现表情图的添加与发布功能，话不多说，分享代码：</p> 
<p>一、首先分享html主体内容</p> 
<pre class="has"><code>&lt;div contenteditable="true" id="imgs" style=" border:1px solid gainsboro;width: 408px;height: 80px; margin: 0px auto;display: block; margin-top: 10px;"&gt;&lt;/div&gt;
		&lt;div class="txtcss"&gt;&lt;input type="button" value="表情" id="minimg" style="width: 60px;"&gt;
		&lt;input type="button" value="发布" id="btnsure" style="width: 60px;"&gt;&lt;/div&gt;
		&lt;div id="content"&gt;&lt;/div&gt;</code></pre> 
<p>二、再是表情图主体内容，这里使用的是将一张张表情图添加到li列表中，通过jquery点击事件将表情图添加到发布框中去</p> 
<pre class="has"><code>&lt;div id="W_palc"&gt;
			&lt;div class="W_plasc1"&gt;
				&lt;ul class="swith"&gt;&lt;li&gt;&lt;a href="#"&gt;默认&lt;/a&gt;&lt;/li&gt;
					&lt;li&gt;&lt;a href="#"&gt;热门&lt;/a&gt;&lt;/li&gt;
					&lt;li&gt;&lt;a href="#"&gt;复仇者联盟&lt;/a&gt;&lt;/li&gt;
					&lt;li class="placssd"&gt;&lt;a href="#"&gt;小黄人&lt;/a&gt;&lt;/li&gt;
				&lt;/ul&gt;
				&lt;span&gt;&lt;a href="#" id="btnclose"&gt;&lt;?xml version="1.0" standalone="no"?&gt;&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;&lt;svg t="1551513423002" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7800" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"&gt;&lt;defs&gt;&lt;style type="text/css"&gt;&lt;/style&gt;&lt;/defs&gt;&lt;path d="M850.538343 895.516744c-11.494799 0-22.988574-4.386914-31.763424-13.161764L141.103692 204.669426c-17.548678-17.534352-17.548678-45.992497 0-63.525825 17.548678-17.548678 45.977147-17.548678 63.525825 0l677.671227 677.685553c17.548678 17.534352 17.548678 45.992497 0 63.525825C873.526917 891.128807 862.032118 895.516744 850.538343 895.516744z" p-id="7801" fill="#515151"&gt;&lt;/path&gt;&lt;path d="M172.867116 895.516744c-11.494799 0-22.988574-4.386914-31.763424-13.161764-17.548678-17.534352-17.548678-45.992497 0-63.525825l677.671227-677.685553c17.548678-17.548678 45.977147-17.548678 63.525825 0 17.548678 17.534352 17.548678 45.992497 0 63.525825L204.629517 882.354979C195.85569 891.128807 184.360891 895.516744 172.867116 895.516744z" p-id="7802" fill="#515151"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/span&gt;
			&lt;/div&gt;
			&lt;div class="W_place2"&gt;				
						&lt;div class="mm" id="mms1" &gt;
							&lt;ul&gt;
								&lt;li title="锦鲤" &gt;&lt;a href="#"  &gt;&lt;img src="img/minimg/pg001.png" &gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li title="中国赞"&gt;&lt;a href="#" &gt;&lt;img src="img/minimg/pg002.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="二哈"&gt;&lt;img src="img/minimg/pg003.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="抱抱"&gt;&lt;img src="img/minimg/pg004.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="摊手"&gt;&lt;img src="img/minimg/pg005.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="跪了"&gt;&lt;img src="img/minimg/pg006.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="酸"&gt;&lt;img src="img/minimg/pg007.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="佩奇"&gt;&lt;img src="img/minimg/pg008.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="乔治"&gt;&lt;img src="img/minimg/pg009.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="惊奇队长"&gt;&lt;img src="img/minimg/pg010.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="皮卡丘"&gt;&lt;img src="img/minimg/pg011.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="迷米妮爱你"&gt;&lt;img src="img/minimg/pg012.png"&gt;&lt;/a&gt;&lt;/li&gt;
								
							&lt;/ul&gt;
						&lt;/div&gt;
					
						&lt;div class="mm" id="mms2" &gt;
							&lt;ul&gt;
								&lt;li&gt;&lt;a href="#" title="星星"&gt;&lt;img src="img/minimg/rm01.png"&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="半星"&gt;&lt;img src="img/minimg/rm02.png"&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="空星"&gt;&lt;img src="img/minimg/rm03.png"&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="男孩儿"&gt;&lt;img src="img/minimg/rm04.png"&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="女孩儿"&gt;&lt;img src="img/minimg/rm05.png"&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="圣诞老人"&gt;&lt;img src="img/minimg/rm06.png"&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="紫金草"&gt;&lt;img src="img/minimg/rm07.png"&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="文明遛狗"&gt;&lt;img src="img/minimg/rm08.png"&lt;/a&gt;&lt;/li&gt;

								
							&lt;/ul&gt;
						&lt;/div&gt;
					
						&lt;div class="mm" id="mms3" &gt;
							&lt;ul&gt;
								&lt;li&gt;&lt;a href="#" title="冬兵"&gt;&lt;img src="img/minimg/lm01.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="钢铁侠"&gt;&lt;img src="img/minimg/lm02.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="格鲁特"&gt;&lt;img src="img/minimg/lm03.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="浩克"&gt;&lt;img src="img/minimg/lm04.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="黑寡妇"&gt;&lt;img src="img/minimg/lm05.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="雷神"&gt;&lt;img src="img/minimg/lm06.png"&gt;&lt;/a&gt;&lt;/li&gt;
								
							&lt;/ul&gt;
						&lt;/div&gt;
					
						&lt;div class="mm" id="mms4" &gt;
							&lt;ul&gt;
								&lt;li&gt;&lt;a href="#" title="小黄人白眼"&gt;&lt;img src="img/minimg/xhr01.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="小黄人不屑"&gt;&lt;img src="img/minimg/xhr02.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="小黄人得意"&gt;&lt;img src="img/minimg/xhr03.png"&gt;&lt;/a&gt;&lt;/li&gt;
								&lt;li&gt;&lt;a href="#" title="小黄人高兴"&gt;&lt;img src="img/minimg/xhr04.png"&gt;&lt;/a&gt;&lt;/li&gt;
								
								
							&lt;/ul&gt;
						&lt;/div&gt;				
			&lt;/div&gt;
		&lt;/div&gt;</code></pre> 
<p>三、jquery内容</p> 
<pre class="has"><code>$(function(){
				$(".swith li a:eq(2)").click(function(){
					$(".W_place2 div:eq(2)").css('display','block');
					$(".W_place2 div:eq(0)").css('display','none');
					$(".W_place2 div:eq(1)").css('display','none');
					$(".W_place2 div:eq(3)").css('display','none');
				})
				$(".swith li a:eq(1)").click(function(){
					$(".W_place2 div:eq(2)").css('display','none');
					$(".W_place2 div:eq(0)").css('display','none');
					$(".W_place2 div:eq(1)").css('display','block');
					$(".W_place2 div:eq(3)").css('display','none');
				})
				$(".swith li a:eq(3)").click(function(){
					$(".W_place2 div:eq(2)").css('display','none');
					$(".W_place2 div:eq(0)").css('display','none');
					$(".W_place2 div:eq(1)").css('display','none');
					$(".W_place2 div:eq(3)").css('display','block');
				})
				$(".swith li a:eq(0)").click(function(){
					$(".W_place2 div:eq(2)").css('display','none');
					$(".W_place2 div:eq(0)").css('display','block');
					$(".W_place2 div:eq(1)").css('display','none');
					$(".W_place2 div:eq(3)").css('display','none');
				})
				var srs
				$("#mms1 li a").click(function(){
					var index=$(this).parent().index();
					var src=$("#mms1 li a img")[index].src;
					srs=src;
					var $li=$("&lt;img src="+src+"/&gt;");
//					$li.prependTo($("#imgs"));
					$("#imgs").append($li);
				})
				
				$("#mms2 li a").click(function(){
					var index=$(this).parent().index();
					var src=$("#mms2 li a img")[index].src;
					srs=src;
					var $li=$("&lt;img src="+src+"/&gt;");
					$("#imgs").append($li);
				})
				$("#mms3 li a").click(function(){
					var index=$(this).parent().index();
					var src=$("#mms3 li a img")[index].src;
					var $li=$("&lt;img src="+src+"/&gt;");
					srs=src;
					$("#imgs").append($li);
				})
				$("#mms4 li a").click(function(){
					var index=$(this).parent().index();
					var src=$("#mms4 li a img")[index].src;
					srs=src;
					var $li=$("&lt;img src="+src+"/&gt;");
					$("#imgs").append($li);
				})
				$("#minimg").click(function(){
					$("#W_palc").css('display','block');
				})
				$("#btnclose").click(function(){
					$("#W_palc").css('display','none');
				})
				
				$("#btnsure").click(function(){
					$("#W_palc").css('display','none');
					var $divsp=$("&lt;div&gt;&lt;div&gt;").addClass("information");
					var $input_txt = $("#imgs").text();
					var $imgsrc=$("&lt;img src="+srs+"&gt;").addClass("minimg");
					var $a_input=$("&lt;a href='#'&gt;"+$input_txt+"&lt;/a&gt;")
					$divsp.append($a_input);
					//如果未添加表情则不添加表情
					if(srs!=undefined){
					$divsp.append($imgsrc);	
					srs=undefined;
					}
					$divsp.prependTo($("#content"));
					$("#imgs").empty();
					
				})
			})</code></pre> 
<p>四、最后给大家展示一下最终效果图</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/60/0e/59uQdbkZ_o.png"></p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/61/1a/U5zULIU4_o.png"></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0a1d16b72ff0352ba47fda8fbdc7b7bb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ARM,AMD,X86，AArch64的概念</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9dc6de5837c9d81e8e43e1c29743e974/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何从HDFS导入数据到ClickHouse</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>