<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android 底部导航栏中间凸起、动态配置替换底部导航栏Tab图标(按钮、标签)的实现方案 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/0b13626b46c7a257f14617767330880a/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="Android 底部导航栏中间凸起、动态配置替换底部导航栏Tab图标(按钮、标签)的实现方案">
  <meta property="og:description" content="标签：底部导航栏中间凸起、动态配置底部导航、底部导航中间大圆圈
类似 京东 淘宝 等app,在一些节假日的时候，首页UI 一般都是配置的节日气息很浓重，这类的实现一般是不需要发版，思路是 由后台直接配置，第一次开启App后台下载，在下次打开时 直接展示下载的图标。
思路分析 一般默认 一套普通图标平日展示使用， 后台下载一套新的图标，固定时间段展示使用。
比如 淘宝
假设下面这个是节日展示的底部导航
实现原理：
1.开启应用 ，后台下载活动图标。
2.下次打开应用，检测是否要展示。
3.底部导航实现，这里以RadioButton 为例， RadioButton 自带选中和默认 两种状态，所以只要我们将下载下来的图标做成selector选择器设置给RadioButton , 我们就可以实现替换图标的需求。
实现分析细节补充：
1. 启动页 请求后台图标接口，判断后台下载图标。
2.启动时， 检测下载图标是否完整，一定要下载完全，如果不完整，则展示出现问题，需要重新下载。
3.如果已经下载到本地，并且校验符合条件，则 加载本地图标生成Drawable，然后设置给Selector，然后将Selector 添加到 相应的RadioButton 上面。
圖片的下載比較容易，不做介紹，只介紹生成select部分：
//代碼生成Selector StateListDrawable drawable = new StateListDrawable(); drawableDefault = new BitmapDrawable(bitmap); drawableChecked);= new BitmapDrawable(bitmap); drawable.addState(new int[]{android.R.attr.state_checked}, drawableChecked); drawable.addState(new int[]{ - android.R.attr.state_checked}, drawableDefault); // 將生成的Selector 添加到RadioButton 上面 drawable.setBounds(0,0,DimenUtil.dipToPx(context,30),DimenUtil.dipToPx(context,30)); radioButton.setCompoundDrawables(null,drawable,null,null); 下面是效果展示:
https://github.com/CodingForAndroid/AutoBottomBar
谢谢认真观读本文的每一位小伙伴，衷心欢迎小伙伴给我指出文中的错误，也欢迎小伙伴与我交流学习。
[点击链接加入群聊【编程之美】： https://jq.">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2017-03-02T18:44:17+08:00">
    <meta property="article:modified_time" content="2017-03-02T18:44:17+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android 底部导航栏中间凸起、动态配置替换底部导航栏Tab图标(按钮、标签)的实现方案</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>标签：底部导航栏中间凸起、动态配置底部导航、底部导航中间大圆圈</p> 
<p>类似 京东 淘宝 等app,在一些节假日的时候，首页UI 一般都是配置的节日气息很浓重，这类的实现一般是不需要发版，思路是 由后台直接配置，第一次开启App后台下载，在下次打开时 直接展示下载的图标。</p> 
<p>思路分析 一般默认 一套普通图标平日展示使用， 后台下载一套新的图标，固定时间段展示使用。</p> 
<p> </p> 
<p>比如 淘宝</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/ed/c2/3RiMquYK_o.png"></p> 
<p> </p> 
<p> </p> 
<p>假设下面这个是节日展示的底部导航</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/b7/bb/4LWt2nXz_o.png"></p> 
<p> </p> 
<p> </p> 
<p>实现原理：</p> 
<p>1.开启应用 ，后台下载活动图标。</p> 
<p>2.下次打开应用，检测是否要展示。</p> 
<p>3.底部导航实现，这里以RadioButton 为例， RadioButton 自带选中和默认 两种状态，所以只要我们将下载下来的图标做成selector选择器设置给RadioButton , 我们就可以实现替换图标的需求。</p> 
<p>实现分析细节补充：</p> 
<p>1. 启动页 请求后台图标接口，判断后台下载图标。</p> 
<p>2.启动时， 检测下载图标是否完整，一定要下载完全，如果不完整，则展示出现问题，需要重新下载。</p> 
<p>3.如果已经下载到本地，并且校验符合条件，则  加载本地图标生成Drawable，然后设置给Selector，然后将Selector 添加到 相应的RadioButton 上面。</p> 
<p>圖片的下載比較容易，不做介紹，只介紹生成select部分：</p> 
<p> </p> 
<pre class="has"><code class="language-html">//代碼生成Selector
StateListDrawable drawable = new StateListDrawable();

drawableDefault = new BitmapDrawable(bitmap);

drawableChecked);= new BitmapDrawable(bitmap);

drawable.addState(new int[]{android.R.attr.state_checked},
                drawableChecked);
drawable.addState(new int[]{ - android.R.attr.state_checked},
                drawableDefault);

// 將生成的Selector 添加到RadioButton 上面
drawable.setBounds(0,0,DimenUtil.dipToPx(context,30),DimenUtil.dipToPx(context,30));
radioButton.setCompoundDrawables(null,drawable,null,null);</code></pre> 
<p><br> 下面是效果展示:</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/2c/f3/1aJeDahz_o.png"></p> 
<p> </p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/b8/c1/j2adSa7x_o.gif"></p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p><a href="https://github.com/CodingForAndroid/AutoBottomBar">https://github.com/CodingForAndroid/AutoBottomBar</a></p> 
<p> </p> 
<p> 谢谢认真观读本文的每一位小伙伴，衷心欢迎小伙伴给我指出文中的错误，也欢迎小伙伴与我交流学习。</p> 
<p><a href="https://jq.qq.com/?_wv=1027&amp;k=h75BfFCg" rel="nofollow">[点击链接加入群聊【编程之美】：</a> <a href="https://jq.qq.com/?_wv=1027&amp;k=h75BfFCg" rel="nofollow">https://jq.qq.com/?_wv=1027&amp;k=h75BfFCg](https://jq.qq.com/?_wv=1027&amp;k=h75BfFCg)</a></p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/64e7ca26da117e98b41ff5f1cccc9ee1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java的反射机制</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ffac5a89efc7be0bcb0cef9a4964388c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java中使用Jedis操作Redis—Redis快速入门</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>