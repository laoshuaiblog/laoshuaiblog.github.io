<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux系统下安装nginx详细步骤！（亲测） - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/6c10a3c0eeebee23fe88bcc8e06dead6/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="Linux系统下安装nginx详细步骤！（亲测）">
  <meta property="og:description" content="前言： 在实际开发项目中有可能会经常用到nginx，你们也许会拿它做负载均衡，或者转发请求做动静分离，用来加载前端项目；或者解决跨域的问题等等，今天这篇文章就讲解下在Linux下如何安装nginx。
正文： 一、安装前准备，我们先检验下系统是否安装g&#43;&#43;、gcc、openssl-devel、pcre-devel和zlib-devel，这些安装nginx所需要的依赖包。
yum list installed | grep gcc //这个指令既可以检查gcc又可以检查g&#43;&#43; yum list installed | grep openssl-devel yum list installed | grep pcre-devel yum list installed | grep zlib-devel 知识补充：
因为Linux下软件安装的方式很多，没有一个通用的方式查看软件包是否安装，所以总结下来就是这几类。
rpm包安装的，可以用 rpm -qa 看到，如果要查找某软件包是否安装，用 rpm -qa | grep &#34;软件或者包的名字&#34; 以deb包安装的，可以用 dpkg -l 看到。如果是查找指定软件包，用 dpkg -l | grep &#34;软件或者包的名字&#34;yum方法安装的，可以用 yum list installed 查找，如果是查找指定包，用 yum list installed | grep &#34;软件名或者包名&#34;如果是以源码包自己编译安装的，例如.tar.gz或者tar.bz2形式的，这个只能看可执行文件是否存在了。 我经常用的安装方式是yum安装依赖包，tar去安装软件包，比如安装nginx。
运行结果如下图：
如果没有安装的话，就先安装一下。
1、gcc安装
安装nginx需要将nginx的源码进行编译，编译依赖gcc环境，所以需要安装gcc，指令：
yum install gcc-c&#43;&#43; 2、 pcre pcre-devel 安装">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-03-16T11:03:22+08:00">
    <meta property="article:modified_time" content="2019-03-16T11:03:22+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux系统下安装nginx详细步骤！（亲测）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>前言：</h4> 
<p>在实际开发项目中有可能会经常用到nginx，你们也许会拿它做负载均衡，或者转发请求做动静分离，用来加载前端项目；或者解决跨域的问题等等，今天这篇文章就讲解下在Linux下如何安装nginx。</p> 
<h4>正文：</h4> 
<p>一、安装前准备，我们先检验下系统是否安装g++、gcc、openssl-devel、pcre-devel和zlib-devel，这些安装nginx所需要的依赖包。</p> 
<pre class="has"><code>yum list installed | grep gcc //这个指令既可以检查gcc又可以检查g++
yum list installed | grep openssl-devel
yum list installed | grep pcre-devel
yum list installed | grep zlib-devel</code></pre> 
<p><strong>知识补充：</strong></p> 
<p>因为Linux下软件安装的方式很多，没有一个通用的方式查看软件包是否安装，所以总结下来就是这几类。</p> 
<ol><li>rpm包安装的，可以用 rpm -qa 看到，如果要查找某软件包是否安装，用 rpm -qa | grep "软件或者包的名字"</li><li> 以deb包安装的，可以用 dpkg -l 看到。如果是查找指定软件包，用 dpkg -l | grep "软件或者包的名字"</li><li>yum方法安装的，可以用 yum list installed 查找，如果是查找指定包，用 yum list installed | grep "软件名或者包名"</li><li>如果是以源码包自己编译安装的，例如.tar.gz或者tar.bz2形式的，这个只能看可执行文件是否存在了。</li></ol> 
<p>我经常用的安装方式是yum安装依赖包，tar去安装软件包，比如安装nginx。</p> 
<p>运行结果如下图：</p> 
<p><img alt="" class="has" height="176" src="https://images2.imgbox.com/62/d0/BJVJBElu_o.png" width="1200"></p> 
<p>如果没有安装的话，就先安装一下。</p> 
<p>1、<strong>gcc安装</strong></p> 
<p>安装nginx需要将nginx的源码进行编译，编译依赖gcc环境，所以需要安装gcc，指令：</p> 
<pre class="has"><code>yum install gcc-c++</code></pre> 
<p>2、<strong> pcre pcre-devel 安装</strong><br> PCRE(Perl Compatible Regular Expressions) 是一个Perl库，包括 perl 兼容的正则表达式库。nginx 的 http 模块使用 pcre 来解析正则表达式，所以需要在 linux 上安装 pcre 库，pcre-devel 是使用 pcre 开发的一个二次开发库。nginx也需要此库，指令：</p> 
<pre class="has"><code>yum install -y pcre pcre-devel</code></pre> 
<p>3、<strong> zlib 安装</strong><br> zlib 库提供了很多种压缩和解压缩的方式， nginx 使用 zlib 对 http 包的内容进行 gzip ，所以需要在 Centos 上安装 zlib 库，指令：</p> 
<pre class="has"><code>yum install -y zlib zlib-devel</code></pre> 
<p>4、<strong> openSSL 安装</strong></p> 
<p>OpenSSL 是一个强大的安全套接字层密码库，囊括主要的密码算法、常用的密钥和证书封装管理功能及 SSL 协议，并提供丰富的应用程序供测试或其它目的使用。<br> nginx 不仅支持 http 协议，还支持 https（即在ssl协议上传输http），所以需要在 Centos 安装 OpenSSL 库，指令：</p> 
<pre class="has"><code>yum install -y openssl openssl-devel</code></pre> 
<p>二、准备好上面的依赖环境就可以正式安装啦</p> 
<p>1、把安装包通过xftp上传到服务器</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/de/1e/ebFuHpR2_o.png"></p> 
<p>2、 然后解压，指令</p> 
<pre class="has"><code>tar -zxvf nginx-1.14.0.tar.gz</code></pre> 
<p><strong> 知识补充：</strong></p> 
<p>源码的安装一般由3个步骤组成：配置（configure）、编译（make）、安装（make install）。</p> 
<p><strong>执行这几个命令时一定要到解压后的nginx文件夹下执行（这里是/dada/nginx-1.14.0下）</strong></p> 
<p>3、配置，--prefix是指定安装的位置，执行编译、安装（make，make install）成功后，生成的配置文件（conf文件夹）和启动文件（sbin文件夹）等会放到生成的nginx这个文件夹里（nginx文件夹的名字是可以自定义的），这样做的好处就是方便以后的维护。因为如果不设置的话，直接执行./configure，会把文件生成到/usr/local/nginx下（但有的时候你可能没有对这个（usr）文件夹下的文件有操作权限，所以建议指定到你有操作权限的文件夹(dada），指令：</p> 
<pre class="has"><code>./configure --prefix=/dada/nginx-1.14.0/nginx</code></pre> 
<p>4、编译，指令：<br></p> 
<pre class="has"><code>make</code></pre> 
<p>5、安装，指令：</p> 
<pre class="has"><code>make install</code></pre> 
<p>6、执行完上面的命令后，你在指定的文件夹里的找到了生成的conf和sbin文件，就说明基本安装成功。（_temp是启动后生成的文件）</p> 
<p><img alt="" class="has" height="83" src="https://images2.imgbox.com/7b/de/us6Vpfan_o.png" width="779"></p> 
<p>7、然后进到conf里改下配置文件nginx.conf，如果你有root权限，端口可以设置成80（nginx默认端口号），但是如果你没有root权限建议把端口改成，1024以上的端口，比如9090。（在Linux下，默认端口号在1024以下的程序是要在root下才能使用的，在其他用户下，如果尝试使用将会报错）</p> 
<p><img alt="" class="has" height="141" src="https://images2.imgbox.com/20/b2/3OlWWS3b_o.png" width="508"></p> 
<p>指令：</p> 
<pre class="has"><code>cd /dada/nginx-1.14.0/nginx/conf
//编辑配置文件
vi nginx.conf 
i
esc-&gt;:wq</code></pre> 
<p>8、进到sbin文件后，启动nginx就可以啦，指令：</p> 
<pre class="has"><code>./nginx</code></pre> 
<p>9、启动完成后，通过以下指令查看是否启动成功</p> 
<pre class="has"><code>ps -ef|grep nginx</code></pre> 
<p>出现如下图的，就证明启动成功啦！</p> 
<p><img alt="" class="has" height="53" src="https://images2.imgbox.com/c7/0b/EyBWc4Cv_o.png" width="757"></p> 
<p>10、想要本地看到nginx的主页，需要让运维映射下外网ip和端口或者配一下windows下的跳板机（一般情况下，工作中的服务器是内网地址，无法直接访问，所以要做下映射），这样就可以通过浏览器访问nginx的主页。</p> 
<p><img alt="" class="has" height="184" src="https://images2.imgbox.com/57/60/SuBvtH5Q_o.png" width="511"></p> 
<p>参考文章：</p> 
<p><a href="https://blog.csdn.net/huangyimo/article/details/80760908">https://blog.csdn.net/huangyimo/article/details/80760908</a></p> 
<p><a href="https://www.cnblogs.com/hdnav/p/7941165.html" rel="nofollow">https://www.cnblogs.com/hdnav/p/7941165.html</a></p> 
<p><a href="https://www.cnblogs.com/yuanqiangfei/p/8033000.html" rel="nofollow">https://www.cnblogs.com/yuanqiangfei/p/8033000.html</a></p> 
<h4>常见安装中出现的问题：</h4> 
<p>一、如果出现下面的问题，就是说相应的安装包缺失，用yum安装相应的包就行。</p> 
<p><img alt="" class="has" height="320" src="https://images2.imgbox.com/a8/e2/BMKMAyz3_o.png" width="627"></p> 
<p>这里缺失的是pcre-devel</p> 
<p>二、如果出现下面的问题，要不是端口被占用，要不就是权限不够不能用1024下的端口（nginx默认80）</p> 
<p><img alt="" class="has" height="60" src="https://images2.imgbox.com/89/fc/LWYPZvwr_o.png" width="543"></p> 
<h4>总结：</h4> 
<p>其实安装软件一般没有太多的坑，基本上就是三大类：①依赖包缺失②权限不够（工作中开发很少有root权限）③配置文件配置不对。我是阿达，一名喜欢分享知识的程序员，时不时的也会荒腔走板的聊一聊电影、电视剧、音乐、漫画，这里已经有37位小伙伴在等你们啦，感兴趣的就赶紧来点击关注我把，哪里有不明白或有不同观点的地方欢迎留言。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9dc6de5837c9d81e8e43e1c29743e974/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何从HDFS导入数据到ClickHouse</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/eaa08eab068a9bf9e69ce7ab98d6f8b2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SIFT（尺度不变特征变换）原理与简单应用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>