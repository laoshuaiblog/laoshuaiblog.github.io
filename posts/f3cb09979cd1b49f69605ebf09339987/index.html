<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前端响应式布局 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/f3cb09979cd1b49f69605ebf09339987/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="前端响应式布局">
  <meta property="og:description" content="前端响应式布局原理与方案（详细版）
文章目录 1、媒体查询不同尺寸设置不同css样式**移动优先 OR PC优先** 2、百分比布局3、rem布局4.视口单位5.图片响应式1.使用max-width（图片自适应）:2.使用srcset3.使用background-image 响应式布局：在不同屏幕尺寸下， 同一页面有不同的布局。
传统的开发模式：PC端搞一套布局，移动端搞一套布局。
使用了响应式布局，只需要开发一套即可，缺点是CSS比较重
响应式设计和自适应设计的区别：响应式开发一套界面，通过检测视口分辨率，针对不同客户端在客户端做代码处理，展现不同的布局和内容
自适应需要开发多套界面，通过检测视口分辨率，判断当前访问的设备是PC端、平板、手机，从而请求服务层返回不同的页面
1、媒体查询 不同尺寸设置不同css样式 关键点如何选择不同的尺寸区间，即如何确定媒体查询的分割点。
如果我们选择600px,900px,1200px,1800px作为分割点，可以适配到常见的14个机型
当然这只是其中的一种分割方案，我们还可以这样划分：480px,800px,1400px,1400px
而作为曾经典型的响应式布局框架，Bootstrap是怎么进行断点的呢？
上面的分割方案不一定满足项目中的实际需求，我们可以先用跨度大的分割点进行分割，如果出现不适配的情况可以再根据实际情况增加新的分割点。
移动优先 OR PC优先 移动用的多，pc不多
不管是移动优先还是PC优先，都是依据当随着屏幕宽度增大或减小的时候，后面的样式会覆盖前面的样式。因此，移动端优先首先使用的是min-width，PC端优先使用的max-width。
移动优先:
&amp;lt;style&amp;gt; /* iphone6 7 8 */ body { background-color: yellow; } /* iphone 5 [, 320]是红色*/ @media screen and (max-width: 320px) { body { background-color: red; } } /* iphoneX [375, 414-1px] 为啥没有显示#0FF000; */ @media screen and (min-width: 375px) and (-webkit-device-pixel-ratio: 3) { body { background-color: #0FF000; } } /* iphone6 7 8 plus [414, 768-1]是Blue */ @media screen and (min-width: 414px) { body { background-color: blue; } } /* ipad [768px]*/ @media screen and (min-width: 768px) { body { background-color: green; } } /* ipad pro [1024px, 1100-1]*/ @media screen and (min-width: 1024px) { body { background-color: #f0f; } } /* pc [1100px,] */ @media screen and (min-width: 1100px) { body { background-color: black; } } &amp;lt;/style&amp;gt; PC优先：">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-06-24T09:13:58+08:00">
    <meta property="article:modified_time" content="2023-06-24T09:13:58+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前端响应式布局</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <hr> 
<p><a href="https://juejin.cn/post/6844903814332432397" rel="nofollow">前端响应式布局原理与方案（详细版）</a></p> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#1_22" rel="nofollow">1、媒体查询</a></li><li><ul><li><a href="#css_23" rel="nofollow">不同尺寸设置不同css样式</a></li><li><a href="#_OR_PC_30" rel="nofollow">**移动优先 OR PC优先**</a></li></ul> 
   </li><li><a href="#2_240" rel="nofollow">2、百分比布局</a></li><li><a href="#3rem_252" rel="nofollow">3、rem布局</a></li><li><a href="#4_333" rel="nofollow">4.视口单位</a></li><li><a href="#5_354" rel="nofollow">5.图片响应式</a></li><li><ul><li><a href="#1maxwidth_357" rel="nofollow">1.使用max-width（图片自适应）:</a></li><li><a href="#2srcset_372" rel="nofollow">2.使用srcset</a></li><li><a href="#3backgroundimage_382" rel="nofollow">3.使用background-image</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<p>响应式布局：在不同屏幕尺寸下， 同一页面有不同的布局。<br> 传统的开发模式：PC端搞一套布局，移动端搞一套布局。<br> 使用了响应式布局，只需要开发一套即可，缺点是CSS比较重</p> 
<blockquote> 
 <p>响应式设计和自适应设计的区别：响应式开发一套界面，通过检测视口分辨率，针对不同客户端在客户端做代码处理，展现不同的布局和内容<br> 自适应需要开发多套界面，通过检测视口分辨率，判断当前访问的设备是PC端、平板、手机，从而请求服务层返回不同的页面</p> 
</blockquote> 
<h3><a id="1_22"></a>1、媒体查询</h3> 
<h4><a id="css_23"></a>不同尺寸设置不同css样式</h4> 
<p>关键点如何选择不同的尺寸区间，即如何确定媒体查询的分割点。<br> 如果我们选择600px,900px,1200px,1800px作为分割点，可以适配到常见的14个机型<br> 当然这只是其中的一种分割方案，我们还可以这样划分：480px,800px,1400px,1400px<br> 而作为曾经典型的响应式布局框架，Bootstrap是怎么进行断点的呢？<br> <img src="https://images2.imgbox.com/f4/3b/PmCdp4xA_o.png" alt="在这里插入图片描述"><br> 上面的分割方案不一定满足项目中的实际需求，我们可以先用跨度大的分割点进行分割，如果出现不适配的情况可以再根据实际情况增加新的分割点。</p> 
<h4><a id="_OR_PC_30"></a><strong>移动优先 OR PC优先</strong></h4> 
<p>移动用的多，pc不多<br> <mark>不管是移动优先还是PC优先，都是依据当随着屏幕宽度增大或减小的时候，后面的样式会覆盖前面的样式。因此，移动端优先首先使用的是min-width，PC端优先使用的max-width。</mark></p> 
<p><strong>移动优先:</strong></p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token comment">/* iphone6 7 8 */</span>
    <span class="token selector">body</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/* iphone 5   [, 320]是红色*/</span>
    <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 320px<span class="token punctuation">)</span></span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">body</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/* iphoneX  [375, 414-1px] 为啥没有显示#0FF000;  */</span>
    <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 375px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">-webkit-device-pixel-ratio</span><span class="token punctuation">:</span> 3<span class="token punctuation">)</span></span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">body</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> #0FF000<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/* iphone6 7 8 plus  [414, 768-1]是Blue  */</span>
    <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 414px<span class="token punctuation">)</span></span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">body</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/* ipad  [768px]*/</span>
    <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 768px<span class="token punctuation">)</span></span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">body</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/* ipad pro [1024px,  1100-1]*/</span>
    <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 1024px<span class="token punctuation">)</span></span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">body</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> #f0f<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token comment">/* pc  [1100px,] */</span>
    <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 1100px<span class="token punctuation">)</span></span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">body</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>PC优先：</p> 
<pre><code class="prism language-html">/* pc width &gt; 1024px */
    body {
        background-color: yellow;
    }
/* ipad pro */
@media screen and (max-width: 1024px) {
    body {
        background-color: #FF00FF;
    }
}
/* ipad */
@media screen and (max-width: 768px) {
    body {
        background-color: green;
    }
}
/* iphone6 7 8 plus */
@media screen and (max-width: 414px) {
    body {
        background-color: blue;
    }
}
/* iphoneX */
@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 3) {
    body {
        background-color: #0FF000;
    }
}
/* iphone6 7 8 */
@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 2) {
    body {
        background-color: #0FF000;
    }
}
/* iphone5 */
@media screen and (max-width: 320px) {
    body {
        background-color: #0FF000;
    }
}
</code></pre> 
<p>device-width device-height 是用在移动端<br> width height 用在pc端</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./dist/app.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        sgfdl
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.div0</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
     
       
    <span class="token punctuation">}</span>
    <span class="token comment">/* screen */</span>
    <span class="token comment">/* 最小屏幕尺寸200px 最大300px */</span>
    <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-device-width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-device-width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">)</span></span><span class="token punctuation">{<!-- --></span>
        <span class="token selector">.div0</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> rebeccapurple<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-device-width</span><span class="token punctuation">:</span> 301px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-device-width</span><span class="token punctuation">:</span> 500px<span class="token punctuation">)</span></span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">.div0</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><img src="https://images2.imgbox.com/06/37/CC0afIK6_o.png" alt="在这里插入图片描述"><br> 在pc端做个案例： 【500， 800】px一行一个div , 【801， 1000】第一行两个，第二行放1个， 【1001，无穷】一行三个div<br> 主要是媒体查询，根据不同宽度选择不同的style, 使用float使元素左浮动，利用%宽使得元素是否在一行显示<br> <img src="https://images2.imgbox.com/f0/32/b0laf72z_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./dist/app.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.div0</span> <span class="token punctuation">{<!-- --></span>
       <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> blueviolet<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/* 给三个div添加浮动 ，添加高度不然不显示*/</span>
    <span class="token selector">.div0 div</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/* 不同的div设置不同颜色 */</span>
    <span class="token selector">.div0 div:nth-child(1)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> antiquewhite<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">.div0 div:nth-child(2)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> aqua<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">.div0 div:nth-child(3)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/* 设置不同尺寸的style */</span>
    <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 500px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 800px<span class="token punctuation">)</span></span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">.div0 div</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">/* 给子元素统一设置宽度 */</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 801px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 1000px<span class="token punctuation">)</span></span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">.div0 div</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">width</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 10001px<span class="token punctuation">)</span></span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">.div0 div</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">width</span><span class="token punctuation">:</span> 33.3%<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><img src="https://images2.imgbox.com/06/e6/btxD0NZn_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(min-device-width: 200px) and (max-device-width: 400px)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.div0 div</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">/* 给子元素统一设置宽度 */</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(min-device-width: 401px) and (max-device-width: 500px)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.div0 div</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">width</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(min-device-width: 501px)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.div0 div</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">width</span><span class="token punctuation">:</span> 33.3%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c0/7e/BHioOmN8_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_240"></a>2、百分比布局</h3> 
<p>子元素中的百分比<br> 子元素的<code>height</code>或<code>width</code>使用百分比，是相对直接父元素的<code>width</code>和<code>height</code><br> 子元素的<code>top</code> 和 <code>bottom</code>、<code>left</code>、<code>right</code> 是相对非<code>static</code>定位的父元素的高度<br> 子元素的<code>padding</code> 和 <code>margin</code>是相对直接父元素的<code>width</code>与父元素的<code>height</code>无关<br> <code>border-radius</code>、<code>translate</code>、<code>background-size</code>是相对自身的宽度</p> 
<p>用百分比单位来实现响应式的布局，有明显的以下两个缺点：<br> 计算困难，如果我们要定义一个元素的宽度和高度，按照设计稿，必须换算成百分比单位。<br> 可以看出，各个属性中如果使用百分比，相对父元素的属性并不是唯一的。比如width和height相对于父元素的width和height，而margin、padding不管垂直还是水平方向都相对比父元素的宽度、border-radius则是相对于元素自身等等，造成我们使用百分比单位容易使布局问题变得复杂。</p> 
<h3><a id="3rem_252"></a>3、rem布局</h3> 
<p>rem是css3新增的，移动端支持度很高<br> rem是相对单位，相对根元素html的<code>font-size</code>来决定大小（em是相对父元素的）<br> 通过rem实现响应式布局只需要动态改变<code>font-size</code>即可</p> 
<p>rem布局思想：</p> 
<ul><li>一般不给元素设置具体的宽度，但是相对于一些小图标可以设置具体宽度值</li><li>高度设置固定值即可</li><li>所有固定值使用rem作为单位</li></ul> 
<p>rem布局的缺点：<br> 必须通过js来动态控制根元素font-size的大小，也就是说css样式和js代码有一定的耦合性，且必须将改变font-size的代码放在css样式之前</p> 
<pre><code class="prism language-javascript">    <span class="token comment">/*上述代码中将视图容器分为10份，font-size用十分之一的宽度来表示，最后在header标签中执行这段代码，就可以动态定义font-size的大小
    ，从而1rem在不同的视觉容器中表示不同的大小，用rem固定单位可以实现不同容器内布局的自适应。*/</span>
<span class="token keyword">function</span> <span class="token function">refreshRem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  
    <span class="token keyword">var</span> docEl <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
    <span class="token keyword">var</span> width <span class="token operator">=</span> docEl<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>width<span class="token punctuation">;</span>
    <span class="token keyword">var</span> rem <span class="token operator">=</span> width <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> rem<span class="token punctuation">)</span><span class="token punctuation">;</span>
    docEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> rem <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    <span class="token comment">// flexible.rem = window.rem = rem;</span>
  
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> refreshRem<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>REM布局也是目前多屏幕适配的最佳方式。默认情况下我们html标签的font-size为16px,我们利用媒体查询，设置在不同设备下的字体大小。</p> 
<pre><code class="prism language-html">/* pc width &gt; 1100px */
html{ font-size: 100%;}
body {
    background-color: yellow;
    font-size: 1.5rem;
}
/* ipad pro */
@media screen and (max-width: 1024px) {
    body {
      background-color: #FF00FF;
      font-size: 1.4rem;
    }
}
/* ipad */
@media screen and (max-width: 768px) {
    body {
      background-color: green;
      font-size: 1.3rem;
    }
}
/* iphone6 7 8 plus */
@media screen and (max-width: 414px) {
    body {
      background-color: blue;
      font-size: 1.25rem;
    }
}
/* iphoneX */
@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 3) {
    body {
      background-color: #0FF000;
      font-size: 1.125rem;
    }
}
/* iphone6 7 8 */
@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 2) {
    body {
      background-color: #0FF000;
      font-size: 1rem;
    }
}
/* iphone5 */
@media screen and (max-width: 320px) {
    body {
      background-color: #0FF000;
      font-size: 0.75rem;
    }
}

</code></pre> 
<h3><a id="4_333"></a>4.视口单位</h3> 
<p>css3中引入了一个新的单位vw/vh，与视图窗口有关，vw表示相对于视图窗口的宽度，vh表示相对于视图窗口高度，除了vw和vh外，还有vmin和vmax两个相关的单位。各个单位具体的含义如下</p> 
<p>单位 含义<br> vw 相对于视窗的宽度，1vw 等于视口宽度的1%，即视窗宽度是100vw<br> vh 相对于视窗的高度，1vh 等于视口高度的1%，即视窗高度是100vh<br> vmin vw和vh中的较小值<br> vmax vw和vh中的较大值</p> 
<p><img src="https://images2.imgbox.com/4a/cc/7Lnlm3sn_o.png" alt="在这里插入图片描述"></p> 
<p>用视口单位度量，视口宽度为100vw，高度为100vh（左侧为竖屏情况，右侧为横屏情况）。例如，在桌面端浏览器视口尺寸为650px，那么 1vw = 650 * 1% = 6.5px（这是理论推算的出，如果浏览器不支持0.5px，那么实际渲染结果可能是7px）。<br> 那么vw或者vh很类似百分比单位。vw和%的区别为：</p> 
<p>单位 含义<br> % 大部分相对于祖先元素，也有相对于自身的情况比如（border-radius、translate等)<br> vw/vh 相对于视窗的尺寸</p> 
<h3><a id="5_354"></a>5.图片响应式</h3> 
<p>这里的图片响应式包括两个方面，一个就是大小自适应，这样能够保证图片在不同的屏幕分辨率下出现压缩、拉伸的情况；一个就是根据不同的屏幕分辨率和设备像素比来尽可能选择高分辨率的图片，也就是当在小屏幕上不需要高清图或大图，这样我们用小图代替，就可以减少网络带宽了。</p> 
<h4><a id="1maxwidth_357"></a>1.使用max-width（图片自适应）:</h4> 
<p>图片自适应意思就是图片能随着容器的大小进行缩放，可以采用如下代码：</p> 
<pre><code class="prism language-css"><span class="token selector">img</span> <span class="token punctuation">{<!-- --></span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token property">max-width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>inline-block 元素相对于它周围的内容以内联形式呈现，但与内联不同的是，这种情况下我们可以设置宽度和高度。<br> max-width保证了图片能够随着容器的进行等宽扩充(容器大1000px，图片小如400px, 则图片会占据自身的100%即400px。 容器小300px, 图片大400px, 则图片占容器的100% 300px)<br> 而height为auto可以保证图片进行等比缩放而不至于失真。如果是背景图片的话要灵活运用background-size属性<br> 那么为什么不能用width：100%呢？因为这条规则会导致它显示得跟它的容器一样宽。在容器比图片宽得多的情况下，图片会被无谓地拉伸。</p> 
<h4><a id="2srcset_372"></a>2.使用srcset</h4> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>img srcset<span class="token operator">=</span><span class="token string">"photo_w350.jpg 1x, photo_w640.jpg 2x"</span> src<span class="token operator">=</span><span class="token string">"photo_w350.jpg"</span> alt<span class="token operator">=</span><span class="token string">""</span><span class="token operator">&gt;</span>
</code></pre> 
<p>如果屏幕的dpi = 1的话则加载1倍图，而dpi = 2则加载2倍图，手机和mac基本上dpi都达到了2以上，这样子对于普通屏幕来说不会浪费流量，而对于视网膜屏来说又有高清的体验。<br> 如果浏览器不支持srcset，则默认加载src里面的图片。</p> 
<p>但是你会发现实际情况并不是如此，在Mac上的Chrome它会同时加载srcset里面的那张2x的，还会再去加载src里面的那张，加载两张图片。顺序是先把所有srcset里面的加载完了，再去加载src的。这个可能是因为浏览器认为，既然有srcset就不用写src了，如果写了src，用户可能是有用的。而使用picture就不会加载两张</p> 
<h4><a id="3backgroundimage_382"></a>3.使用background-image</h4> 
<pre><code class="prism language-javascript"><span class="token punctuation">.</span>banner<span class="token punctuation">{<!-- --></span>
  background<span class="token operator">-</span>image<span class="token operator">:</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token operator">/</span><span class="token keyword">static</span><span class="token operator">/</span>large<span class="token punctuation">.</span>jpg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@media screen <span class="token function">and</span> <span class="token punctuation">(</span><span class="token parameter">max<span class="token operator">-</span>width<span class="token operator">:</span> 767px</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  background<span class="token operator">-</span>image<span class="token operator">:</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token operator">/</span><span class="token keyword">static</span><span class="token operator">/</span>small<span class="token punctuation">.</span>jpg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>总结：响应式布局的实现可以通过媒体查询+px,媒体查询+百分比，媒体查询+rem+js,vm/vh,vm/vh +rem这几种方式来实现。但每一种方式都是有缺点的，媒体查询需要选取主流设备宽度尺寸作为断点针对性写额外的样式进行适配，但这样做会比较麻烦，只能在选取的几个主流设备尺寸下呈现完美适配，另外用户体验也不友好，布局在响应断点范围内的分辨率下维持不变，而在响应断点切换的瞬间，布局带来断层式的切换变化，如同卡带的唱机般“咔咔咔”地一下又一下。通过百分比来适配首先是计算麻烦，第二各个属性中如果使用百分比，其相对的元素的属性并不是唯一的，这样就造成我们使用百分比单位容易使布局问题变得复杂。通过采用rem单位的动态计算的弹性布局，则是需要在头部内嵌一段脚本来进行监听分辨率的变化来动态改变根元素字体大小，使得CSS与JS 耦合了在一起。通过利用纯css视口单位实现适配的页面，是既能解决响应式断层问题，又能解决脚本依赖的问题的，但是兼容性还没有完全能结构接受。<br> 响应式布局的成型方案<br> 现在的css，UI框架等都已经考虑到了适配不同屏幕分辨率的问题，实际项目中我们可以直接使用这些新特性和框架来实现响应式布局。可以有以下选择方案：</p> 
<p>利用上面的方法自己来实现，比如CSS3 Media Query,rem，vw等<br> Flex弹性布局，兼容性较差<br> Grid网格布局，兼容性较差<br> Columns栅格系统，往往需要依赖某个UI库，如Bootstrap</p> 
<p>响应式布局的要点<br> 在实际项目中，我们可能需要综合上面的方案，比如用rem来做字体的适配，用srcset来做图片的响应式，宽度可以用rem，flex，栅格系统等来实现响应式，然后可能还需要利用媒体查询来作为响应式布局的基础，因此综合上面的实现方案，项目中实现响应式布局需要注意下面几点：</p> 
<p>设置viewport<br> 媒体查询<br> 字体的适配（字体单位）<br> 百分比布局<br> 图片的适配（图片的响应式）<br> 结合flex，grid，BFC，栅格系统等已经成型的方案</p> 
<p>参考文章：</p> 
<p>响应式布局的常用解决方案对比(媒体查询、百分比、rem和vw/vh）<br> 纯CSS3使用vw和vh视口单位实现自适应<br> 你真的了解响应式布局吗？<br> 移动端H5页面 iphone6的适配技巧<br> 响应式开发心得<br> 详解前端响应式布局、响应式图片，与自制栅格系统<br> 基于媒体查询和 rem 的响应式布局实践<br> 从网易与淘宝的font-size思考前端设计稿与工作流<br> 移动端前端适配方案对比</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e4399601e55a8f9bec05a32b5d51d2f6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何解决在 k3s 环境中每次运行 kubectl 都需要 sudo 的问题？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6428dc770753efeadf07dc3331935988/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">计算机组成原理Cache例题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>