<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java高级语法之反射 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/2b5affdc571011bf129c5886bb9c8347/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="Java高级语法之反射">
  <meta property="og:description" content="Java高级语法之反射 目录
一、什么是反射
二、准备测试：实体类的创建
三、反射中的几个重要类及方法
（一）反射中的重要类之Class
1. Class类测试实例
（二）反射中的重要类之Field
1. Field类的获取与常用方法
2. Field类测试实例
（三）反射中的重要类之Constructor
1. Constructor类的获取与常用方法
2. Constructor类测试实例
3. 利用Constructor类实例化对象
4. Constructor实例化对象测试实例
（四）反射中的重要类之Method
1. Method类的获取与常用方法
2. Method类测试实例
3. 利用Method调用非构造方法
4. Method调用非构造方法测试实例
四、综合实战：利用反射机制编写对象拷贝工具类
（一）业务分析
（二）实体类准备
（三）工具类编写
一、什么是反射 java.lang包提供java语言程序设计的基础类，在lang包下存在一个子包：reflect，与反射相关的APIs均在此处；
官方对reflect包的介绍如下：
Reflection enables Java code to discover information about the fields, methods and constructors of loaded classes, and to use reflected fields, methods, and constructors to operate on their underlying counterparts, within security restrictions.">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-08-26T18:03:56+08:00">
    <meta property="article:modified_time" content="2022-08-26T18:03:56+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java高级语法之反射</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Java_0"></a>Java高级语法之反射</h2> 
<p><strong>目录</strong></p> 
<p><strong><a href="#p1" rel="nofollow">一、什么是反射</a></strong></p> 
<p><strong><a href="#p2" rel="nofollow">二、准备测试：实体类的创建</a></strong></p> 
<p><strong><a href="#p3" rel="nofollow">三、反射中的几个重要类及方法</a></strong></p> 
<p><strong><a href="#p4" rel="nofollow">（一）反射中的重要类之Class</a></strong></p> 
<p><strong><a href="#p5" rel="nofollow">1. Class类测试实例</a></strong></p> 
<p><strong><a href="#p6" rel="nofollow">（二）反射中的重要类之Field</a></strong></p> 
<p><strong><a href="#p7" rel="nofollow">1. Field类的获取与常用方法</a></strong></p> 
<p><strong><a href="#p8" rel="nofollow">2. Field类测试实例</a></strong></p> 
<p><strong><a href="#p9" rel="nofollow">（三）反射中的重要类之Constructor</a></strong></p> 
<p><strong><a href="#p10" rel="nofollow">1. Constructor类的获取与常用方法</a></strong></p> 
<p><strong><a href="#p11" rel="nofollow">2. Constructor类测试实例</a></strong></p> 
<p><strong><a href="#p12" rel="nofollow">3. 利用Constructor类实例化对象</a></strong></p> 
<p><strong><a href="#p13" rel="nofollow">4. Constructor实例化对象测试实例</a></strong></p> 
<p><strong><a href="#p14" rel="nofollow">（四）反射中的重要类之Method</a></strong></p> 
<p><strong><a href="#p15" rel="nofollow">1. Method类的获取与常用方法</a></strong></p> 
<p><strong><a href="#p16" rel="nofollow">2. Method类测试实例</a></strong></p> 
<p><strong><a href="#p17" rel="nofollow">3. 利用Method调用非构造方法</a></strong></p> 
<p><strong><a href="#p18" rel="nofollow">4. Method调用非构造方法测试实例</a></strong></p> 
<p><strong><a href="#p19" rel="nofollow">四、综合实战：利用反射机制编写对象拷贝工具类</a></strong></p> 
<p><strong><a href="#p20" rel="nofollow">（一）业务分析</a></strong></p> 
<p><strong><a href="#p21" rel="nofollow">（二）实体类准备</a></strong></p> 
<p><strong><a href="#p22" rel="nofollow">（三）工具类编写</a></strong></p> 
<h3 id="p1">一、什么是反射</h3> 
<p>java.lang包提供java语言程序设计的基础类，在lang包下存在一个子包：reflect，与反射相关的APIs均在此处；</p> 
<p>官方对reflect包的介绍如下：</p> 
<blockquote> 
 <p>Reflection enables Java code to discover information about the fields, methods and constructors of loaded classes, and to use reflected fields, methods, and constructors to operate on their underlying counterparts, within security restrictions.<br> The API accommodates applications that need access to either the public members of a target object (based on its runtime class) or the members declared by a given class. It also allows programs to suppress default reflective access control.</p> 
</blockquote> 
<p><a href="https://docs.oracle.com/javase/8/docs/technotes/guides/reflection/index.html" rel="nofollow">java.lang.reflect官方介绍</a></p> 
<p>简单来说，反射机制就像类对照平静的湖面，湖面映射出类的字段、方法、构造函数等信息；反射机制不仅可以看到类信息，还能针对字段、方法等做出相应的操作。</p> 
<h3 id="p2">二、准备测试：实体类的创建</h3> 
<blockquote> 
 <p>为方便解释说明，首先创建一个实体类，用于测试使用</p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>entity</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 学生实体类
 *
 * @author byuan
 * @date 2022-01-25
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">/**
     * 学生学号, 公共变量, 默认值: defaultStudentNo
     * */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> studentNo <span class="token operator">=</span> <span class="token string">"defaultStudentNo"</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * 学生姓名, 公共变量, 默认值: defaultStudentName
     * */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> studentName <span class="token operator">=</span> <span class="token string">"defaultStudentName"</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * 学生性别, 私有变量, 默认值: defaultStudentSex
     * */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> studentSex <span class="token operator">=</span> <span class="token string">"defaultStudentSex"</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * 学生年龄, 私有变量, 默认值: 0
     * */</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> studentAge <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * 公有无参构造方法
     * */</span>
    <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 公有满参构造方法
     * */</span>
    <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">String</span> studentNo<span class="token punctuation">,</span> <span class="token class-name">String</span> studentName<span class="token punctuation">,</span> <span class="token class-name">String</span> studentSex<span class="token punctuation">,</span> <span class="token class-name">Integer</span> studentAge<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentNo <span class="token operator">=</span> studentNo<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentName <span class="token operator">=</span> studentName<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentSex <span class="token operator">=</span> studentSex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentAge <span class="token operator">=</span> studentAge<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 私有构造方法
     * */</span>
    <span class="token keyword">private</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">String</span> studentSex<span class="token punctuation">,</span> <span class="token class-name">Integer</span> studentAge<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentSex <span class="token operator">=</span> studentSex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentAge <span class="token operator">=</span> studentAge<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * get/set 方法
     * */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStudentNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentNo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">setStudentNo</span><span class="token punctuation">(</span><span class="token class-name">String</span> studentNo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentNo <span class="token operator">=</span> studentNo<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStudentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">setStudentName</span><span class="token punctuation">(</span><span class="token class-name">String</span> studentName<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentName <span class="token operator">=</span> studentName<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStudentSex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentSex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">setStudentSex</span><span class="token punctuation">(</span><span class="token class-name">String</span> studentSex<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentSex <span class="token operator">=</span> studentSex<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getStudentAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentAge<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">setStudentAge</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> studentAge<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentAge <span class="token operator">=</span> studentAge<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Student{"</span> <span class="token operator">+</span>
                <span class="token string">"studentNo = "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>studentNo <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span>
                <span class="token string">"studentName = "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>studentName <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span>
                <span class="token string">"studentSex = "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>studentSex <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span>
                <span class="token string">"studentAge = "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>studentAge <span class="token operator">+</span><span class="token string">"}"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 学生类说话方法
     * */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">speak</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>studentName <span class="token operator">+</span> <span class="token string">" : "</span> <span class="token operator">+</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<h3 id="p3">三、反射中的几个重要类及方法</h3> 
<p>在了解反射前，先来梳理下一个类（Class）本身中包含了哪些内容。</p> 
<ol><li>字段，字段又由修饰符、字段类型、字段名称、对应值等部分组成</li><li>构造方法，构造方法可简单分为无参与有参两大类</li><li>非构造方法，又称普通方法，方法由修饰符、返回值类型、方法名、形参表、方法体等部分构成</li></ol> 
<p>本文所论述的反射中几个重要类及其对应方法正基于以上内容</p> 
<h4 id="p4">（一）反射中的重要类之Class</h4> 
<p>Class类代表了类本身，类本身包含字段，构造方法，非构造方法等内容，因此使用反射的第一步就是获取对象所对应的Class类。</p> 
<p>仅就使用反射而言，我们需着重了解Class类的获取方式，下面给出实例</p> 
<h5 id="p5">1. Class类测试实例</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">Student</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 获取 Class 的几种方式
 *
 * @author byuan
 * @date 2022-01-25
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetClassExample</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span> <span class="token punctuation">{<!-- --></span>

        <span class="token comment">// 获取 class 方式一: 通过类的全路径字符串获取 Class 对象</span>
        <span class="token class-name">Class</span> getClassExample1 <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"cn.byuan.entity.Student"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取 class 方式二: 通过类名直接获取</span>
        <span class="token class-name">Class</span> getClassExample2 <span class="token operator">=</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取 class 方式三: 通过已创建的对象获取对应 Class</span>
        <span class="token class-name">Student</span> student1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Class</span> getClassExample3 <span class="token operator">=</span> student1<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h4 id="p6">（二）反射中的重要类之Field</h4> 
<p>Field类是对类中属性的描述，借助Class与Field的配合，我们可以了解类中有哪些字段，并做出相应处理；</p> 
<h5 id="p7">1. Field类的获取与常用方法</h5> 
<p>Class类为我们提供了两个方法用以获取Field类：</p> 
<ol><li><strong>getDeclaredFields()</strong>：获取所有声明的字段（包括公有字段和私有字段）</li><li><strong>getFields()</strong>：仅可获取公有字段</li></ol> 
<p>Field类代表了类中的属性字段，常用类中属性字段可笼统分为两种，公有字段（public）与私有字段（private）;</p> 
<p>每个字段又具有四个属性：修饰符，字段类型，字段名称，对应值；Field也自然提供了对应方法对这四种属性进行获取：</p> 
<ol><li><strong>getModifiers()</strong>：获取字段修饰符相加值，想要获取明确标识需要通过Modifier常量的toString方法对相加值进行解码</li><li><strong>getType()</strong>：获取字段类型</li><li><strong>getName()</strong>：获取字段名称</li><li><strong>get(Object)</strong>：获取字段对应值</li></ol> 
<p>下面给出实例</p> 
<h5 id="p8">2. Field类测试实例</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">Student</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Field</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Modifier</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 获取类字段的几种方式
 *
 * @author byuan
 * @date 2021-01-25
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetFieldExample</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IllegalAccessException</span> <span class="token punctuation">{<!-- --></span>

        <span class="token class-name">Class</span> studentClass <span class="token operator">=</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取类字段的两个方法: getDeclaredFields, getFields</span>

        <span class="token comment">// 1. getDeclaredFields: 获取所有声明的字段(包括公有字段和私有字段)</span>
        <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> declaredFieldArray <span class="token operator">=</span> studentClass<span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printFieldInformation</span><span class="token punctuation">(</span>declaredFieldArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2. getFields: 仅可获取公有字段</span>
        <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fieldArray <span class="token operator">=</span> studentClass<span class="token punctuation">.</span><span class="token function">getFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printFieldInformation</span><span class="token punctuation">(</span>fieldArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取字段对应值</span>
        <span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setStudentSex</span><span class="token punctuation">(</span><span class="token string">"女"</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setStudentAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printFieldValue</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 打印类字段信息
     *
     * @param fieldArray 类字段对象列表
     * */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printFieldInformation</span><span class="token punctuation">(</span><span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fieldArray<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> fieldPart <span class="token operator">:</span> fieldArray<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"直接打印类字段对象: "</span> <span class="token operator">+</span> fieldPart<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 获取字段修饰符</span>
            <span class="token class-name">String</span> fieldModifier <span class="token operator">=</span> <span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>fieldPart<span class="token punctuation">.</span><span class="token function">getModifiers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 获取字段类型</span>
            <span class="token class-name">String</span> fieldType <span class="token operator">=</span> fieldPart<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 获取字段名称</span>
            <span class="token class-name">String</span> fieldName <span class="token operator">=</span> fieldPart<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>fieldModifier <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> fieldType <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 打印类字段属性
     *
     * @param t 泛型对象
     * */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">printFieldValue</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IllegalAccessException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fieldValueArray <span class="token operator">=</span> t
                <span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> fieldValuePart <span class="token operator">:</span> fieldValueArray<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 对于有可能存在的 private 字段取消语言访问检查</span>
            fieldValuePart<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 字段名称</span>
            <span class="token class-name">String</span> filedName <span class="token operator">=</span> fieldValuePart<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 字段对应值</span>
            <span class="token class-name">String</span> fieldValue <span class="token operator">=</span> fieldValuePart<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>filedName <span class="token operator">+</span> <span class="token string">" = "</span> <span class="token operator">+</span> fieldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p><strong>运行截图</strong></p> 
<p><img src="https://images2.imgbox.com/9b/c2/5i5xabnm_o.png" alt=""></p> 
<h4 id="p9">（三）反射中的重要类之Constructor</h4> 
<p>Constructor代表了某个类的构造方法，是用来管理所有的构造函数的类</p> 
<h5 id="p10">1. Constructor类的获取与常用方法</h5> 
<p>Class类为我们提供了两个方法用以获取Constructor类：</p> 
<ol><li><strong>getDeclaredConstructors()</strong>：获取所有构造方法</li><li><strong>getConstructors()</strong>：仅可获取公有构造方法</li></ol> 
<p>对于构造器，可简单将其分为两大类，无参构造器与带参构造器，构造器也是方法的一种，因此对于任意一构造器都由修饰符，方法名，形参表，方法体四部分组成；Constructor自然也为其组成部分提供了对应方法：</p> 
<ol><li>与字段类似，Constructors同样提供了**getModifiers()**方法：获取构造器修饰符相加值，想要获取明确标识需要通过Modifier常量的toString方法进行解码</li><li><strong>getName()</strong>：获取构造器名称</li><li><strong>getParameterTypes()</strong>：获取构造器参数列表</li></ol> 
<p>下面给出实例</p> 
<h5 id="p11">2. Constructor类测试实例</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">Student</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Constructor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Modifier</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 获取构造方法的几种方式
 *
 * @author byuan
 * @date 2022-01-25
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetConstructorsExample</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token class-name">Class</span> studentClass <span class="token operator">=</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取类构造器的两个方法: getDeclaredConstructors, getConstructors</span>

        <span class="token comment">// 1. getDeclaredConstructors: 获取所有构造方法</span>
        <span class="token class-name">Constructor</span><span class="token punctuation">[</span><span class="token punctuation">]</span> declaredConstructorArray <span class="token operator">=</span> studentClass<span class="token punctuation">.</span><span class="token function">getDeclaredConstructors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printConstructorInformation</span><span class="token punctuation">(</span>declaredConstructorArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2. getConstructors, 仅可获取公有构造方法</span>
        <span class="token class-name">Constructor</span><span class="token punctuation">[</span><span class="token punctuation">]</span> constructorArray <span class="token operator">=</span> studentClass<span class="token punctuation">.</span><span class="token function">getConstructors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printConstructorInformation</span><span class="token punctuation">(</span>constructorArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 打印构造器信息
     *
     * @param constructorArray 构造器对象列表
     * */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printConstructorInformation</span><span class="token punctuation">(</span><span class="token class-name">Constructor</span><span class="token punctuation">[</span><span class="token punctuation">]</span> constructorArray<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Constructor</span> constructorPart <span class="token operator">:</span> constructorArray<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"直接打印构造器对象: "</span> <span class="token operator">+</span> constructorPart<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 获取构造器修饰符</span>
            <span class="token class-name">String</span> constructorModifier <span class="token operator">=</span> <span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>constructorPart<span class="token punctuation">.</span><span class="token function">getModifiers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 获取构造器名称</span>
            <span class="token class-name">String</span> constructorName <span class="token operator">=</span> constructorPart<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 获取构造器参数列表</span>
            <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span> constructorParameterArray <span class="token operator">=</span> constructorPart<span class="token punctuation">.</span><span class="token function">getParameterTypes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 打印构造器参数列表</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>constructorModifier <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> constructorName <span class="token operator">+</span> <span class="token string">"("</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Class</span> constructorParameterPart <span class="token operator">:</span> constructorParameterArray<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>constructorParameterPart<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p><strong>运行截图</strong></p> 
<p><img src="https://images2.imgbox.com/71/e4/OxdzJxbJ_o.png" alt=""></p> 
<h5 id="p12">3. 利用Constructor类实例化对象</h5> 
<p>一般而言，我们关心的不只是获取到对象构造器的具体信息，更重要的是如何利用反射实例化对象，针对对象实例化，Constructor提供了两种类型的方法：</p> 
<ol><li> <p><strong>getConstructor(Class&lt;?&gt;… parameterTypes)</strong>：获取指定形参表的构造方法，可借助其获取无参/指定参数的构造方法；</p> </li><li> <p><strong>newInstance(Object … initargs)</strong>：通过形参表传递实例化对象参数，与getConstructor配合使用；</p> <p><strong>注意：Class也存在newInstance()方法，但仅能用来调用类的无参构造器</strong></p> </li></ol> 
<h5 id="p13">4. Constructor实例化对象测试实例</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">Student</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Constructor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">InvocationTargetException</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 构造器调用实例
 *
 * @author byuan
 * @date 2022-01-26
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConstructorsInvokeExample</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InstantiationException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">NoSuchMethodException</span><span class="token punctuation">,</span> <span class="token class-name">InvocationTargetException</span> <span class="token punctuation">{<!-- --></span>

        <span class="token class-name">Class</span> studentClass <span class="token operator">=</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Class 类的 newInstance 方法</span>
        studentClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 1. 调用公有无参构造器</span>
        <span class="token class-name">Object</span> object1 <span class="token operator">=</span> studentClass
                <span class="token punctuation">.</span><span class="token function">getConstructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>object1<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2. 调用公有满参构造器</span>
        <span class="token class-name">Constructor</span> studentConstructorFull <span class="token operator">=</span> studentClass
                <span class="token punctuation">.</span><span class="token function">getConstructor</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Object</span> object2 <span class="token operator">=</span> studentConstructorFull
                <span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token string">"2022001"</span><span class="token punctuation">,</span> <span class="token string">"赵一"</span><span class="token punctuation">,</span> <span class="token string">"男"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>object2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3. 调用私有构造器</span>
        <span class="token class-name">Constructor</span> studentConstructorPrivate <span class="token operator">=</span> studentClass
                <span class="token punctuation">.</span><span class="token function">getDeclaredConstructor</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 私有构造器需将 accessible 设置为 true, 取消语言访问检查</span>
        studentConstructorPrivate<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> object3 <span class="token operator">=</span> studentConstructorPrivate
                <span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token string">"女"</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>object3<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p><strong>运行截图</strong></p> 
<p><img src="https://images2.imgbox.com/19/25/6sVMXVLx_o.png" alt=""></p> 
<h4 id="p14">（四）反射中的重要类之Method</h4> 
<p>Method类描述了类的方法信息</p> 
<h5 id="p15">1. Method类的获取与常用方法</h5> 
<p>Class类为我们提供了两个方法用以获取Method类：</p> 
<ol><li><strong>getDeclaredMethods()</strong>：获取所有非构造方法</li><li><strong>getMethods()</strong>：仅可获取公有非构造方法</li></ol> 
<p>对于任意方法都可分为修饰符，方法名，形参表，方法体四部分；Method为其组成部分提供了对应方法：</p> 
<ol><li><strong>getModifiers()</strong>：获取方法修饰符相加值，想要获取明确标识需要通过Modifier常量的toString方法进行解码</li><li><strong>getName()</strong>：获取方法名称</li><li><strong>getParameterTypes()</strong>：获取方法形参表</li></ol> 
<h5 id="p16">2. Method类测试实例</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">Student</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Modifier</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 获取非构造方法的几种方式
 *
 * @author byuan
 * @date 2022-01-26
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetMethodExample</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token class-name">Class</span> studentClass <span class="token operator">=</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取非构造方法的两个方法: getDeclaredMethods, getMethods</span>

        <span class="token comment">// 1. getDeclaredMethods: 获取所有非构造方法</span>
        <span class="token class-name">Method</span><span class="token punctuation">[</span><span class="token punctuation">]</span> declaredMethodArray <span class="token operator">=</span> studentClass<span class="token punctuation">.</span><span class="token function">getDeclaredMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printMethodInformation</span><span class="token punctuation">(</span>declaredMethodArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2. getMethods, 仅可获取公有非构造方法</span>
        <span class="token class-name">Method</span><span class="token punctuation">[</span><span class="token punctuation">]</span> methodArray <span class="token operator">=</span> studentClass<span class="token punctuation">.</span><span class="token function">getMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printMethodInformation</span><span class="token punctuation">(</span>methodArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 打印非构造器方法信息
     *
     * @param methodArray 构造器对象列表
     * */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printMethodInformation</span><span class="token punctuation">(</span><span class="token class-name">Method</span><span class="token punctuation">[</span><span class="token punctuation">]</span> methodArray<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Method</span> methodPart <span class="token operator">:</span> methodArray<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"直接打印非构造方法对象: "</span> <span class="token operator">+</span> methodArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 获取非构造器方法修饰符</span>
            <span class="token class-name">String</span> methodModifier <span class="token operator">=</span> <span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>methodPart<span class="token punctuation">.</span><span class="token function">getModifiers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 获取非构造器方法名称</span>
            <span class="token class-name">String</span> methodName <span class="token operator">=</span> methodPart<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">String</span> methodReturnType <span class="token operator">=</span> methodPart<span class="token punctuation">.</span><span class="token function">getReturnType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 获取非构造方法参数列表</span>
            <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span> constructorParameterArray <span class="token operator">=</span> methodPart<span class="token punctuation">.</span><span class="token function">getParameterTypes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 打印非构造方法参数列表</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>methodModifier <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> methodReturnType <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> methodName <span class="token operator">+</span> <span class="token string">"("</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Class</span> methodParameterPart <span class="token operator">:</span> constructorParameterArray<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>methodParameterPart<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p><strong>运行截图</strong></p> 
<p><img src="https://images2.imgbox.com/68/32/5XzXksXu_o.png" alt=""></p> 
<h5 id="p17">3. 利用Method调用非构造方法</h5> 
<p>与利用Constructor实例化对象相似，Method同样需要两个方法用以调用非构造方法</p> 
<ol><li><strong>getDeclaredMethod(方法名, 形参表数组)</strong>： 获取所有构造方法</li><li><strong>invoke(对象实例, 参数数组)</strong>：方法调用</li></ol> 
<h5 id="p18">4. Method调用非构造方法测试实例</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">Student</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">InvocationTargetException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 非构造器方法调用实例
 *
 * @author byuan
 * @date 2022-01-26
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MethodInvokeExample</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">NoSuchMethodException</span><span class="token punctuation">,</span> <span class="token class-name">InvocationTargetException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">InstantiationException</span> <span class="token punctuation">{<!-- --></span>

        <span class="token class-name">Class</span> studentClass <span class="token operator">=</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

        <span class="token comment">// 对于私有的非构造方法, 需要使用 getDeclaredMethod 进行获取</span>
        <span class="token comment">// getDeclaredMethod(方法名, 形参表数组)</span>
        <span class="token class-name">Method</span> studentSpeakMethod <span class="token operator">=</span> studentClass<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">"speak"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 取消语言访问检查</span>
        studentSpeakMethod<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// invoke(对象实例, 参数数组)</span>
        <span class="token class-name">Object</span> object <span class="token operator">=</span> studentSpeakMethod<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>studentClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"Hello, world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p><strong>运行截图</strong></p> 
<p><img src="https://images2.imgbox.com/61/fa/Kv0x4TFS_o.png" alt=""></p> 
<h3 id="p19">四、综合实战：利用反射机制编写对象拷贝工具类</h3> 
<blockquote> 
 <p>在实际项目中，我们经常会遇到POJO与VO等类型对象进行相互转换的情况，如果直接进行转换则会使用大量的样板代码，为消除这样的代码，我们可以写一个简单的对象拷贝工具类进行解决；</p> 
</blockquote> 
<h4 id="p20">（一）业务分析</h4> 
<p>通过反射获取源对象<strong>Field</strong>数组，并利用Field类提供的<strong>set/get</strong>方法实现同名属性的拷贝；</p> 
<h4 id="p21">（二）实体类准备</h4> 
<p><strong>创建Student类</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>entity</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 学生实体类
 *
 * @author byuan
 * @date 2022-01-25
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">/**
     * 学生学号, 公共变量, 默认值: defaultStudentNo
     * */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> studentNo <span class="token operator">=</span> <span class="token string">"defaultStudentNo"</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * 学生姓名, 公共变量, 默认值: defaultStudentName
     * */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> studentName <span class="token operator">=</span> <span class="token string">"defaultStudentName"</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * 学生性别, 私有变量, 默认值: defaultStudentSex
     * */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> studentSex <span class="token operator">=</span> <span class="token string">"defaultStudentSex"</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * 学生年龄, 私有变量, 默认值: 0
     * */</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> studentAge <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * 公有无参构造方法
     * */</span>
    <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 公有满参构造方法
     * */</span>
    <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">String</span> studentNo<span class="token punctuation">,</span> <span class="token class-name">String</span> studentName<span class="token punctuation">,</span> <span class="token class-name">String</span> studentSex<span class="token punctuation">,</span> <span class="token class-name">Integer</span> studentAge<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentNo <span class="token operator">=</span> studentNo<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentName <span class="token operator">=</span> studentName<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentSex <span class="token operator">=</span> studentSex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentAge <span class="token operator">=</span> studentAge<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 私有构造方法
     * */</span>
    <span class="token keyword">private</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">String</span> studentSex<span class="token punctuation">,</span> <span class="token class-name">Integer</span> studentAge<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentSex <span class="token operator">=</span> studentSex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentAge <span class="token operator">=</span> studentAge<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStudentNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentNo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">setStudentNo</span><span class="token punctuation">(</span><span class="token class-name">String</span> studentNo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentNo <span class="token operator">=</span> studentNo<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStudentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">setStudentName</span><span class="token punctuation">(</span><span class="token class-name">String</span> studentName<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentName <span class="token operator">=</span> studentName<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStudentSex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentSex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">setStudentSex</span><span class="token punctuation">(</span><span class="token class-name">String</span> studentSex<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentSex <span class="token operator">=</span> studentSex<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getStudentAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentAge<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">setStudentAge</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> studentAge<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentAge <span class="token operator">=</span> studentAge<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Student{"</span> <span class="token operator">+</span>
                <span class="token string">"studentNo = "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>studentNo <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span>
                <span class="token string">"studentName = "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>studentName <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span>
                <span class="token string">"studentSex = "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>studentSex <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span>
                <span class="token string">"studentAge = "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>studentAge <span class="token operator">+</span><span class="token string">"}"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 学生类说话方法
     * */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">speak</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>studentName <span class="token operator">+</span> <span class="token string">" : "</span> <span class="token operator">+</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p><strong>创建StudentOut类</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>api<span class="token punctuation">.</span>out</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">Student</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 学生类出参
 *
 * @author byuan
 * @date 2022-01-26
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentOut</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">/**
     * 学生学号
     * */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> studentNo<span class="token punctuation">;</span>

    <span class="token comment">/**
     * 学生姓名
     * */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> studentName<span class="token punctuation">;</span>

    <span class="token comment">/**
     * 学生性别
     * */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> studentSex<span class="token punctuation">;</span>

    <span class="token comment">/**
     * 学生年龄
     * */</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> studentAge<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStudentNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentNo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">StudentOut</span> <span class="token function">setStudentNo</span><span class="token punctuation">(</span><span class="token class-name">String</span> studentNo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentNo <span class="token operator">=</span> studentNo<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStudentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">StudentOut</span> <span class="token function">setStudentName</span><span class="token punctuation">(</span><span class="token class-name">String</span> studentName<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentName <span class="token operator">=</span> studentName<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStudentSex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentSex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">StudentOut</span> <span class="token function">setStudentSex</span><span class="token punctuation">(</span><span class="token class-name">String</span> studentSex<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentSex <span class="token operator">=</span> studentSex<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getStudentAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentAge<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">StudentOut</span> <span class="token function">setStudentAge</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> studentAge<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentAge <span class="token operator">=</span> studentAge<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"StudentOut{"</span> <span class="token operator">+</span>
                <span class="token string">"studentNo = "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>studentNo <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span>
                <span class="token string">"studentName = "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>studentName <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span>
                <span class="token string">"studentSex = "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>studentSex <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span>
                <span class="token string">"studentAge = "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>studentAge <span class="token operator">+</span><span class="token string">"}"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4 id="p22">（三）工具类编写</h4> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>util</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>api<span class="token punctuation">.</span>out<span class="token punctuation">.</span></span><span class="token class-name">StudentOut</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>byuan<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">Student</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Field</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 对象属性拷贝工具类
 *
 * @author byuan
 * @date 2022-01-26
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BeanUtil</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">/**
     * 对象拷贝工具
     *
     * @param sourceObject 源对象
     * @param destClass 目的对象对应 Class
     *
     * @return 拷贝完毕后对象
     * */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">copyObject</span><span class="token punctuation">(</span><span class="token class-name">Object</span> sourceObject<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> destClass<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>sourceObject <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            
        <span class="token punctuation">}</span>

        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>

            <span class="token class-name">T</span> destObject <span class="token operator">=</span> destClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token function">copyField</span><span class="token punctuation">(</span>sourceObject<span class="token punctuation">,</span> destObject<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> destObject<span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InstantiationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>


    <span class="token comment">/**
     * 对象属性拷贝工具
     *
     * @param sourceObject 源对象
     * @param destObject 目的对象
     * */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">copyField</span><span class="token punctuation">(</span><span class="token class-name">Object</span> sourceObject<span class="token punctuation">,</span> <span class="token class-name">Object</span> destObject<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>sourceObject <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> destObject <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 获取源对象所有字段</span>
        <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> sourceFieldArray <span class="token operator">=</span> sourceObject<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> sourceFieldPart <span class="token operator">:</span> sourceFieldArray<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 取消语言访问检查</span>
            sourceFieldPart<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">String</span> sourceFieldName <span class="token operator">=</span> sourceFieldPart<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 根据属性名称获取目标对象对应类字段</span>
                <span class="token class-name">Field</span> destField <span class="token operator">=</span> destObject
                        <span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span>sourceFieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>

                destField<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                destField<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>destObject<span class="token punctuation">,</span> sourceFieldPart<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>sourceObject<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NoSuchFieldException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"2022001"</span><span class="token punctuation">,</span> <span class="token string">"赵一"</span><span class="token punctuation">,</span> <span class="token string">"男"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">StudentOut</span> studentOut <span class="token operator">=</span> <span class="token function">copyObject</span><span class="token punctuation">(</span>student<span class="token punctuation">,</span> <span class="token class-name">StudentOut</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>studentOut<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>

</code></pre> 
<p><strong>运行截图</strong><br> <img src="https://images2.imgbox.com/3a/a5/6KBIg2j7_o.png" alt=""></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b7192fa32fe52df02c604121e18d6dd3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Verilog——`include等预编译指令实例</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9b08100befe7d004942c1d4467bb183f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">解决unsupported class file major version 62 gradle</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>