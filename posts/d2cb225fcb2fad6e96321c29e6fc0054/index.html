<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>网络探测工具Nmap介绍 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/d2cb225fcb2fad6e96321c29e6fc0054/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="网络探测工具Nmap介绍">
  <meta property="og:description" content="1. Nmap简介 Nmap是一款用于网络发现和安全审计的网络安全工具。可用于列举网络主机清单、管理服务升级调度、监控主机、监控主机服务运行状况、检测目标主机是否在线和端口开放情况、侦测运行的服务类型及版本信息、侦测操作系统与设备类型等。 2. 命令大纲 3. 命令详细介绍 3.1 端口扫描（Port Scanning） 检测目标主机上各个端口的状态（开放、关闭、过滤等）。支持多种扫描技术，如TCP SYN扫描、TCP Connect扫描、ACK扫描、UDP扫描、FIN扫描、IDLE扫描等。 3.1.1 TCP SYN扫描（半开放扫描） 命令：nmap -sS 192.168.206.140 或者 nmap 192.168.206.140这种扫描方式通常用于不建立完整连接的情况下探测目标主机的TCP端口状态，避免了完整的三次握手过程，因此更隐蔽。默认就是TCP SYN扫描。
我这里扫描虚拟机可用端口，可以看到扫描到了三个开放端口。
以80端口为例，通过抓包可以看到，TCP SYN扫描，只要对端回复了ACK就认为端口是开放状态，不用建立三次握手。 3.1.2 TCP Connect扫描 命令：nmap -sT 192.168.206.140TCP Connect扫描会完成三次握手以确定端口是否开放。虽然这种方法相对慢且可能更容易被检测到，但其结果最可靠。
同样扫描到了三个开放端口
抓包可以看到，TCP Connect扫描必须完成三次握手才认为端口是开放状态。 3.1.3 UDP扫描 命令：nmap -sU 192.168.206.140扫描开放的UDP端口
抓包可以看到UDP扫描时的数据包。 3.1.4 端口服务及版本扫描 命令：namp -sV 192.168.206.140可以扫描到端口对应的服务及版本信息
可以看到，扫描的22端口是OpenSSH服务，80和8011是Nginx服务。 3.1.5 详细信息扫描 命令：namp -vv 192.168.206.140提供更详尽的扫描过程信息和结果反馈。这包括了更多的调试信息、每个步骤的详细说明以及可能影响扫描行为的内部决策等。
可以比对下，详细扫描的结果 3.1.6 所有信息扫描 命令：nmap -A 192.168.206.140这样扫描的更加详细，并且还会扫描出路由信息
我扫描的虚拟机地址，因此这里是直连。
扫描百度可以看到，经过了好几个路由。 3.1.7 随机扫描和延时扫描 命令：nmap --randomize-hosts --scan-delay 5 192.168.206.140有时候扫描太快，可能会触发主机的防火墙，因此可以延时扫描，5代表延时5秒 3.1.8 指定端口扫描 扫描指定端口：nmap 192.">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-24T11:51:12+08:00">
    <meta property="article:modified_time" content="2024-03-24T11:51:12+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">网络探测工具Nmap介绍</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1_Nmap_0"></a>1. Nmap简介</h2> 
<ul><li>Nmap是一款用于网络发现和安全审计的网络安全工具。可用于列举网络主机清单、管理服务升级调度、监控主机、监控主机服务运行状况、检测目标主机是否在线和端口开放情况、侦测运行的服务类型及版本信息、侦测操作系统与设备类型等。</li></ul> 
<h2><a id="2__2"></a>2. 命令大纲</h2> 
<p><img src="https://images2.imgbox.com/6a/91/9FPyUv5O_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="3__6"></a>3. 命令详细介绍</h2> 
<h3><a id="31_Port_Scanning_7"></a>3.1 端口扫描（Port Scanning）</h3> 
<ul><li>检测目标主机上各个端口的状态（开放、关闭、过滤等）。支持多种扫描技术，如TCP SYN扫描、TCP Connect扫描、ACK扫描、UDP扫描、FIN扫描、IDLE扫描等。</li></ul> 
<h4><a id="311_TCP_SYN_9"></a>3.1.1 TCP SYN扫描（半开放扫描）</h4> 
<ul><li>命令：<mark>nmap -sS 192.168.206.140</mark> 或者 <mark>nmap 192.168.206.140</mark></li><li>这种扫描方式通常用于不建立完整连接的情况下探测目标主机的TCP端口状态，避免了完整的三次握手过程，因此更隐蔽。默认就是TCP SYN扫描。<br> <img src="https://images2.imgbox.com/1e/6d/g8Ys7EX3_o.png" alt="在这里插入图片描述"></li><li>我这里扫描虚拟机可用端口，可以看到扫描到了三个开放端口。<br> <img src="https://images2.imgbox.com/39/99/MMt3Aa9m_o.png" alt="在这里插入图片描述"></li><li>以80端口为例，通过抓包可以看到，TCP SYN扫描，只要对端回复了ACK就认为端口是开放状态，不用建立三次握手。</li></ul> 
<h4><a id="312_TCP_Connect_16"></a>3.1.2 TCP Connect扫描</h4> 
<ul><li>命令：<mark>nmap -sT 192.168.206.140</mark></li><li>TCP Connect扫描会完成三次握手以确定端口是否开放。虽然这种方法相对慢且可能更容易被检测到，但其结果最可靠。<br> <img src="https://images2.imgbox.com/75/99/ZG7tECSh_o.png" alt="在这里插入图片描述"></li><li>同样扫描到了三个开放端口<br> <img src="https://images2.imgbox.com/ea/fc/WzbWjZUA_o.png" alt="在这里插入图片描述"></li><li>抓包可以看到，TCP Connect扫描必须完成三次握手才认为端口是开放状态。</li></ul> 
<h4><a id="313_UDP_23"></a>3.1.3 UDP扫描</h4> 
<ul><li>命令：<mark>nmap -sU 192.168.206.140</mark></li><li>扫描开放的UDP端口<br> <img src="https://images2.imgbox.com/6d/08/GE3rNB5i_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/04/6c/liyjZpmO_o.png" alt="在这里插入图片描述"></li><li>抓包可以看到UDP扫描时的数据包。</li></ul> 
<h4><a id="314__29"></a>3.1.4 端口服务及版本扫描</h4> 
<ul><li>命令：<mark>namp -sV 192.168.206.140</mark></li><li>可以扫描到端口对应的服务及版本信息<br> <img src="https://images2.imgbox.com/5f/5c/KIrItAo0_o.png" alt="在这里插入图片描述"></li><li>可以看到，扫描的22端口是OpenSSH服务，80和8011是Nginx服务。</li></ul> 
<h4><a id="315__34"></a>3.1.5 详细信息扫描</h4> 
<ul><li>命令：<mark>namp -vv 192.168.206.140</mark></li><li>提供更详尽的扫描过程信息和结果反馈。这包括了更多的调试信息、每个步骤的详细说明以及可能影响扫描行为的内部决策等。<br> <img src="https://images2.imgbox.com/d0/0d/FXGZqHGf_o.png" alt="在这里插入图片描述"></li><li>可以比对下，详细扫描的结果</li></ul> 
<h4><a id="316__39"></a>3.1.6 所有信息扫描</h4> 
<ul><li>命令：<mark>nmap -A 192.168.206.140</mark></li><li>这样扫描的更加详细，并且还会扫描出路由信息<br> <img src="https://images2.imgbox.com/31/2a/OWVQrhMy_o.png" alt="在这里插入图片描述"></li><li>我扫描的虚拟机地址，因此这里是直连。<br> <img src="https://images2.imgbox.com/d3/38/0wC1dY9N_o.png" alt="在这里插入图片描述"></li><li>扫描百度可以看到，经过了好几个路由。</li></ul> 
<h4><a id="317__46"></a>3.1.7 随机扫描和延时扫描</h4> 
<ul><li>命令：<mark>nmap --randomize-hosts --scan-delay 5 192.168.206.140</mark></li><li>有时候扫描太快，可能会触发主机的防火墙，因此可以延时扫描，5代表延时5秒</li></ul> 
<h4><a id="318__49"></a>3.1.8 指定端口扫描</h4> 
<ul><li>扫描指定端口：<mark>nmap 192.168.206.140 -p 80</mark> 或者 <mark>nmap 192.168.206.140 -p 80,8011</mark></li><li>扫描指定范围的端口：<mark>nmap 192.168.206.140 -p 1-1024</mark></li><li>扫描全部端口（1-65535端口）：<mark>nmap 192.168.206.140 -p-</mark></li></ul> 
<h4><a id="319__53"></a>3.1.9 扩展</h4> 
<ul><li>如果我们是维护公司服务器的，有时候扫描出来公司服务器的端口开放着，但不知道这个端口是干什么的，是谁启动的。可以登录服务器，使用 <mark>lsof -i:port</mark> 查看端口<br> <img src="https://images2.imgbox.com/1a/ae/2oiXaOBE_o.png" alt="在这里插入图片描述"></li><li>比如这里扫描到8011端口不知道是什么，就可以登录对应服务器查看。会有详细描述，包括所属程序，启动用户和端口状态等信息。<br> <img src="https://images2.imgbox.com/c5/73/JBeLwmSH_o.png" alt="在这里插入图片描述"></li><li>如果从网页去访问8011端口，也能从服务看到对方的信息。</li></ul> 
<h3><a id="32_Host_Discovery_59"></a>3.2 主机探测（Host Discovery）</h3> 
<ul><li>也称为ping扫描或存活探测，用于检测网络上的活动主机。它能通过多种方式（如ICMP、TCP、UDP等）来确定哪些主机在线。</li></ul> 
<h4><a id="321__61"></a>3.2.1 扫描单个主机</h4> 
<ul><li>命令：<mark>nmap -sP 192.168.1.2</mark><br> <img src="https://images2.imgbox.com/76/a9/G5CvEvaC_o.png" alt="在这里插入图片描述"></li><li>如果主机在线，会显示Host is up<br> <img src="https://images2.imgbox.com/d0/87/znLJTzFQ_o.png" alt="在这里插入图片描述"></li><li>扫描一个不存在的主机，会报Host seems down，主机宕机。</li></ul> 
<h4><a id="322_IP_67"></a>3.2.2 扫描一个IP地址范围</h4> 
<ul><li>命令：<mark>nmap -sP 192.168.1.1-255</mark>或者<mark>nmap -sP 192.168.1.1/24</mark><br> <img src="https://images2.imgbox.com/1f/77/1LzOvMOs_o.png" alt="在这里插入图片描述"></li><li>在1-255网段，扫描到了三个在线的主机。</li></ul> 
<h3><a id="33__71"></a>3.3 操作系统类型检测</h3> 
<ul><li>命令：<mark>nmap -O 192.168.206.140</mark></li><li>用于探测目标主机运行的操作系统类型和版本。<br> <img src="https://images2.imgbox.com/de/01/4URl10qi_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="34_Nmap_75"></a>3.4 Nmap防火墙</h3> 
<ul><li>nmap扫描出来的端口状态 
  <ul><li>open: 端口开放</li><li>filtered: 端口被防火墙或安全软件阻止了，也可能是网络堵塞</li><li>closed: 端口关闭</li></ul> </li><li>如果扫描时发现有的端口被防火墙阻止了，可通过以下方法绕过防火墙 
  <ul><li>-PS: 实施TCP SYN ping扫描绕过防火墙</li><li>-PA: 只扫描ACK包，可绕过防火墙</li><li>-PU: 只对目标进行udp ping扫描。这种类型的扫描会发送UDP包来获取一个响应，可绕过防火墙。</li><li>-PP: 进行一个ICMP时间戳ping扫描，可绕过防火墙</li><li>-PE: 进行一个IEMP在指定的系统上输出ping，可绕过防火墙</li><li>-Pn: 不采用ping方式扫描，可绕过防火墙</li><li>-sA: 用于发现防火墙规则</li></ul> </li></ul> 
<h3><a id="35__88"></a>3.5 结果导出</h3> 
<ul><li>可以把扫描结果导出到文件中</li><li>命令：<mark>nmap 192.168.206.140 -oN res.txt</mark></li><li>命令：<mark>nmap 192.168.206.140 -oX res.xml</mark></li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d1135436f4e3d3c01533a892272395cf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于Springboot的艺体培训机构业务管理系统（有报告）。Javaee项目，springboot项目。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9f9bf97ea8c204557f215a72c53c1db9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【力扣】26.删除有序数组中的重复项、80.删除有序数组中的重复项Ⅱ</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>