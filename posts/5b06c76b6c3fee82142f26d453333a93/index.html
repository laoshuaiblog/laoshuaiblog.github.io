<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ListView，Spinner - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/5b06c76b6c3fee82142f26d453333a93/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="ListView，Spinner">
  <meta property="og:description" content="一、ListView 定义：ListView控件: 以垂直列表的方式显示数据内容，用户用上下滑动的方式查看数据，并且能够根据数据的长度自适应屏幕显示
数据源----绑定----&amp;gt; 适配器adpater----传递view---&amp;gt;listview（相当于很多组的view）
ListView 项目框架:
实现效果：
MainActivity
//省略import public class MainActivity extends AppCompatActivity { private ListView lv; private String[]names = {&#34;iu1&#34;,&#34;iu2&#34;,&#34;iu3&#34;,&#34;iu4&#34;,&#34;iu5&#34;,&#34;iu6&#34;}; private int[] imageids = {R.drawable.iu1,R.drawable.iu2,R.drawable.iu3,R.drawable.iu4,R.drawable.iu5,R.drawable.iu6}; // R.drawable.iu1 这个返回的是一个数字 所以这是一个 整形数组 private List&amp;lt;Animal&amp;gt; ls; //创建一个 animals数组 @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); initialdata(); //初始化上面的 ls数组 lv=findViewById(R.id.lv1); //先给 listview这个整体找到对应的layout文件 再用适配器填充数据 lv.setAdapter(new AnimalAdapter()); //适配器是我们自己定义的适配器 lv.setOnItemClickListener(new AdapterView.OnItemClickListener() { @Override public void onItemClick(AdapterView&amp;lt;?&amp;gt; adapterView, View view, int i, long l) { Toast.">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-11-27T16:46:20+08:00">
    <meta property="article:modified_time" content="2022-11-27T16:46:20+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ListView，Spinner</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、ListView</h2> 
<p><strong>定义：</strong>ListView控件: 以垂直列表的方式显示数据内容，用户用上下滑动的方式查看数据，并且能够根据数据的长度自适应屏幕显示<br> 数据源----绑定----&gt; 适配器adpater----传递view---&gt;listview（相当于很多组的view）</p> 
<p> </p> 
<p class="img-center"><img alt="" height="206" src="https://images2.imgbox.com/11/c4/1AcHlSsm_o.png" width="388"></p> 
<p></p> 
<p><strong>ListView 项目框架:</strong></p> 
<p><img alt="" height="367" src="https://images2.imgbox.com/96/ba/hPySqnqy_o.png" width="284"></p> 
<p><strong> 实现效果：</strong></p> 
<p><img alt="" height="511" src="https://images2.imgbox.com/68/05/tTyoqwqg_o.png" width="253"></p> 
<p><strong>MainActivity</strong></p> 
<pre><code class="language-java">//省略import

public class MainActivity extends AppCompatActivity {
    private ListView lv;
    private String[]names = {"iu1","iu2","iu3","iu4","iu5","iu6"};
    private int[] imageids = {R.drawable.iu1,R.drawable.iu2,R.drawable.iu3,R.drawable.iu4,R.drawable.iu5,R.drawable.iu6};
    // R.drawable.iu1 这个返回的是一个数字 所以这是一个 整形数组
    private List&lt;Animal&gt; ls; //创建一个 animals数组
    @Override


    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        initialdata(); //初始化上面的 ls数组


        lv=findViewById(R.id.lv1); //先给 listview这个整体找到对应的layout文件 再用适配器填充数据
        lv.setAdapter(new AnimalAdapter()); //适配器是我们自己定义的适配器


        lv.setOnItemClickListener(new AdapterView.OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {
                Toast.makeText(MainActivity.this,"被点击的对象是: " +ls.get(i).getName(),Toast.LENGTH_SHORT).show();
            }
        });
    }
    //初始化数组的方法 将图片的id 和 名字 都放入ls数组中
    public void initialdata(){
        ls = new ArrayList&lt;Animal&gt;();
        for(int i=0;i&lt;names.length;i++){
            ls.add(new Animal(imageids[i],names[i]));
        }
    }

    private class AnimalAdapter extends BaseAdapter{
        public AnimalAdapter() {
        }

        @Override
        public int getCount() {
            return ls.size();
        }

        @Override
        public Object getItem(int i) {
            return null;
        }
        @Override
        public long getItemId(int i) {
            return 0;
        }

        @Override
        // 适配器最重要的 方法 将 view 对象 传递给 ListView
        public View getView(int i, View view, ViewGroup viewGroup) {
            Animal animal = ls.get(i); // 先取到 ls 数组 对应position上的 animal对象，animal由 imageid 和 name 组成
            View view1 = View.inflate(MainActivity.this,R.layout.item,null);
            //调用view 的 inflate方法 将条目布局文件（item.xml） 转换成 于此对应的view 对象 也就是 条目对象
            ImageView iv = view1.findViewById(R.id.iv_item);
            iv.setImageResource(animal.getImageid()); // 调用animal对象的get方法,用setImageResource方法 根据id 获取对应图片
            TextView tv = view1.findViewById(R.id.tv_item);
            tv.setTextSize(60);
            tv.setTextColor(Color.BLUE);
            tv.setText(animal.getName());
            return view1;
        }
    }
}</code></pre> 
<p><strong> Animal</strong></p> 
<pre><code class="language-java">public class Animal {
    private int imageid;
    private String name;
    public Animal(){

    }

    public Animal(int imageid, String name) {
        this.imageid = imageid;
        this.name = name;
    }

    public int getImageid() {
        return imageid;
    }

    public void setImageid(int imageid) {
        this.imageid = imageid;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}</code></pre> 
<p><strong> activity_main.xml</strong></p> 
<pre><code class="language-XML">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity"
    android:orientation="vertical"&gt;

    &lt;ListView
        android:id="@+id/lv1"
        android:layout_width="match_parent"
        android:layout_height="match_parent" /&gt;
    
&lt;/LinearLayout&gt;</code></pre> 
<p><strong> item.xml</strong></p> 
<pre><code class="language-XML">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"&gt;
    &lt;ImageView
        android:id="@+id/iv_item"
        android:layout_width="250dp"
        android:layout_height="250dp"/&gt;
    &lt;TextView
        android:id="@+id/tv_item"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" /&gt;

&lt;/LinearLayout&gt;</code></pre> 
<h2>二、Spinner</h2> 
<p><img alt="" height="119" src="https://images2.imgbox.com/ca/f4/tFDtAzfN_o.png" width="486"></p> 
<p>Spinner是下拉列表，展示方式有两种，一种是在当前下拉框的正下方展示列表，此时把spinnerMode属性设置为dropdown;另一种是在页面中部以对话框形式展示列表，此时把SpinnerMode属性设置为dialog</p> 
<p>dialog如图：</p> 
<p class="img-center"><img alt="" height="296" src="https://images2.imgbox.com/e0/70/7KAxcUaT_o.png" width="145"></p> 
<p>dropdown如图：</p> 
<p> </p> 
<p class="img-center"><img alt="" height="284" src="https://images2.imgbox.com/67/ec/JASj1AwY_o.png" width="141"></p> 
<p><strong> 项目布局：</strong></p> 
<p><img alt="" height="211" src="https://images2.imgbox.com/81/2a/XTScrfTR_o.png" width="227"></p> 
<p><strong> MainActivity</strong></p> 
<pre><code class="hljs">public class MainActivity extends AppCompatActivity {
    private Spinner sp;
    private List&lt;String&gt; ls ;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        //实例化列表
        ls = new ArrayList&lt;String&gt;();
        ls.add("iu1");
        ls.add("iu2");
        ls.add("iu3");
        ls.add("iu4");
        ls.add("iu5");
        ls.add("iu6");

        sp = findViewById(R.id.sp);
        sp.setAdapter(new MyAdapter());
        sp.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
            @Override
            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {
                Toast.makeText(MainActivity.this,ls.get(i).toString(),Toast.LENGTH_SHORT).show();
            }

            @Override
            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {
            }
        });
    }

    private class MyAdapter extends BaseAdapter{
        public MyAdapter() {
        }

        @Override
        public int getCount() {
            return ls.size();
        }

        @Override
        public Object getItem(int i) {
            return null;
        }

        @Override
        public long getItemId(int i) {
            return 0;
        }

        @Override
        public View getView(int i, View view, ViewGroup viewGroup) {
            String name = ls.get(i);
            View view1  = View.inflate(MainActivity.this,R.layout.item,null);
            TextView tv = view1.findViewById(R.id.tv);
            tv.setText(name);
        // 布局文件中 设置了文字大小，这里就不需要再设置了，如果再设置就会覆盖
            return view1;
        }
    }
}</code></pre> 
<p><strong>activity_main.xml</strong></p> 
<pre><code class="hljs">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    tools:context=".MainActivity"&gt;

    &lt;!--spinner 是外面的容器，里面是item，所以右边会留白--&gt;
    &lt;Spinner
        android:id="@+id/sp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:spinnerMode="dialog"/&gt;

&lt;/LinearLayout&gt;</code></pre> 
<p><strong>item.xml</strong></p> 
<pre><code class="hljs">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"&gt;
    &lt;TextView
        android:id="@+id/tv"
        android:textSize="70sp"
        android:layout_width="wrap_content"
        android:textColor="#88005EFF"
        android:layout_height="wrap_content"/&gt;
&lt;/LinearLayout&gt;</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/722c5ce57eadc650f7f14eaa52af1376/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python小游戏——俄罗斯方块</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e74f08ec927b16e36f1f265dc2681e3a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MSSQL 快速批量删除数据库里所有的表</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>