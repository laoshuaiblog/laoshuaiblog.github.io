<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>hadoop搭建 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/d88d398cf9376ab9c65df54fd445cdeb/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="hadoop搭建">
  <meta property="og:description" content="需要的安装包：
1.jdk压缩包 2.hadoop压缩包 请前往百度云上上下载相关安装包(密码：8op1)
开始搭建hadoop集群
一.使用VMvare创建两个虚拟机，我使用的是ubuntu16.04版本的,并关闭全部虚拟机的防火墙
1.因为默认的虚拟机主机名都是ubuntu，所以为了便于虚拟机的识别，创建完成虚拟机后我们对虚拟机名进行修改，我们把用于主节点的虚拟机名称设为master(按自己的喜好创建)，把用于从节点的虚拟机名称设为slave1
修改主机名的命令:sudo gedit /etc/hostname
把原主机名ubuntu改为master（在从主机上则改为slave1)
2.为了虚拟机之间能ping通，需要修改虚拟机的ip地址（这里以在master机器操作为例子，从节点的虚拟机也要进行一致的操作）
命令：sudo gedit /etc/hosts 把/etc/hosts中yangcx-virtual-machine修改为刚刚改过的主机名master，同时将前面的ip地址改为实际的ip地址
怎么知道自己虚拟机的ip地址?
命令：ifconfig -a
上图红框标记的就是虚拟机的真实ip地址，因此我们把/etc/hosts中的内容修改为：
slave1的ip地址就是从虚拟机slave1的真实ip地址。同样，我们在slave1虚拟机上也要进行这一步操作。
3.关闭虚拟机的防火墙 一般来说，ubuntu默认都是安装防火墙软件ufw的，使用命令 sudo ufw version,如果出现ufw的版本信息，则说明已有ufw 使用命令 sudo ufw status查看防火墙开启状态：如果是active则说明开启，如果是inactive则说明关闭 开启/关闭防火墙 (默认设置是’disable’) sudo ufw enable|disable 我们使用sudo ufw disble来关闭防火墙，并再次用sudo ufw status 查看防火墙是否关闭 二.安装jdk(所有虚拟机都要安装配置)
将jdk的压缩文件拖进master和slave1虚拟机中，压缩(右键文件，extract here)，或者用命令行
tar -zxvf jdk1.8.0_161.tar.gz(使用自己的压缩文件名)
配置环境jdk环境：
命令：sudo gedit /etc/profile 将jdk的路径添加到文件后面(根据自己的文件路径来，我这里jdk1.8.0_161文件夹的路径是/home/hadoop/java)
export JAVA_HOME=/home/hadoop/java/jdk1.8.0_161
export JRE_HOME=/home/hadoop/java/jdk1.8.0_161/jre
export CLASSPATH=.: J A V A H O M E / l i b : JAVA_HOME/lib: JAVAH​OME/lib:JRE_HOME/lib:$CLASSPATH">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-11-03T22:48:20+08:00">
    <meta property="article:modified_time" content="2019-11-03T22:48:20+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">hadoop搭建</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>需要的安装包：</p> 
<pre><code>1.jdk压缩包

2.hadoop压缩包
</code></pre> 
<p>请前往百度云上上下载相关安装包(密码：8op1)</p> 
<p>开始搭建hadoop集群</p> 
<p>一.使用VMvare创建两个虚拟机，我使用的是ubuntu16.04版本的,并关闭全部虚拟机的防火墙<br> 1.因为默认的虚拟机主机名都是ubuntu，所以为了便于虚拟机的识别，创建完成虚拟机后我们对虚拟机名进行修改，我们把用于主节点的虚拟机名称设为master(按自己的喜好创建)，把用于从节点的虚拟机名称设为slave1</p> 
<p>修改主机名的命令:sudo gedit /etc/hostname</p> 
<p>把原主机名ubuntu改为master（在从主机上则改为slave1)<br> 2.为了虚拟机之间能ping通，需要修改虚拟机的ip地址（这里以在master机器操作为例子，从节点的虚拟机也要进行一致的操作）</p> 
<pre><code>命令：sudo gedit /etc/hosts
</code></pre> 
<p>把/etc/hosts中yangcx-virtual-machine修改为刚刚改过的主机名master，同时将前面的ip地址改为实际的ip地址</p> 
<p>怎么知道自己虚拟机的ip地址?</p> 
<p>命令：ifconfig -a</p> 
<p>上图红框标记的就是虚拟机的真实ip地址，因此我们把/etc/hosts中的内容修改为：</p> 
<p>slave1的ip地址就是从虚拟机slave1的真实ip地址。同样，我们在slave1虚拟机上也要进行这一步操作。</p> 
<pre><code>    3.关闭虚拟机的防火墙

        一般来说，ubuntu默认都是安装防火墙软件ufw的，使用命令 sudo ufw version,如果出现ufw的版本信息，则说明已有ufw

        使用命令 sudo ufw status查看防火墙开启状态：如果是active则说明开启，如果是inactive则说明关闭

        开启/关闭防火墙 (默认设置是’disable’)


        sudo ufw enable|disable

         我们使用sudo ufw disble来关闭防火墙，并再次用sudo ufw status  查看防火墙是否关闭
</code></pre> 
<p>二.安装jdk(所有虚拟机都要安装配置)<br> 将jdk的压缩文件拖进master和slave1虚拟机中，压缩(右键文件，extract here)，或者用命令行</p> 
<p>tar -zxvf jdk1.8.0_161.tar.gz(使用自己的压缩文件名)</p> 
<p>配置环境jdk环境：</p> 
<pre><code>命令：sudo gedit /etc/profile
</code></pre> 
<p>将jdk的路径添加到文件后面(根据自己的文件路径来，我这里jdk1.8.0_161文件夹的路径是/home/hadoop/java)</p> 
<p>export JAVA_HOME=/home/hadoop/java/jdk1.8.0_161<br> export JRE_HOME=/home/hadoop/java/jdk1.8.0_161/jre<br> export CLASSPATH=.:<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         J 
        
       
         A 
        
       
         V 
        
        
        
          A 
         
        
          H 
         
        
       
         O 
        
       
         M 
        
       
         E 
        
       
         / 
        
       
         l 
        
       
         i 
        
       
         b 
        
       
         : 
        
       
      
        JAVA_HOME/lib: 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.09618em;">J</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right: 0.22222em;">V</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328331em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="mord mathdefault" style="margin-right: 0.05764em;">E</span><span class="mord">/</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">:</span></span></span></span></span>JRE_HOME/lib:$CLASSPATH</p> 
<p>export PATH=<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         J 
        
       
         A 
        
       
         V 
        
        
        
          A 
         
        
          H 
         
        
       
         O 
        
       
         M 
        
       
         E 
        
       
         / 
        
       
         b 
        
       
         i 
        
       
         n 
        
       
         : 
        
       
      
        JAVA_HOME/bin: 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.09618em;">J</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right: 0.22222em;">V</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328331em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="mord mathdefault" style="margin-right: 0.05764em;">E</span><span class="mord">/</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">:</span></span></span></span></span>JRE_HOME/bin:<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         J 
        
       
         A 
        
       
         V 
        
        
        
          A 
         
        
          H 
         
        
       
         O 
        
       
         M 
        
       
         E 
        
       
         : 
        
       
      
        JAVA_HOME: 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord mathdefault" style="margin-right: 0.09618em;">J</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right: 0.22222em;">V</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328331em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="mord mathdefault" style="margin-right: 0.05764em;">E</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">:</span></span></span></span></span>PATH</p> 
<p>保存退出，为了使配置立即生效，键入命令:source /etc/profile,或者重启虚拟机,命令：shutdown -r now</p> 
<p>检查路径jdk是否安装成功，键入命令：java -version</p> 
<p>如果出现了版本信息，则恭喜配置成功；</p> 
<p>三.安装SSH服务</p> 
<p>1.首先确保虚拟机能连上网</p> 
<p>2.更新源列表：sudo apt-get update</p> 
<p>3.安装ssh:输入"sudo apt-get install openssh-server"–&gt;回车–&gt;输入"y"–&gt;回车–&gt;安装完成。</p> 
<p>4.查看ssh服务是否启动<br> 打开"终端窗口"，输入"sudo ps -e |grep ssh"–&gt;回车–&gt;有sshd,说明ssh服务已经启动，如果没有启动，输入"sudo service ssh start"–&gt;回车–&gt;ssh服务就会启动。</p> 
<p>四、建立ssh无密码登录本机<br> ssh生成密钥有rsa和dsa两种生成方式，默认情况下采用rsa方式。<br> 1、创建ssh-key，，这里我们采用rsa方式<br> ssh-keygen -t rsa -P “” //(P是要大写的，后面跟"")</p> 
<p>（注：回车后会在~/.ssh/下生成两个文件：id_rsa和id_rsa.pub这两个文件是成对出现的）<br> 2、进入~/.ssh/目录下，将id_rsa.pub追加到authorized_keys授权文件中，开始是没有authorized_keys文件的<br> cd ~/.ssh</p> 
<p>cat id_rsa.pub &gt;&gt; authorized_keys</p> 
<p>完成后就可以无密码登录本机了。</p> 
<p>3、登录localhost<br> ssh localhost</p> 
<p>( 注：当ssh远程登录到其它机器后，现在你控制的是远程的机器，需要执行退出命令才能重新控制本地主机。)<br> 4、执行退出命令<br> exit</p> 
<p>1~4步在master和slave1两台虚拟机上都是配置</p> 
<p>5.配置master无密码登陆slave1</p> 
<p>mater主机中输入命令复制一份公钥到home中</p> 
<p>cp .ssh/id_rsa.pub ~/id_rsa_master.pub<br> 1<br> 把master的home目录下的id_rsa_master.pub拷到slave1的home下(我的做法是先拖到windows桌面上，在拖进slave1虚拟机中)</p> 
<p>slave1的home目录下分别输入命令</p> 
<p>cat id_rsa_master.pub &gt;&gt; .ssh/authorized_keys<br> 1<br> 至此实现了mater对slave1的无密码登陆</p> 
<p>以下的步骤只在master上进行（除了hadoop的环境变量</p> 
<p>配置在slave1上也要进行）</p> 
<p>五.安装hadoop</p> 
<p>1.将hadoop压缩包拖进master虚拟机中，解压(我这里解压的路径是/home/hadoop/hadoop-2.7.3)</p> 
<p>2.在hadoop-2.7.3文件夹里面先创建4个文件夹：</p> 
<pre><code>hadoop-2.7.3/hdfs
hadoop-2.7.3/hdfs/tmp
hadoop-2.7.3/hdfs/name
hadoop-2.7.3/hdfs/data
</code></pre> 
<p>3.配置 hadoop的配置文件</p> 
<p>先进入配置文件的路径：cd /home/hadoop/hadoop-2.7.3/etc/hadoop(再次强调，使用自己的路径)</p> 
<p>输入：ls<br> 查看该路径下的文件列表</p> 
<p>被红框框住的文件是我们要进程配置的文件</p> 
<pre><code>1.首先配置core-site.xml文件
</code></pre> 
<p>sudo gedit core-site.xml<br> 在中加入以下代码：</p> hadoop.tmp.dir file:/home/hadoop/hadoop-2.7.3/hdfs/tmp A base for other temporary directories. io.file.buffer.size 131072 fs.defaultFS hdfs://master:9000 注意：第一个属性中的value和我们之前创建的/hadoop-2.7.3/hdfs/tmp路径要一致。 
<pre><code>2.配置 hadoop-env.sh文件
</code></pre> 
<p>sudo gedit hadoop-env.sh<br> 将JAVA_HOME文件配置为本机JAVA_HOME路径</p> 
<p>3.配置 yarn-env.sh</p> 
<p>sudo gedit yarn-env.sh<br> 将其中的JAVA_HOME修改为本机JAVA_HOME路径(先把这一行的#去掉)</p> 
<p>4.配置hdfs-site.xml</p> 
<p>sudo gedit hdfs-site.xml<br> 在中加入以下代码<br> <br> dfs.replication<br> 1<br> <br> <br> dfs.namenode.name.dir<br> file:/home/hadoop/hadoop-2.7.3/hdfs/name<br> true<br> <br> <br> dfs.datanode.data.dir<br> file:/home/hadoop/hadoop-2.7.3/hdfs/data<br> true<br> <br> <br> dfs.namenode.secondary.http-address<br> master:9001<br> <br> <br> dfs.webhdfs.enabled<br> true<br> <br> <br> dfs.permissions<br> false<br> <br> 注意(其中第二个dfs.namenode.name.dir和dfs.datanode.data.dir的value和之前创建的/hdfs/name和/hdfs/data路径一致；因为这里只有一个从主机slave1，所以dfs.replication设置为1)</p> 
<p>5 .复制mapred-site.xml.template文件，并命名为mapred-site.xml</p> 
<p>cp mapred-site.xml.template mapred-site.xml<br> 配置 mapred-site.xml,在标签中添加以下代码<br> <br> mapreduce.framework.name<br> yarn<br> <br> 6.配置yarn-site.xml</p> 
<p>sudo gedit yarn-site.xml<br> 在标签中添加以下代码</p> yarn.resourcemanager.address master:18040 yarn.resourcemanager.scheduler.address master:18030 yarn.resourcemanager.webapp.address master:18088 yarn.resourcemanager.resource-tracker.address master:18025 yarn.resourcemanager.admin.address master:18141 yarn.nodemanager.aux-services mapreduce_shuffle yarn.nodemanager.auxservices.mapreduce.shuffle.class org.apache.hadoop.mapred.ShuffleHandler 7.配置slaves 文件 
<p>sudo gedit slaves<br> 把原本的localhost删掉，改为slave1</p> 
<p>8.配置hadoop的环境，就像配置jdk一样</p> 
<p>sudo gedit /etc/profile<br> 根据hadoop文件夹的路径配置，以我的路径/home/hadoop/hadoop-2.7.3 为例</p> 
<p>export HADOOP_HOME=/home/hadoop/hadoop-2.7.3<br> export PATH="<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          H 
         
        
          A 
         
        
          D 
         
        
          O 
         
        
          O 
         
         
         
           P 
          
         
           H 
          
         
        
          O 
         
        
          M 
         
        
          E 
         
        
          / 
         
        
          b 
         
        
          i 
         
        
          n 
         
        
          : 
         
        
       
         HADOOP_HOME/bin: 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.08125em;">H</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right: 0.02778em;">D</span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328331em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="mord mathdefault" style="margin-right: 0.05764em;">E</span><span class="mord">/</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">:</span></span></span></span></span>HADOOP_HOME/sbin:<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          A 
         
        
          T 
         
        
          H 
         
        
          " 
         
        
          e 
         
        
          x 
         
        
          p 
         
        
          o 
         
        
          r 
         
        
          t 
         
        
          H 
         
        
          A 
         
        
          D 
         
        
          O 
         
        
          O 
         
         
         
           P 
          
         
           C 
          
         
        
          O 
         
        
          N 
         
         
         
           F 
          
         
           D 
          
         
        
          I 
         
        
          R 
         
        
          = 
         
        
       
         PATH" export HADOOP_CONF_DIR= 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.13889em;">P</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault" style="margin-right: 0.08125em;">H</span><span class="mord">"</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right: 0.08125em;">H</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right: 0.02778em;">D</span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328331em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.07153em;">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328331em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right: 0.07847em;">I</span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span></span></span></span></span>HADOOP_HOME/etc/hadoop<br> 键入命令 source /etc/profile 使配置立即生效</p> 
<p>9.接下来，将hadoop传到slave1虚拟机上面去</p> 
<p>scp -r hadoop-2.7.1 hadoop@slave1:~/ <br> 注意：hadoop是虚拟机的用户名，创建slave1时设定的</p> 
<p>传过去后，在slave1上面同样对hadoop进行路径配置，和第8步一样</p> 
<p>9.初始化hadoop</p> 
<p>hdfs name -format<br> 10.开启hadoop</p> 
<p>两种方法：</p> 
<p>start-all.sh<br> 先start-dfs.sh,再start-yarn.sh<br> 如果在mater上面键入jps后看到</p> 
<p>在slave1上键入jps后看到</p> 
<p>则说明集群搭建成功</p> 
<p>六：最后用自带的样例测试hadoop集群能不能正常跑任务</p> 
<p>使用命令</p> 
<p>hadoop jar /home/hadoop/hadoop-2.7.3/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi 10 10<br> 用来求圆周率，pi是类名，第一个10表示Map次数，第二个10表示随机生成点的次数(与计算原理有关)</p> 
<p>最后出现结果</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0b5b089c41bb018374292f62c5752e38/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">antd中如何给form表单做数据的返显</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c03769251867dc85311b94c41c47fb1c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">详解聚类评估</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>