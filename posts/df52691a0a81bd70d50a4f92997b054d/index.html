<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Python-opencv3.4】视频基本操作（帧率，总视频帧数、从第N帧开始播放、播放进度显示、按键控制视频） - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/df52691a0a81bd70d50a4f92997b054d/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="【Python-opencv3.4】视频基本操作（帧率，总视频帧数、从第N帧开始播放、播放进度显示、按键控制视频）">
  <meta property="og:description" content="一、视频基本操作： 1.读取视频帧率、分辨率、读取视频总帧数、起始播放帧数2.使用键盘控制视频3.显示视频播放进度 二、基本操作对应代码 【完整代码】提取码：0vvb 1.读取视频帧率、分辨率、读取视频总帧数 #—————————————————————————————— #————————添加自己的视频播放路径——————————— video_path=&#34;F:/Zeng-20180622/Video180621/1.flv&#34; # 创建一个视频读写类 video_capture=cv2.VideoCapture(video_path) #读取视频的fps, 大小 fps=video_capture.get(cv2.CAP_PROP_FPS) size=(video_capture.get(cv2.CAP_PROP_FRAME_WIDTH),video_capture.get(cv2.CAP_PROP_FRAME_HEIGHT)) print(&#34;fps: {}\nsize: {}&#34;.format(fps,size)) #读取视频时长（帧总数） total = int(video_capture.get(cv2.CAP_PROP_FRAME_COUNT)) print(&#34;[INFO] {} total frames in video&#34;.format(total)) #设定从视频的第几帧开始读取 #From : https://blog.csdn.net/luqinwei/article/details/87973472 frameToStart = 2000 video_capture.set(cv2.CAP_PROP_POS_FRAMES, frameToStart); 2.使用键盘控制视频 #--------键盘控制视频--------------- #读取键盘值 key = cv2.waitKey(1) &amp;amp; 0xff #设置空格按下时暂停 if key == ord(&#34; &#34;): cv2.waitKey(0) #设置Q按下时退出 if key == ord(&#34;q&#34;): break 3.显示视频播放进度 #显示当前视频已播放时间和总时间 #计算当前 now_seconds=int(current_frame /fps%60) now_minutes=int(current_frame/fps/60) total_second=int(total /fps%60) total_minutes=int(total/fps/60) # { &amp;lt;参数序号&amp;gt; : &amp;lt;填充&amp;gt; &amp;lt;对齐）&amp;gt; &amp;lt;宽度&amp;gt; &amp;lt;,&amp;gt; &amp;lt;.">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-05-30T22:32:54+08:00">
    <meta property="article:modified_time" content="2019-05-30T22:32:54+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Python-opencv3.4】视频基本操作（帧率，总视频帧数、从第N帧开始播放、播放进度显示、按键控制视频）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、视频基本操作：</h2> 
<ul><li>1.读取视频帧率、分辨率、读取视频总帧数、起始播放帧数</li><li>2.使用键盘控制视频</li><li>3.显示视频<span style="color:#f33b45;"><strong>播放进度</strong></span></li><li><img alt="" class="has" height="303" src="https://images2.imgbox.com/7f/2a/W95Xt6KS_o.gif" width="919"></li></ul> 
<hr> 
<h2>二、基本操作对应代码</h2> 
<h2>【<a href="https://pan.baidu.com/s/1zRJpTR4mXet4-hqHAoez_Q%C2%A0" rel="nofollow">完整代码</a>】提取码：0vvb <br>  </h2> 
<h4><span style="color:#3399ea;">1.读取视频帧率、分辨率、读取视频总帧数</span></h4> 
<pre class="has"><code class="language-python">#——————————————————————————————
#————————添加自己的视频播放路径———————————
video_path="F:/Zeng-20180622/Video180621/1.flv"

# 创建一个视频读写类
video_capture=cv2.VideoCapture(video_path)

#读取视频的fps,  大小
fps=video_capture.get(cv2.CAP_PROP_FPS)
size=(video_capture.get(cv2.CAP_PROP_FRAME_WIDTH),video_capture.get(cv2.CAP_PROP_FRAME_HEIGHT))
print("fps: {}\nsize: {}".format(fps,size))

#读取视频时长（帧总数）
total = int(video_capture.get(cv2.CAP_PROP_FRAME_COUNT))
print("[INFO] {} total frames in video".format(total))

#设定从视频的第几帧开始读取
#From :  https://blog.csdn.net/luqinwei/article/details/87973472
frameToStart = 2000
video_capture.set(cv2.CAP_PROP_POS_FRAMES, frameToStart);</code></pre> 
<h4><span style="color:#3399ea;">2.使用键盘控制视频</span></h4> 
<pre class="has"><code class="language-python">#--------键盘控制视频---------------
    #读取键盘值
    key = cv2.waitKey(1) &amp; 0xff
    #设置空格按下时暂停
    if key == ord(" "):
        cv2.waitKey(0)
    #设置Q按下时退出
    if key == ord("q"):
        break</code></pre> 
<h4><span style="color:#3399ea;">3.显示视频<strong>播放进度</strong></span></h4> 
<pre class="has"><code class="language-python">    #显示当前视频已播放时间和总时间
    #计算当前
    now_seconds=int(current_frame /fps%60)
    now_minutes=int(current_frame/fps/60)
    total_second=int(total /fps%60)
    total_minutes=int(total/fps/60)
    #   { &lt;参数序号&gt; : &lt;填充&gt; &lt;对齐）&gt; &lt;宽度&gt; &lt;,&gt; &lt;.精度&gt; &lt;类型&gt;}.
    Time_now_vs_total="Time:{:&gt;3}:{:&gt;02}|{:&gt;3}:{:0&gt;2}".format(now_minutes,now_seconds,total_minutes,total_second)
    print(Time_now_vs_total)
</code></pre> 
<hr> 
<h2>三、展望</h2> 
<blockquote> 
 <p><strong>OpenCV有很多视频处理函数，有待进一步学习。（<a href="https://blog.csdn.net/luqinwei/article/details/87973472">图来源</a>）</strong></p> 
</blockquote> 
<p><img alt="" class="has" src="https://images2.imgbox.com/1d/e2/CJcZhCH5_o.jpg"></p> 
<hr> 
<h2>四、参考博文</h2> 
<p>python-opencv-视频处理常用函数：<a href="https://blog.csdn.net/luqinwei/article/details/87973472">https://blog.csdn.net/luqinwei/article/details/87973472</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/aee7468a42562cd1b3eca9f8e94236a9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C语言位操作</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fe53e7c602a42c6c6c090bac45c91cff/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python学海无涯路【第15回】：内置函数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>