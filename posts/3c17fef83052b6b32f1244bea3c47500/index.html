<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C语言--联合，枚举类型 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/3c17fef83052b6b32f1244bea3c47500/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="C语言--联合，枚举类型">
  <meta property="og:description" content="联合体和枚举类型简介 联合体简介使用联合 枚举类型enum常量C常量 赋值 联合体简介 联合体是一种数据类型，它能在同一个内存空间中存储不同的数据类型。
用法是，设计一种表示存储既无规律，事先也不知道顺序的混合类型。
创建联合体和结构体的方式相同：
union digit { int num; double score; char letter; }; 使用联合体声明变量的时候，编译器会分配联合声明中占用最大字节的类型。
union digit money;	//digit类型的联合变量,八字节 但需要注意的是，联合体只能存储一个值。
使用联合 示例
union digit money; money.num = 10;	//把10存储在money，占4字节 money.score = 1.0;	//清除10，存储1.0，占8字节 money.letter = &#39;s&#39;;	//清除1.0，存储s，占1字节 点运算符表示正在使用哪种数据类型。在联合中一次只存一个值。
用指针访问联合和结构体一样，用 -&amp;gt;运算符：
union digit* ptr = &amp;amp;money; int x = ptr-&amp;gt;num;	//合理 枚举类型 可以用枚举类型声明符号名称来表示整型常量。使用 enum关键字，可创建一个新类型并指定它可具有的值（其实enum常量是int 类型，因此，只要能使用int类型的地方就可以使用枚举类型）。枚举类型的目的是提高程序的可读性。
可以这样声明：
enum days { Sunday, Monday, Tuesday, Wednesday, Thurday, Friday, Saturday }; enum days week; 第一个声明中花括号内的表示符枚举了days变量可能有的值。这些符号常量被称为枚举符，有这样的用法：">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2021-08-08T18:21:12+08:00">
    <meta property="article:modified_time" content="2021-08-08T18:21:12+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C语言--联合，枚举类型</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>联合体和枚举类型简介</h4> 
 <ul><li><a href="#_1" rel="nofollow">联合体简介</a></li><li><ul><li><a href="#_21" rel="nofollow">使用联合</a></li></ul> 
  </li><li><a href="#_38" rel="nofollow">枚举类型</a></li><li><ul><li><a href="#enum_58" rel="nofollow">enum常量</a></li><li><ul><li><a href="#C_68" rel="nofollow">C常量</a></li></ul> 
   </li><li><a href="#_77" rel="nofollow">赋值</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>联合体简介</h2> 
<p>联合体是一种数据类型，它能在同一个内存空间中存储不同的数据类型。</p> 
<p>用法是，设计一种表示存储既无规律，事先也不知道顺序的混合类型。</p> 
<p>创建联合体和结构体的方式相同：</p> 
<pre><code class="prism language-javascript">union digit
<span class="token punctuation">{<!-- --></span>
	int num<span class="token punctuation">;</span>
	double score<span class="token punctuation">;</span>
	char letter<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>使用联合体声明变量的时候，编译器会分配联合声明中占用最大字节的类型。</p> 
<pre><code class="prism language-javascript">union digit money<span class="token punctuation">;</span>	<span class="token comment">//digit类型的联合变量,八字节</span>
</code></pre> 
<p>但需要注意的是，联合体只能存储一个值。</p> 
<h3><a id="_21"></a>使用联合</h3> 
<p>示例</p> 
<pre><code class="prism language-javascript">union digit money<span class="token punctuation">;</span>

	money<span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>	<span class="token comment">//把10存储在money，占4字节</span>
	money<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">;</span>	<span class="token comment">//清除10，存储1.0，占8字节</span>
	money<span class="token punctuation">.</span>letter <span class="token operator">=</span> <span class="token string">'s'</span><span class="token punctuation">;</span>	<span class="token comment">//清除1.0，存储s，占1字节</span>
</code></pre> 
<p>点运算符表示正在使用哪种数据类型。在联合中一次只存一个值。<br> 用指针访问联合和结构体一样，用 -&gt;运算符：</p> 
<pre><code class="prism language-javascript">union digit<span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>money<span class="token punctuation">;</span>

	int x <span class="token operator">=</span> ptr<span class="token operator">-</span><span class="token operator">&gt;</span>num<span class="token punctuation">;</span>	<span class="token comment">//合理</span>
</code></pre> 
<h2><a id="_38"></a>枚举类型</h2> 
<p>可以用枚举类型声明符号名称来表示整型常量。使用 enum关键字，可创建一个新类型并指定它可具有的值（其实enum常量是int 类型，因此，只要能使用int类型的地方就可以使用枚举类型）。枚举类型的目的是提高程序的可读性。<br> 可以这样声明：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">enum</span> days
	<span class="token punctuation">{<!-- --></span>
		Sunday<span class="token punctuation">,</span> Monday<span class="token punctuation">,</span> Tuesday<span class="token punctuation">,</span> Wednesday<span class="token punctuation">,</span> Thurday<span class="token punctuation">,</span> Friday<span class="token punctuation">,</span> Saturday
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">enum</span> days week<span class="token punctuation">;</span>
</code></pre> 
<p>第一个声明中花括号内的表示符枚举了days变量可能有的值。这些符号常量被称为<strong>枚举符</strong>，有这样的用法：</p> 
<pre><code class="prism language-javascript">week <span class="token operator">=</span> Sunday<span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span>week <span class="token operator">==</span> Thurday<span class="token punctuation">)</span>
		<span class="token operator">...</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>week <span class="token operator">=</span> Monday<span class="token punctuation">;</span> week <span class="token operator">&lt;=</span> Saturday<span class="token punctuation">;</span> week<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token operator">...</span><span class="token punctuation">;</span>
</code></pre> 
<p>在C语言中允许枚举变量使用++运算符， 但C++标准不允许。把上面的week声明为int类型才能兼容。</p> 
<h3><a id="enum_58"></a>enum常量</h3> 
<p>程序中的Sunday, Monday这些标识符，技术层面上看，都是int类型的常量。例如：</p> 
<pre><code class="prism language-javascript"><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Sunday = %d, Monday = %d\n"</span><span class="token punctuation">,</span> Sunday<span class="token punctuation">,</span> Monday<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>输出结果：<br> <img src="https://images2.imgbox.com/9b/13/EDaS2iro_o.png" alt="在这里插入图片描述"></p> 
<p>因此只要能使用整型常量的地方就可以使用枚举常量。<br> 例如在声明数组时，可以用枚举常量表示数组的大小；在switch语句中可以把枚举常量作为标签。</p> 
<h4><a id="C_68"></a>C常量</h4> 
<p>说到枚举类型，再把以前学过的常量都复习一下：<br> C语言有这些常量：</p> 
<ol><li>字面常量，0, 3, “Program”，这些属于字面常量。</li><li>宏常量：用define定义的常量。</li><li>常变量：用const关键字限定的变量。</li><li>枚举常量：向上面的Sunday, Monday这些枚举类型中的枚举符。</li></ol> 
<h3><a id="_77"></a>赋值</h3> 
<p>在枚举声明中，可以为枚举常量指定整数值：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">enum</span> days
	<span class="token punctuation">{<!-- --></span>
		Sunday <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> Monday<span class="token punctuation">,</span> Tuesday<span class="token punctuation">,</span> Wednesday<span class="token punctuation">,</span> Thurday<span class="token punctuation">,</span> Friday<span class="token punctuation">,</span> Saturday
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>对第一个常量赋值，那后面的被赋予后续的值：<br> <img src="https://images2.imgbox.com/ad/21/EH0370P6_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c1ffc2225ea71f67473961ae1cc59000/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">王者荣耀4月14日服务器维护,王者荣耀4月14日更新了什么内容？4月14日更新内容介绍...</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3305efb13a4b65f5ee17f1e17e444841/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">远程修改服务器代码,远程 服务器代码修改同步</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>