<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java 线程 基础知识总结 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/05ea836833db5e3c07f91c4816544eda/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="Java 线程 基础知识总结">
  <meta property="og:description" content="线程基础 很不严谨的说，线程是什么？线程就是为了让很多个东西并发执行，大大的提高程序执行的效率啊
三个非常重要的概念：
程序：一组写好了的静态代码块（就我们写的那些代码玩意）进程：正在进行着的程序，即静态的代码执行起来了线程：是进程的小单元，或者说多个线程构成一个进程（线程的出现是因为进程满足不了人们的需求，于是进程被细化了） 线程的转换（五个较为简单的转换）可以通过这个图了解一下：
在Java中，
线程有三类：
主线程：系统线程，如Java中的Java虚拟机（主线程是最先执行的）用户线程：Java中main函数执行的那些玩意守护线程（精灵）：比如Java中的GC（垃圾回收器，他是为主线程服务的，当系统启动后，GC就随之产生了；Java虚拟机断掉了，GC也就不干活了） 线程是操作系统层次的（又或者说是cpu层次的，进程怎么执行的，顺序是啥。。。这些都是靠cpu分配的）
不过线程怎么去用，Java的JDK已经给我们写好了
实现线程的过程（有两个方法）：
自己描述一个类实现线程的两个前提条件（继承Thread是最方便的，但是Java是单继承的，很可能会和其他的继承冲突；所以还可以通过实现Runnable接口，不过它要额外的通过写一个Thread类来执行start()方法）： 方法一：继承一个父类Thread方法二：实现一个接口Runnable 我们都必须重写run()方法，
因为这个方法来源于cpu，是操作系统给JDK提供的接口，JDK将它包装成run()，其实我们执行的线程就是写在run()方法中的代码执行起来了new一个线程对象（我们是无法调用run()的，它只有cpu才可以调用，cpu分配时间碎片才能开始执行）
我们只能调用start()方法（这个方法继承自Thread），它会使这个线程除了cpu资源的其它资源都得到满足，让它进入就绪状态，在就绪队列中等待着cpu执行它 （补充：为什么要这么麻烦呢？为什么不直接使用Thread类或者Runnable接口，直接在里面写线程的代码，但是run()方法是不允许有参数的，我们一般要执行的线程都要传参数，所以只能通过继承和实现来解决参数传递的问题）
【一个例子】实现线程的两种方式
继承一个父类 Thread，可以看到调用线程时写法较为简单 public class Running extends Thread { String name; public Running(String name){ this.name = name; } @Override public void run() { for(int i = 1; i &amp;lt;= 10; i&#43;&#43;){ System.out.println(name &#43; &#34;跑到了&#34; &#43; i &#43; &#34;米&#34;); } } public static void main(String[] args) { Running Lux = new Running(&#34;Lux&#34;); Running Ahri = new Running(&#34;">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-07-27T16:42:58+08:00">
    <meta property="article:modified_time" content="2020-07-27T16:42:58+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java 线程 基础知识总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>线程基础</h2> 
<p>很不严谨的说，线程是什么？线程就是为了让很多个东西并发执行，大大的提高程序执行的效率啊</p> 
<p>三个非常重要的概念：</p> 
<ul><li>程序：一组写好了的静态代码块（就我们写的那些代码玩意）</li><li>进程：正在进行着的程序，即静态的代码执行起来了</li><li>线程：是进程的小单元，或者说多个线程构成一个进程（线程的出现是因为进程满足不了人们的需求，于是进程被细化了）</li></ul> 
<p>线程的转换（五个较为简单的转换）可以通过这个图了解一下：<br> <img src="https://images2.imgbox.com/1e/5b/xvcFbgac_o.png" alt="在这里插入图片描述"><br> 在Java中，</p> 
<p><strong>线程有三类：</strong></p> 
<ol><li>主线程：系统线程，如Java中的Java虚拟机（主线程是最先执行的）</li><li>用户线程：Java中main函数执行的那些玩意</li><li>守护线程（精灵）：比如Java中的GC（垃圾回收器，他是为主线程服务的，当系统启动后，GC就随之产生了；Java虚拟机断掉了，GC也就不干活了）</li></ol> 
<p>线程是操作系统层次的（又或者说是cpu层次的，进程怎么执行的，顺序是啥。。。这些都是靠cpu分配的）<br> 不过线程怎么去用，Java的JDK已经给我们写好了<br> <img src="https://images2.imgbox.com/b5/47/DAGrhMMC_o.png" alt="在这里插入图片描述"><br> <strong>实现线程的过程（有两个方法）：</strong></p> 
<ol><li>自己描述一个类</li><li>实现线程的两个前提条件（继承<code>Thread</code>是最方便的，但是Java是单继承的，很可能会和其他的继承冲突；所以还可以通过实现<code>Runnable</code>接口，不过它要额外的通过写一个<code>Thread</code>类来执行<code>start()</code>方法）： 
  <ul><li>方法一：继承一个父类<code>Thread</code></li><li>方法二：实现一个接口<code>Runnable</code></li></ul> </li><li>我们都必须重写<code>run()</code>方法，<br> 因为这个方法来源于cpu，是操作系统给JDK提供的接口，JDK将它包装成<code>run()</code>，其实我们执行的线程就是写在<code>run()</code>方法中的代码执行起来了</li><li>new一个线程对象（我们是无法调用<code>run()</code>的，它只有cpu才可以调用，cpu分配时间碎片才能开始执行）<br> 我们只能调用<code>start()</code>方法（这个方法继承自<code>Thread</code>），它会使这个线程除了cpu资源的其它资源都得到满足，让它进入就绪状态，在就绪队列中等待着cpu执行它</li></ol> 
<p>（补充：为什么要这么麻烦呢？为什么不直接使用<code>Thread</code>类或者<code>Runnable</code>接口，直接在里面写线程的代码，但是<code>run()</code>方法是不允许有参数的，我们一般要执行的线程都要传参数，所以只能通过继承和实现来解决参数传递的问题）</p> 
<p>【<strong>一个例子</strong>】实现线程的两种方式</p> 
<ul><li><strong>继承一个父类 Thread</strong>，可以看到调用线程时写法较为简单</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Running</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{<!-- --></span>
    String name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Running</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">"跑到了"</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">"米"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        Running Lux <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Running</span><span class="token punctuation">(</span><span class="token string">"Lux"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Running Ahri <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Running</span><span class="token punctuation">(</span><span class="token string">"Ahri"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Running Annie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Running</span><span class="token punctuation">(</span><span class="token string">"Annie"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">//从Thread类中继承过来的方法</span>
        Lux<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Ahri<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Annie<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li><strong>实现一个接口 Runnable</strong>，可以看到调用线程时写法复杂一些</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Running</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{<!-- --></span>
    String name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Running</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">"跑到了"</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">"米"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        Running Lux <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Running</span><span class="token punctuation">(</span><span class="token string">"Lux"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Running Ahri <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Running</span><span class="token punctuation">(</span><span class="token string">"Ahri"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Running Annie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Running</span><span class="token punctuation">(</span><span class="token string">"Annie"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">//Thread类中才有start()方法</span>
        Thread thread1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>Lux<span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Thread thread2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>Ahri<span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Thread thread3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>Annie<span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread3<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>多次运行线程代码，发现线程无论执行顺序，还是开始执行时间都是随机的（实际上是操作系统通过算法调度和分配资源，JDK是不能影响它的）</strong></p> 
<p><strong>我们只需要类中继承或实现线程，重写run()方法，最后调用start()方法就可以了</strong></p> 
<p><strong>我们不要直接调用run()方法，这样就不是多线程了，只是按顺序执行的单线程！！！</strong></p> 
<h3><a id="_104"></a>模拟一个火车站售票小例子</h3> 
<ul><li>使用控制台输入输出，仅仅是为了简单玩一下线程，例子很简陋</li><li><strong>三个类</strong> 
  <ul><li>车票</li><li>售票系统12306</li><li>售票窗口</li></ul> </li><li><strong>代码</strong>：<a href="https://github.com/Zhangguohao666/Java/tree/master/%E3%80%9000%E3%80%91demos_01/10%EF%BC%9A%E7%81%AB%E8%BD%A6%E7%AB%99%E5%94%AE%E7%A5%A8">github</a></li><li><strong>效果展示：</strong></li></ul> 
<pre><code class="prism language-java">从广州北站售出<span class="token operator">:</span><span class="token punctuation">[</span> 北京<span class="token number">11</span> <span class="token operator">--</span><span class="token operator">&gt;</span> 深圳<span class="token number">11</span> <span class="token operator">:</span> <span class="token number">150.0</span> <span class="token punctuation">]</span>
从广州西站售出<span class="token operator">:</span><span class="token punctuation">[</span> 北京<span class="token number">10</span> <span class="token operator">--</span><span class="token operator">&gt;</span> 深圳<span class="token number">10</span> <span class="token operator">:</span> <span class="token number">125.0</span> <span class="token punctuation">]</span>
从广州南站售出<span class="token operator">:</span><span class="token punctuation">[</span> 北京<span class="token number">12</span> <span class="token operator">--</span><span class="token operator">&gt;</span> 深圳<span class="token number">12</span> <span class="token operator">:</span> <span class="token number">175.0</span> <span class="token punctuation">]</span>
从广州西站售出<span class="token operator">:</span><span class="token punctuation">[</span> 北京<span class="token number">14</span> <span class="token operator">--</span><span class="token operator">&gt;</span> 深圳<span class="token number">14</span> <span class="token operator">:</span> <span class="token number">225.0</span> <span class="token punctuation">]</span>
从广州南站售出<span class="token operator">:</span><span class="token punctuation">[</span> 北京<span class="token number">15</span> <span class="token operator">--</span><span class="token operator">&gt;</span> 深圳<span class="token number">15</span> <span class="token operator">:</span> <span class="token number">125.0</span> <span class="token punctuation">]</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
对不起广州南站窗口车票已售完
对不起广州西站窗口车票已售完
对不起广州北站窗口车票已售完
</code></pre> 
<h3><a id="_126"></a>多线程同时读取一个文件</h3> 
<ul><li><strong>题目</strong>：有一个26字节的文件 test.txt，里面按顺序存储着26个小写英文字母，使用3个线程同时读取</li><li>使用控制台输入输出，仅仅是为了简单玩一下线程与IO，例子很简陋</li><li>分析： 
  <ul><li>使用字节型输入流，使用skip()方法</li><li>1号线程：读取1-10字节</li><li>2号线程：读取11-20字节</li><li>3号线程：读取21-26字节</li></ul> </li><li><strong>代码</strong>：<a href="https://github.com/Zhangguohao666/Java/tree/master/%E3%80%9000%E3%80%91demos_01/10%EF%BC%9A%E5%A4%9A%E7%BA%BF%E7%A8%8B%E8%AF%BB%E5%8F%96%E5%90%8C%E4%B8%80%E6%96%87%E4%BB%B6">github</a></li><li><strong>效果展示：</strong></li></ul> 
<pre><code class="prism language-java">Thread<span class="token operator">-</span><span class="token number">0</span>读取：a
Thread<span class="token operator">-</span><span class="token number">2</span>读取：u
Thread<span class="token operator">-</span><span class="token number">1</span>读取：k
Thread<span class="token operator">-</span><span class="token number">2</span>读取：v
Thread<span class="token operator">-</span><span class="token number">0</span>读取：b
Thread<span class="token operator">-</span><span class="token number">2</span>读取：w
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> 
<h2><a id="_147"></a>生产消费者模型</h2> 
<h3><a id="_148"></a>生产消费者模型</h3> 
<p>我创建<strong>一个生产者</strong>向仓库添加物品<br> 和<strong>两个消费者</strong>向仓库中拿走物品</p> 
<p>在多线程并发进行中会出现这么一种问题：<br> <img src="https://images2.imgbox.com/c2/4c/kRp7lxDo_o.png" alt="在这里插入图片描述"><br> 如果仓库只剩一个物品时，出现了这么一个顺序</p> 
<ol><li>消费者1进行判断（还剩一个）</li><li>消费者2进行判断（还剩一个）</li><li>消费者1执行get方法 
  <ul><li>get方法作用是：获取物品</li></ul> </li><li>消费者2执行get方法（这时候就出现问题了，虽然判断时仓库还有一个可以拿；但是到执行get方法时，仓库是空的，那么问题出现了：<strong>多线程并发抢夺资源</strong>）</li></ol> 
<ul><li><strong>生产者消费者模型</strong>： 
  <ul><li>模拟上述描述的问题，并且代码中不涉及其余线程操作，只会出现生产者消费者模型的问题</li><li>三个类：Producer、Consumer、WareHouse</li><li>分别代表：生产者、消费者、仓库</li></ul> </li><li><strong>代码</strong>：<a href="https://github.com/Zhangguohao666/Java/tree/01c2f270134aedc623d5eb4fa0e240abfd3a3e21/%E3%80%9000%E3%80%91demos_01/10%EF%BC%9A%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B">github</a></li><li>不出所料，在执行的过程中出现问题了<br> <img src="https://images2.imgbox.com/ff/e1/0ZNNLMOL_o.png" alt="在这里插入图片描述">两个消费者，成功演示出了线程安全问题；两个消费者并发访问，可能产生抢夺资源的问题；所以多个线程并发执行的时候，有安全隐患</li></ul> 
<h3><a id="synchronized_169"></a>synchronized</h3> 
<ul><li><strong>生产者消费者模型 解决办法</strong>： 
  <ul><li>让仓库被线程访问的时候，仓库对象被锁定（即仓库对象只能被一个线程访问，其它的线程处于等待状态）</li><li>使用一个特征修饰符即可<code>synchronized</code>，又称为线程安全锁，表示同步的意思，作用：一个时间点只有一个线程访问</li><li><strong>给仓库提供的获取物品的方法（get）加上线程安全锁，可以避免多线程并发抢夺资源</strong></li></ul> </li></ul> 
<p><strong>synchronized</strong> 有两种写法：</p> 
<ol><li>将<code>synchronized</code>关键字，放在方法的结构上（特征修饰符），其实<strong>它锁定的是synchronized修饰方法所在的对象，由调用该方法的线程锁定</strong></li></ol> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>代码<span class="token punctuation">}</span>
</code></pre> 
<ol start="2"><li>将<code>synchronized</code>关键字，放在方法（/构造方法/块）内部</li></ol> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	很多代码
	<span class="token keyword">synchronized</span><span class="token punctuation">(</span>对象<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>   <span class="token comment">//只有方法执行到这里的时候才被锁定</span>
						 <span class="token comment">//锁定哪个对象呢？可以由synchronized()的参数决定</span>
		某些代码
	<span class="token punctuation">}</span>
	很多代码
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>第二种写法性能更加棒；而且更为灵活，给内部的<code>synchronized(){}</code>的参数传对象，不仅可以由调用方法的线程锁定，还可由其他线程对象来锁定</strong></p> 
<h3><a id="_196"></a>线程对象改变引起的异常</h3> 
<ul><li> <p>如果线程调用的方法中有<code>wait()</code>和<code>notify()</code>/<code>notifyAll()</code>方法，但是没有加<code>synchronized</code>线程安全锁时会出现一种异常：<strong>java.lang.IllegalMonitorStateExceptionr</strong></p> </li><li> <p>注意：wait和notify需要成对出现，或者wait和notifyAll成对出现，否则可能出现假死锁</p> 
  <ul><li>wait() 线程等待</li><li>notify() 唤醒某个线程</li><li>notifyAll() 唤醒所有线程</li><li>wait() notify() notifyAll()都是Object的方法，但和<code>synchronized</code>关键字一样，也是哪个线程调用则对哪个线程起作用</li></ul> </li></ul> 
<p><strong>在生产者消费者模型代码基础上进行修改，仓库的获取物品与存放物品的方法不加线程安全锁，并且使用线程等待与线程唤醒方法</strong><br> <img src="https://images2.imgbox.com/09/25/9Vv7du9z_o.png" alt="在这里插入图片描述"><br> 这就是张冠李戴的字面解释了，<strong>当访问仓库的生产者线程等待，告知生产者的这一刹那，对象变成了另一个线程：该等待的没有等待，不该等待的等待了</strong></p> 
<h2><a id="join_209"></a>join</h2> 
<ul><li>join()方法也是Thread类中的方法，挺有用的</li><li>可以让两个并行的线程变成单线程</li></ul> 
<p><strong>线程创建好之后，我们不能控制线程执行的先后顺序，我们只能让线程进入就绪状态</strong></p> 
<p>【<strong>例子</strong>】首先来回顾一下线程并发执行的情况，以线程ThreadOne与ThreadTwo为例：</p> 
<pre><code class="prism language-java">ThreadOne one <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ThreadTwo two <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadTwo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
one<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
two<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>one执行，one结束，two执行，two结束</li><li>one执行，two执行，one结束，two结束</li><li>one执行，two执行，two结束，one结束</li><li>…</li></ul> 
<p>【<strong>例子</strong>】如果有两个线程ThreadOne和ThreadTwo，我想让ThreadTwo加入到ThreadOne中，可以这么写：</p> 
<p>ThreadOne</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadOne</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"thread-one start"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ThreadTwo two <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadTwo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        two<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            two<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线程2加入到线程1中</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"thread-one end"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>ThreadTwo</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadTwo</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"thread-two start"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//睡眠5秒</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"thread-two end"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>在main中，调用ThreadOne线程的start()方法：<br> <img src="https://images2.imgbox.com/db/e7/jU7PbtMG_o.png" alt="在这里插入图片描述"></p> 
<ul><li> <p>这里用的是<code>join()</code>的无参方法，thread-one启动后，必须要等着thread-two执行完，才能往后面执行</p> </li><li> <p><code>join(millis)</code>还有一个有参重载方法</p> </li></ul> 
<p>将ThreadOne类中的 <code>two.join()</code> 改为 <code>two.join(4000)</code></p> 
<p>thread-one启动后，不是必须等待着thread-two执行完，而是等待4000毫秒如果thread-two还没执行完，thread-one就继续往后执行<br> <img src="https://images2.imgbox.com/d3/de/DkWCUtkq_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="join_272"></a>join源码结合例子分析</h3> 
<p>【join源码】</p> 
<ul><li>无参的 <code>join()</code> 方法：</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> InterruptedException <span class="token punctuation">{<!-- --></span>
    <span class="token function">join</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//还是会调用有参的join方法</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>有参的 <code>join()</code> 方法：</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token keyword">long</span> millis<span class="token punctuation">)</span> <span class="token keyword">throws</span> InterruptedException <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">long</span> base <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> now <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>millis <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">"timeout value is negative"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>millis <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//这就是调用无参join时的执行代码</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">isAlive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">isAlive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">long</span> delay <span class="token operator">=</span> millis <span class="token operator">-</span> now<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>delay <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">wait</span><span class="token punctuation">(</span>delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
            now <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> base<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>ThreadOne类中调用的无参 <code>two.join()</code> 时 
  <ul><li>只要 ThreaTwo 活着，那么 ThreadOne 就一直是等待状态</li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token keyword">while</span> <span class="token punctuation">(</span>two<span class="token punctuation">.</span><span class="token function">isAlive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    two<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>ThreadOne类中调用的有参且参数大于0 <code>two.join(4000)</code> 时 
  <ul><li>ThreaTwo 活着的期间，ThreadOne 等待millis毫秒后打破循环，即不再等待了</li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token keyword">while</span> <span class="token punctuation">(</span>two<span class="token punctuation">.</span><span class="token function">isAlive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">long</span> delay <span class="token operator">=</span> millis <span class="token operator">-</span> now<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>delay <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    two<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span>delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
    now <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> base<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="join_331"></a>join遇上线程安全锁</h3> 
<ul><li>感受一下 synchronized 的强大吧 
  <ul><li>三个线程类：ThreadOne、ThreadTwo、ThreadThree</li><li>ThreadOne 中调用 ThreadTwo，并 <code>two.join(2000);</code>，不过 ThreadTwo 需要执行5秒</li><li>ThreadTwo 中调用 ThreadThree，并将自身通过参数传给 ThreadThree</li><li>ThreadThree 通过 synchronized 将 ThreadTwo 锁起来10秒</li></ul> </li><li><strong>代码</strong>：<a href="https://github.com/Zhangguohao666/Java/tree/master/%E3%80%9000%E3%80%91demos_01/10%EF%BC%9Ajoin%E4%B8%8Esynchronized">github</a></li><li><strong>执行效果</strong>：<br> <img src="https://images2.imgbox.com/2f/50/jPhBRy3A_o.png" alt="在这里插入图片描述"></li></ul> 
<ol><li>one启动</li><li>two启动</li><li>three启动</li><li>two就join进one中了（two要执行5000毫秒，但是one只给了two2000毫秒）</li><li>2000毫秒之后，one想要把two从自己的线程中剔除掉；但是发现，two已经不在自己的手中，two已经被three锁定（要被锁定10000毫秒）</li><li>one只能等待three将two释放后才能剔除掉two</li></ol> 
<p>所以，锁是非常强大滴</p> 
<h2><a id="_348"></a>死锁</h2> 
<ul><li>synchronized非常厉害，一旦线程被锁定，不释放的情况，其它的线程都需要等待</li><li>如果锁没用好，有可能产生死锁的问题（互相都想要对方的资源，却都得不到满足）</li></ul> 
<p>这么说吧，<br> Ahri手里有a资源，然后需要b资源<br> Lux手里有b资源，然后需要a资源<br> 而且，a资源被Ahri独占了，其它进程拿不到；b资源被Lux独占了，其它进程都拿不到<br> 那么：<br> Ahri得不到Lux的b资源<br> Lux得不到Ahri的a资源<br> 就会这样：<br> Ahri和Lux一直等着对方释放资源</p> 
<p>这就是死锁</p> 
<h3><a id="_364"></a>哲学家进餐问题</h3> 
<p><strong>哲学家进餐问题</strong> 是一个著名的死锁问题：<br> <img src="https://images2.imgbox.com/eb/38/BH6sYTW0_o.png" alt="在这里插入图片描述"><br> 四个人在餐桌上吃饭，但是只有四只筷子，<br> 四个人同时拿筷子，<br> 而且要求，每一个人先拿左手边的筷子，然后拿右手边的筷子</p> 
<p>所以嘛，有可能他们四个人拿筷子的速度恰好一样，都拿了左手边的筷子，于是僵持住了</p> 
<ul><li><strong>代码</strong>：<a href="https://github.com/Zhangguohao666/Java/tree/master/%E3%80%9000%E3%80%91demos_01/10%EF%BC%9A%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90%E9%97%AE%E9%A2%98">github</a></li></ul> 
<p>避免死锁的方法：</p> 
<ul><li>礼让----产生时间差</li><li>不要产生共用的问题</li></ul> 
<h2><a id="Timer_379"></a>有趣的Timer类</h2> 
<ul><li>计时器/定时器是JDK已经写好了的线程类</li><li><code>java.util</code>包，<code>Timer</code>类</li></ul> 
<p>【<strong>小例子</strong>】用<code>Timer</code>类模拟一个短信轰炸的效果（每隔一段时间发送信息）</p> 
<p>Timer有这么一个方法<code>schedule()</code>，有四个重载方法<br> <img src="https://images2.imgbox.com/bf/e2/slQ2ltEa_o.png" alt="在这里插入图片描述"><br> 对上面出现的参数的解释</p> 
<ol><li><code>TimerTask task</code>表示一个任务，以字符串形式表示<br> <code>TimerTask</code>是一个抽象类，new不了的，不过可以使用匿名内部类对象</li><li><code>Date time</code>、<code>Date firstTime</code>表示起始时间（到了起始时间，任务开始执行）</li><li><code>long delay</code>表示延迟时间（及延迟给的时间后，任务开始执行）</li><li><code>long period</code>周期，表示多长时间后再干一次，是一个循环</li></ol> 
<p><strong>短信轰炸</strong></p> 
<pre><code class="prism language-java"><span class="token comment">//导包</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestTimer</span> <span class="token punctuation">{<!-- --></span>

	<span class="token keyword">private</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//记录轰炸次数</span>
    ArrayList<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> userBox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//存储众多个人信息</span>
    
    <span class="token punctuation">{<!-- --></span>
        userBox<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> userBox<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> userBox<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> userBox<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

	<span class="token comment">启动一个小线程，记录时间，可以每隔一段时间去做一件事情</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> ParseException <span class="token punctuation">{<!-- --></span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"开始啦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Timer timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        SimpleDateFormat sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Date firstTime <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"2020-07-27 16:30:00"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        timer<span class="token punctuation">.</span><span class="token function">schedule</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TimerTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            	System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"第"</span> <span class="token operator">+</span> count<span class="token operator">++</span> <span class="token operator">+</span> <span class="token string">"次执行"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> userBox<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"给"</span> <span class="token operator">+</span> userBox<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"发送了一条消息：陌生人祝你幸福"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"做了点坏事儿 真开心~~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>firstTime<span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        TestTimer demo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
            demo<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ParseException</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">getErrorOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/cf/cd/QRptf590_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1c6469c2b26da2cbbfb110728e0d39d4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue中key的作用及其原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aad6788d230a3f6dfb6772b06ea363df/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C语言中&amp;&amp;和||的用法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>