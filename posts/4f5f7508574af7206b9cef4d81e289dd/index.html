<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>进程管理与计划任务管理 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/4f5f7508574af7206b9cef4d81e289dd/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="进程管理与计划任务管理">
  <meta property="og:description" content="进程管理 1、查看进程 静态 ps -aux ps -elf 动态 top pgrep 查看特定条件的进程 pgrep -l “log” pgrep -l &#34;ssh&#34; pgrep -l -U redhat pstree 查看进程树 pstree -aup 所有用户、进程id\详细信息 pstree -ap redhat 查看redhat用户的进程 任务调度和进程管理
后台启动，加 &amp;amp; 字符
#cp /dev/sr0 mycd.iso &amp;amp;
查看后台任务： jobs
调度任务
fg [任务序列号]
启动后台停止进程：
bg [任务序列号]
终止进程 前台进程终止：crtl &#43; c
后台进程终止：kill -9 进程号， killall -9 进程名称
杀死特定条件进程:pkill -9 -U “用户名”
监控系统 #uptime 负载、运行时间，用户数。 #lscpu 查看cpu数量，参数等。 2.控制服务和守护进程 systemd 第一个进程
systemctl --version 查看版本 systemctl get-default 系统运行级别 systemctl 列出所有已经加载且运行的单元 systemctl --help systemctl list-units --type=service 列出服务单元 --type=socket systemctl list-unit-files 列出服务单元所有的文件。 Systemctl status sshd.">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-20T18:04:05+08:00">
    <meta property="article:modified_time" content="2024-03-20T18:04:05+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">进程管理与计划任务管理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>进程管理</h2> 
<h3>1、查看进程</h3> 
<h4>静态</h4> 
<pre><code class="hljs">ps   -aux

ps    -elf </code></pre> 
<h4>动态</h4> 
<pre><code class="hljs">top</code></pre> 
<h4>pgrep 查看特定条件的进程</h4> 
<pre><code class="hljs">pgrep -l “log”
pgrep -l   "ssh"

pgrep -l -U redhat</code></pre> 
<h4>pstree 查看进程树</h4> 
<pre><code class="hljs">pstree -aup   所有用户、进程id\详细信息

pstree -ap redhat   查看redhat用户的进程</code></pre> 
<p><span style="background-color:#ed7976;">任务调度和进程管理</span><br><span style="background-color:#ed7976;">后台启动，加 &amp; 字符</span></p> 
<p><span style="background-color:#ed7976;">#cp /dev/sr0  mycd.iso  &amp;</span></p> 
<h4>查看后台任务：</h4> 
<p>jobs</p> 
<p>调度任务<br> fg [任务序列号]</p> 
<p>启动后台停止进程：<br> bg  [任务序列号]</p> 
<h4>终止进程</h4> 
<p>前台进程终止：crtl + c<br> 后台进程终止：kill  -9   进程号， killall -9  进程名称</p> 
<p>杀死特定条件进程:pkill -9    -U “用户名”</p> 
<h4>监控系统</h4> 
<pre><code class="hljs">#uptime    负载、运行时间，用户数。

#lscpu    查看cpu数量，参数等。</code></pre> 
<h3>2.控制服务和守护进程</h3> 
<p>systemd 第一个进程</p> 
<pre><code class="hljs">systemctl  --version  查看版本

systemctl  get-default   系统运行级别

systemctl  列出所有已经加载且运行的单元

systemctl  --help

systemctl list-units   --type=service  列出服务单元
                                    --type=socket

systemctl  list-unit-files  列出服务单元所有的文件。

Systemctl  status sshd.service   查看某个具体的服务单元的运行状态。</code></pre> 
<h4>小案例：</h4> 
<p><span style="background-color:#faa572;">打印机的管理服务：cups.service</span></p> 
<p><img alt="" height="365" src="https://images2.imgbox.com/bb/c9/it5SzngL_o.png" width="303"></p> 
<p>systemctl is-active cups.service  </p> 
<h2 style="background-color:transparent;">计划任务管理</h2> 
<h3>1.一次性任务计划</h3> 
<h4><strong>at</strong></h4> 
<pre><code class="hljs">#date 查看日期
#at 计划时间
&gt;pgrep -U root | wc -l &gt; /tmp/ps.root
&gt;crtl+D提交</code></pre> 
<pre><code class="hljs">#atq  查询计划序列
#atrm 任务序号  删除计划</code></pre> 
<h3>2.周期性任务计划</h3> 
<h4>crontab</h4> 
<pre><code class="hljs">#crontab -e
50 7  *  *  *    systemctl start sshd.service
10  17  *   *  *   systemctl stop sshd.service
0    0   */5   *  *   /bin/rm -rf /var/ftp/pub</code></pre> 
<p>查看任务计划列表</p> 
<pre><code class="hljs">#crontab -l</code></pre> 
<h4>任务保存位置：</h4> 
<p><span style="color:#ed7976;"><strong>cat /var/spool/cron/[用户名]</strong></span></p> 
<p>如：cat  /var/spool/cron/root<br> 10 17 * * * systemctl stop sshd.service<br> 任务计划: 让设备在指定时间完成指定任务</p> 
<pre><code class="hljs">[root@localhost ~]# crontab -u username  -e  //为username用户指定任务计划
* * * * *  /usr/bin/tail -1 /etc/passwd &gt;&gt;/username/file1</code></pre> 
<p><span style="color:#fe2c24;"><span style="background-color:#fefcd8;">如果文件被非正常退出,会生成一个隐藏的缓存文件. </span><br><span style="background-color:#fefcd8;"> 例如: file1 文件被中断,会生成 .file1.swp 隐藏文件</span><br><span style="background-color:#fefcd8;">       file2 --&gt; .file2.swp </span></span><br>  </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c33ab06a8e230aa205c70e7fa9d95f45/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Codeforces Round 935 (Div. 3) （A~G）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/443ce4a09dd167dbc53132c84f5e48e7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AI 时代法律行业风云变幻，法律人的未来之路在哪里？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>