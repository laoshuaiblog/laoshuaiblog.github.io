<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>证券数据如何到达客户端 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/fd5797869fe64b2aba3d48dc1dcc3083/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="证券数据如何到达客户端">
  <meta property="og:description" content="2017/1/3
李国帅，资料内容取自2007年的记录。高度不够，认识有限内容，简单介绍聊做参考。
前言 听说《人类简史》不错，最近在看，自己读书比较慢，现在还没看完。不过里面说的人类最大的本事就是讲故事，这个观点对自己启发很大，这么多年来，怎么就如此后知后觉呢？
金融证券应该算是人类编的最复杂的故事之一了，这个故事让人欢喜让人愁，无形的手控制了千千万万的钱包，大故事咱讲不了，漂亮深入也不追求了，只能讲个自己知道的小细节。
本人在2005年到2007年做过一段时间证券软件，主要也是客户端。一晃十一年了，现在想来也不过一小段时间，当时没有写出来，现在也好像在热剩饭，讲些通俗的东西。
本篇文章主要分2部分：
1、客户端数据的来源和分类
2、客户端数据的展示
数据来源 要说证券数据的来源，那自然是千千万万参与到这个故事中的人，他们把钱投入到股票，基金，债券，期货，外汇以及各式各样的金融票据，这些信息通过政府或者财阀建立的金融票据交易机构，流向需要资金的人或机构并完成交易。投入资金的人可以获得利息或红利，当然这是有风险的，可能血本无归。
撇开交易系统不谈，这里仅仅谈交易信息的显示。
当证券信息到达证券交易中心之后，证券客户端软件要想获取，还需要若干路径，大体如下：
基础服务： 1、建立同步服务器，从证券交易所拿到股票，基金，债券，期货，权证，外汇，指数等实时和历史信息，以及上市公司，基金公司，股东信息。
2、建立新闻咨讯服务器，对证券基本信息进行补充，为软件客户提供操作参考，属于公司自身服务内容的一部分。
3、提供技术分析，数据趋势分析等工具的后台支持。
数据服务器 证券软件需要为成千上万的客户端提供数据服务，因此直接访问同步服务器是低效和危险的行为，为了解决这个问题，需要建立多套数据服务器，分区域对客户端提供数据支持。
1、登录服务器：客户端查询服务器负载，选择负载最轻的服务器组，登录最合适的登录服务器。
2、初始化服务器：然后需要从初始化服务器获取基础信息，比如指数信息，上市公司信息，最近咨讯，和其他最常使用的数据，将这些信息进行格式化并压缩传输。
3、中转服务器：把常用证券数据放到中转服务器的内存中，提高数据访问的效率，为两种访问提供服务：webservice和长连接访问。
4、报价服务器：为实时信息的传递和交易提供支持。有时会同时设置一个延时报价服务器，对免费用户提供延迟15秒的在线行情。
咨询服务器 对咨询和简短低频数据的查询不需要建立长连接，使用webservice即可。
客户端可以使用丰富的界面对数据进行展示。低频数据可以是：新闻，视频和网页链接，交易信息，股东和企业信息等等。
数据分类 证券信息主要包括：股票，指数，基金，权证，期货，新闻及F10信息等。什么叫F10信息，那时候在PC上使用证券客户端查看证券信息的时候按F10会调出相关企业的基本面，财务报表，分红扩股，相关新闻，股东信息等，所以习惯上就把他们成为F10信息。
数据展示 这一节说明客户端拿到数据之后如何显示到界面，不谈技术细节，线下操作，仅仅从软件实现流程来说明，管窥一个方面。
1、从客户端角度基本上就是这几块。
2、技术上说，基本技术点就是应用框架选择和设计，窗口消息调度，结构化数据缓存，网络通信。难点在于指数分析，烛图显示。
如果是VC，基本上可以选用MFC的文档视图结构，如果是其他语言或工具自己选用合适动框架。下面是一个MFC简要类图：
3、其他的，比如安全，高效方面的设计，配置与安装的设计还是需要的，线下的质量管理，讨论这个咱不了解。
后话 其实要想做一个成熟的软件，除了基本的东西，还有很多小东西来辅助，比如打印，咨询编辑工具，新闻检索，音视频服务，费用支付等等。
软件越大，需要的人力和功夫也就越多，单个的人能够参与其中做个螺丝钉已经很幸运，能够参与到高效团队的人更是幸运。
工作这么多年来，也是明白，软件是个有头没尾的工作，结果无非两个，要么软件放弃了你，要么你放弃了软件。
祝大家新年好运！">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2018-01-04T10:39:10+08:00">
    <meta property="article:modified_time" content="2018-01-04T10:39:10+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">证券数据如何到达客户端</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>2017/1/3</p> 
<p>李国帅，资料内容取自2007年的记录。高度不够，认识有限内容，简单介绍聊做参考。</p> 
<h4>前言</h4> 
<p>听说《人类简史》不错，最近在看，自己读书比较慢，现在还没看完。不过里面说的人类最大的本事就是讲故事，这个观点对自己启发很大，这么多年来，怎么就如此后知后觉呢？</p> 
<p>金融证券应该算是人类编的最复杂的故事之一了，这个故事让人欢喜让人愁，无形的手控制了千千万万的钱包，大故事咱讲不了，漂亮深入也不追求了，只能讲个自己知道的小细节。</p> 
<p>本人在2005年到2007年做过一段时间证券软件，主要也是客户端。一晃十一年了，现在想来也不过一小段时间，当时没有写出来，现在也好像在热剩饭，讲些通俗的东西。</p> 
<p><b>本篇文章主要分</b><b>2</b><b>部分：</b><b></b></p> 
<p><b>1</b><b>、客户端数据的来源和分类</b><b></b></p> 
<p><b>2</b><b>、客户端数据的展示</b><b></b></p> 
<h4>数据来源</h4> 
<p>要说证券数据的来源，那自然是千千万万参与到这个故事中的人，他们把钱投入到股票，基金，债券，期货，外汇以及各式各样的金融票据，这些信息通过政府或者财阀建立的金融票据交易机构，流向需要资金的人或机构并完成交易。投入资金的人可以获得利息或红利，当然这是有风险的，可能血本无归。</p> 
<p><a href="https://img-blog.csdn.net/20180104103905846" rel="nofollow"><img width="632" height="384" title="clip_image002" style="display: inline;" alt="clip_image002" src="https://images2.imgbox.com/55/c5/YFBooeVS_o.jpg" border="0"></a></p> 
<p>撇开交易系统不谈，这里仅仅谈交易信息的显示。</p> 
<p>当证券信息到达证券交易中心之后，证券客户端软件要想获取，还需要若干路径，大体如下：</p> 
<p><a href="https://img-blog.csdn.net/20180104103906726" rel="nofollow"><img width="635" height="311" title="clip_image004" style="display: inline;" alt="clip_image004" src="https://images2.imgbox.com/65/d0/3xqYKz31_o.jpg" border="0"></a></p> 
<h5>基础服务：</h5> 
<p>1、建立同步服务器，从证券交易所拿到股票，基金，债券，期货，权证，外汇，指数等实时和历史信息，以及上市公司，基金公司，股东信息。</p> 
<p>2、建立新闻咨讯服务器，对证券基本信息进行补充，为软件客户提供操作参考，属于公司自身服务内容的一部分。</p> 
<p>3、提供技术分析，数据趋势分析等工具的后台支持。</p> 
<h5>数据服务器</h5> 
<p>证券软件需要为成千上万的客户端提供数据服务，因此直接访问同步服务器是低效和危险的行为，为了解决这个问题，需要建立多套数据服务器，分区域对客户端提供数据支持。</p> 
<p>1、登录服务器：客户端查询服务器负载，选择负载最轻的服务器组，登录最合适的登录服务器。</p> 
<p>2、初始化服务器：然后需要从初始化服务器获取基础信息，比如指数信息，上市公司信息，最近咨讯，和其他最常使用的数据，将这些信息进行格式化并压缩传输。</p> 
<p>3、中转服务器：把常用证券数据放到中转服务器的内存中，提高数据访问的效率，为两种访问提供服务：webservice和长连接访问。</p> 
<p>4、报价服务器：为实时信息的传递和交易提供支持。有时会同时设置一个延时报价服务器，对免费用户提供延迟15秒的在线行情。</p> 
<h5>咨询服务器</h5> 
<p>对咨询和简短低频数据的查询不需要建立长连接，使用webservice即可。</p> 
<p>客户端可以使用丰富的界面对数据进行展示。低频数据可以是：新闻，视频和网页链接，交易信息，股东和企业信息等等。</p> 
<h5>数据分类</h5> 
<p>证券信息主要包括：股票，指数，基金，权证，期货，新闻及F10信息等。什么叫F10信息，那时候在PC上使用证券客户端查看证券信息的时候按F10会调出相关企业的基本面，财务报表，分红扩股，相关新闻，股东信息等，所以习惯上就把他们成为F10信息。</p> 
<p><a href="https://img-blog.csdn.net/20180104103907605" rel="nofollow"><img width="505" height="469" title="clip_image006" style="border: 0px currentcolor; border-image: none; display: inline;" alt="clip_image006" src="https://images2.imgbox.com/f0/55/DqyB167o_o.gif" border="0"></a></p> 
<h4>数据展示</h4> 
<p>这一节说明客户端拿到数据之后如何显示到界面，不谈技术细节，线下操作，仅仅从软件实现流程来说明，管窥一个方面。</p> 
<p>1、从客户端角度基本上就是这几块。</p> 
<p><a href="https://img-blog.csdn.net/20180104103908515" rel="nofollow"><img width="748" height="280" title="clip_image008" style="display: inline;" alt="clip_image008" src="https://images2.imgbox.com/9d/1a/NOvfh6yw_o.jpg" border="0"></a></p> 
<p>2、技术上说，基本技术点就是应用框架选择和设计，窗口消息调度，结构化数据缓存，网络通信。难点在于指数分析，烛图显示。</p> 
<p>如果是VC，基本上可以选用MFC的文档视图结构，如果是其他语言或工具自己选用合适动框架。下面是一个MFC简要类图：</p> 
<p><a href="https://img-blog.csdn.net/20180104103909400" rel="nofollow"><img width="598" height="551" title="clip_image010" style="display: inline;" alt="clip_image010" src="https://images2.imgbox.com/47/d6/AoZ5cQmr_o.jpg" border="0"></a></p> 
<p>3、其他的，比如安全，高效方面的设计，配置与安装的设计还是需要的，线下的质量管理，讨论这个咱不了解。</p> 
<h4>后话</h4> 
<p>其实要想做一个成熟的软件，除了基本的东西，还有很多小东西来辅助，比如打印，咨询编辑工具，新闻检索，音视频服务，费用支付等等。</p> 
<p>软件越大，需要的人力和功夫也就越多，单个的人能够参与其中做个螺丝钉已经很幸运，能够参与到高效团队的人更是幸运。</p> 
<p>工作这么多年来，也是明白，软件是个有头没尾的工作，结果无非两个，要么软件放弃了你，要么你放弃了软件。</p> 
<p>祝大家新年好运！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6f0ac250db2a98c91935985273296946/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C语言实现顺序查找</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/096f4c58659580f3f3706147fcc6414d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python -- 模块 struct</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>