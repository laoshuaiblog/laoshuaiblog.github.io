<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>图像分析：投影曲线的波峰查找 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/9f1318413e13b6a91aaaf536c55389b3/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="图像分析：投影曲线的波峰查找">
  <meta property="og:description" content="本文的主要内容来自 Ronny&#39;s CV Site，在最后加上自己在实际项目中的应用，显得效果还不错。
一、前言 在图像分析里，投影曲线是我们经常要用到的一个图像特征，通过投影曲线我们可以看到在某一个方向上，图像灰度变化的规律，这在图像分割，文字提取方面应用比较广。一个投影曲线，它的关键信息就在于波峰与波谷，所以我们面临的第一个问题就是找到波峰与波谷。
第一次涉及到求波峰与波谷时，很多人都不以为意，觉得波谷波峰还不容易，无非是一些曲线变化为零的点，从离散的角度来说，也就是:
波峰： F(x)&amp;gt;F(x−1)且F(x)&amp;gt;F(x&#43;1) 波谷： F(x)&amp;lt;F(x−1)且F(x)&amp;lt;F(x&#43;1) 这么简单吗？显示不是，你首先就会遇到这样的曲线图，然后图上的波峰点并不满足上面的条件。
看到这种情况，你也许会考虑在上面的等式中把 &amp;gt; 和 &amp;lt; 改为 ≥ 和 ≤ 。
波峰： F(x)≥F(x−1)&amp;amp;&amp;amp;F(x)&amp;gt;F(x&#43;1) 或者 F(x)&amp;gt;F(x−1)&amp;amp;&amp;amp;F(x)≥F(x&#43;1) 波谷： F(x)≤F(x−1)&amp;amp;&amp;amp;F(x)&amp;lt;F(x&#43;1) 或者 F(x)&amp;lt;F(x−1)&amp;amp;&amp;amp;F(x)≤F(x&#43;1) 这次是否就这样简单，答案显示不是，下面的这个图就会让你对一些非峰值点作出错误的判断。
上面这幅图真正的峰值只有一个，其他平台上的点，你如果按上面修改的公式，就会被错误的当成波峰点。下面让我们看一下，到底如何能求得准确的曲线波峰与波谷。
二、波峰波谷算法 投影曲线实际上是一个一维的向量：
V=[v1,v2,…,vn] 其中 vi,i∈[1,2,…,N] ，代表图像在第 i 行或列上的灰度累积。当然不仅仅是投影曲线， T 也可以是某一事件中变量的观测值，我们需要研究这个变量的变化规律。
下面给出波峰与波谷的算法：
1，假投影曲线可以表示为 V=[v1,v2,…,vn] 。
2，计算V的一阶差分向量 DiffV :
Diffv(i)=V(i&#43;1)−V(i),其中i∈1,2,…,N−1 3,对差分向量进行取符号函数运算， Trend=sign(Diffv) ,即遍历 Diffv ，若 Diffv(i) 大于0，则取1；如果小于0，则取-1，否则则值为0。
sign(x)=⎧⎩⎨⎪⎪⎪10−1if x&amp;gt;0if x=0if x&amp;lt;0
4，从尾部遍历 Trend 向量,进行如下操作：
if Trend(i)=0且Trend(i&#43;1)≥0，则Trend(i)=1if Trend(i)=0且Trend(i&#43;1)&amp;lt;0，则Trend(i)=−1 5，对 Trend 向量进行一阶差分运算，如同步骤2，得到 R=diff(Trend) 。">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2014-09-04T09:27:26+08:00">
    <meta property="article:modified_time" content="2014-09-04T09:27:26+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">图像分析：投影曲线的波峰查找</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>          <span style="color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 本文的主要内容来自 </span><span style="font-size:14px"><a target="_blank" href="http://www.cnblogs.com/ronny/p/3616470.html" rel="nofollow noopener noreferrer">Ronny's CV Site</a>，<span style="color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px">在最后加上自己在实际项目中的应用，显得效果还不错</span>。</span></p> 
<p></p> 
<h4 style="margin:0px; padding:0px; font-size:16px; font-family:verdana,Arial,Helvetica,sans-serif">        一、前言</h4> 
<p></p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px">        在图像分析里，投影曲线是我们经常要用到的一个图像特征，通过投影曲线我们可以看到在某一个方向上，图像灰度变化的规律，这在图像分割，文字提取方面应用比较广。一个投影曲线，它的关键信息就在于波峰与波谷，所以我们面临的第一个问题就是找到波峰与波谷。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 第一次涉及到求波峰与波谷时，很多人都不以为意，觉得波谷波峰还不容易，无非是一些曲线变化为零的点，从离散的角度来说，也就是:</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px">               波峰：<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-1-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-1" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-2" style=""><span class="mi" id="MathJax-Span-3" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-4" style="">(</span><span class="mi" id="MathJax-Span-5" style="">x</span><span class="mo" id="MathJax-Span-6" style="">)</span><span class="mo" id="MathJax-Span-7" style="">&gt;</span><span class="mi" id="MathJax-Span-8" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-9" style="">(</span><span class="mi" id="MathJax-Span-10" style="">x</span><span class="mo" id="MathJax-Span-11" style="">−</span><span class="mn" id="MathJax-Span-12" style="">1</span><span class="mo" id="MathJax-Span-13" style="">)</span><span class="texatom" id="MathJax-Span-14" style=""><span class="mrow" id="MathJax-Span-15" style=""><span class="mo" id="MathJax-Span-16" style=""><span style="">且</span></span></span></span><span class="mi" id="MathJax-Span-17" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-18" style="">(</span><span class="mi" id="MathJax-Span-19" style="">x</span><span class="mo" id="MathJax-Span-20" style="">)</span><span class="mo" id="MathJax-Span-21" style="">&gt;</span><span class="mi" id="MathJax-Span-22" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-23" style="">(</span><span class="mi" id="MathJax-Span-24" style="">x</span><span class="mo" id="MathJax-Span-25" style="">+</span><span class="mn" id="MathJax-Span-26" style="">1</span><span class="mo" id="MathJax-Span-27" style="">)</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span></p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px">              波谷：<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-2-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-28" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-29" style=""><span class="mi" id="MathJax-Span-30" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-31" style="">(</span><span class="mi" id="MathJax-Span-32" style="">x</span><span class="mo" id="MathJax-Span-33" style="">)</span><span class="mo" id="MathJax-Span-34" style="">&lt;</span><span class="mi" id="MathJax-Span-35" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-36" style="">(</span><span class="mi" id="MathJax-Span-37" style="">x</span><span class="mo" id="MathJax-Span-38" style="">−</span><span class="mn" id="MathJax-Span-39" style="">1</span><span class="mo" id="MathJax-Span-40" style="">)</span><span class="texatom" id="MathJax-Span-41" style=""><span class="mrow" id="MathJax-Span-42" style=""><span class="mo" id="MathJax-Span-43" style=""><span style="">且</span></span></span></span><span class="mi" id="MathJax-Span-44" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-45" style="">(</span><span class="mi" id="MathJax-Span-46" style="">x</span><span class="mo" id="MathJax-Span-47" style="">)</span><span class="mo" id="MathJax-Span-48" style="">&lt;</span><span class="mi" id="MathJax-Span-49" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-50" style="">(</span><span class="mi" id="MathJax-Span-51" style="">x</span><span class="mo" id="MathJax-Span-52" style="">+</span><span class="mn" id="MathJax-Span-53" style="">1</span><span class="mo" id="MathJax-Span-54" style="">)</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span></p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 这么简单吗？显示不是，你首先就会遇到这样的曲线图，然后图上的波峰点并不满足上面的条件。</p> 
<div style="text-align:center"> 
 <img src="https://images2.imgbox.com/c4/63/dVNhM5gZ_o.png" alt=""> 
</div> 
<p></p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 看到这种情况，你也许会考虑在上面的等式中把<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-3-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-55" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-56" style=""><span class="mo" id="MathJax-Span-57" style="">&gt;</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>和<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-4-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-58" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-59" style=""><span class="mo" id="MathJax-Span-60" style="">&lt;</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>改为<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-5-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-61" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-62" style=""><span class="mo" id="MathJax-Span-63" style="">≥</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>和<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-6-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-64" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-65" style=""><span class="mo" id="MathJax-Span-66" style="">≤</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px">          波峰：<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-7-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-67" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-68" style=""><span class="mi" id="MathJax-Span-69" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-70" style="">(</span><span class="mi" id="MathJax-Span-71" style="">x</span><span class="mo" id="MathJax-Span-72" style="">)</span><span class="mo" id="MathJax-Span-73" style="">≥</span><span class="mi" id="MathJax-Span-74" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-75" style="">(</span><span class="mi" id="MathJax-Span-76" style="">x</span><span class="mo" id="MathJax-Span-77" style="">−</span><span class="mn" id="MathJax-Span-78" style="">1</span><span class="mo" id="MathJax-Span-79" style="">)</span><span class="mi" id="MathJax-Span-80" style="">&amp;</span><span class="mi" id="MathJax-Span-81" style="">&amp;</span><span class="mi" id="MathJax-Span-82" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-83" style="">(</span><span class="mi" id="MathJax-Span-84" style="">x</span><span class="mo" id="MathJax-Span-85" style="">)</span><span class="mo" id="MathJax-Span-86" style="">&gt;</span><span class="mi" id="MathJax-Span-87" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-88" style="">(</span><span class="mi" id="MathJax-Span-89" style="">x</span><span class="mo" id="MathJax-Span-90" style="">+</span><span class="mn" id="MathJax-Span-91" style="">1</span><span class="mo" id="MathJax-Span-92" style="">)</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>  或者 <span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-8-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-93" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-94" style=""><span class="mi" id="MathJax-Span-95" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-96" style="">(</span><span class="mi" id="MathJax-Span-97" style="">x</span><span class="mo" id="MathJax-Span-98" style="">)</span><span class="mo" id="MathJax-Span-99" style="">&gt;</span><span class="mi" id="MathJax-Span-100" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-101" style="">(</span><span class="mi" id="MathJax-Span-102" style="">x</span><span class="mo" id="MathJax-Span-103" style="">−</span><span class="mn" id="MathJax-Span-104" style="">1</span><span class="mo" id="MathJax-Span-105" style="">)</span><span class="mi" id="MathJax-Span-106" style="">&amp;</span><span class="mi" id="MathJax-Span-107" style="">&amp;</span><span class="mi" id="MathJax-Span-108" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-109" style="">(</span><span class="mi" id="MathJax-Span-110" style="">x</span><span class="mo" id="MathJax-Span-111" style="">)</span><span class="mo" id="MathJax-Span-112" style="">≥</span><span class="mi" id="MathJax-Span-113" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-114" style="">(</span><span class="mi" id="MathJax-Span-115" style="">x</span><span class="mo" id="MathJax-Span-116" style="">+</span><span class="mn" id="MathJax-Span-117" style="">1</span><span class="mo" id="MathJax-Span-118" style="">)</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span></p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px">          波谷：<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-9-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-119" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-120" style=""><span class="mi" id="MathJax-Span-121" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-122" style="">(</span><span class="mi" id="MathJax-Span-123" style="">x</span><span class="mo" id="MathJax-Span-124" style="">)</span><span class="mo" id="MathJax-Span-125" style="">≤</span><span class="mi" id="MathJax-Span-126" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-127" style="">(</span><span class="mi" id="MathJax-Span-128" style="">x</span><span class="mo" id="MathJax-Span-129" style="">−</span><span class="mn" id="MathJax-Span-130" style="">1</span><span class="mo" id="MathJax-Span-131" style="">)</span><span class="mi" id="MathJax-Span-132" style="">&amp;</span><span class="mi" id="MathJax-Span-133" style="">&amp;</span><span class="mi" id="MathJax-Span-134" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-135" style="">(</span><span class="mi" id="MathJax-Span-136" style="">x</span><span class="mo" id="MathJax-Span-137" style="">)</span><span class="mo" id="MathJax-Span-138" style="">&lt;</span><span class="mi" id="MathJax-Span-139" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-140" style="">(</span><span class="mi" id="MathJax-Span-141" style="">x</span><span class="mo" id="MathJax-Span-142" style="">+</span><span class="mn" id="MathJax-Span-143" style="">1</span><span class="mo" id="MathJax-Span-144" style="">)</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>  或者 <span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-10-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-145" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-146" style=""><span class="mi" id="MathJax-Span-147" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-148" style="">(</span><span class="mi" id="MathJax-Span-149" style="">x</span><span class="mo" id="MathJax-Span-150" style="">)</span><span class="mo" id="MathJax-Span-151" style="">&lt;</span><span class="mi" id="MathJax-Span-152" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-153" style="">(</span><span class="mi" id="MathJax-Span-154" style="">x</span><span class="mo" id="MathJax-Span-155" style="">−</span><span class="mn" id="MathJax-Span-156" style="">1</span><span class="mo" id="MathJax-Span-157" style="">)</span><span class="mi" id="MathJax-Span-158" style="">&amp;</span><span class="mi" id="MathJax-Span-159" style="">&amp;</span><span class="mi" id="MathJax-Span-160" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-161" style="">(</span><span class="mi" id="MathJax-Span-162" style="">x</span><span class="mo" id="MathJax-Span-163" style="">)</span><span class="mo" id="MathJax-Span-164" style="">≤</span><span class="mi" id="MathJax-Span-165" style="">F<span style=""></span></span><span class="mo" id="MathJax-Span-166" style="">(</span><span class="mi" id="MathJax-Span-167" style="">x</span><span class="mo" id="MathJax-Span-168" style="">+</span><span class="mn" id="MathJax-Span-169" style="">1</span><span class="mo" id="MathJax-Span-170" style="">)</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span></p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 这次是否就这样简单，答案显示不是，下面的这个图就会让你对一些非峰值点作出错误的判断。</p> 
<div style="text-align:center"> 
 <img src="https://images2.imgbox.com/ec/17/zaSKxUrq_o.png" alt=""> 
</div> 
<p></p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 上面这幅图真正的峰值只有一个，其他平台上的点，你如果按上面修改的公式，就会被错误的当成波峰点。下面让我们看一下，到底如何能求得准确的曲线波峰与波谷。</p> 
<h4 style="margin:0px; padding:0px; font-size:16px; font-family:verdana,Arial,Helvetica,sans-serif">          二、波峰波谷算法</h4> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px">         投影曲线实际上是一个一维的向量：</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> <span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span></p> 
<div class="MathJax_Display" style="margin:1em 0em; padding:0px; text-align:center; position:relative; max-width:none; max-height:none; min-width:0px; min-height:0px; width:925px"> 
 <span class="MathJax" id="MathJax-Element-11-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; font-size:14px; text-align:left; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-171" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-172" style=""><span class="mi" id="MathJax-Span-173" style="">V<span style=""></span></span><span class="mo" id="MathJax-Span-174" style="">=</span><span class="mo" id="MathJax-Span-175" style="">[</span><span class="msubsup" id="MathJax-Span-176" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-177" style="">v</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-178" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-179" style="">,</span><span class="msubsup" id="MathJax-Span-180" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-181" style="">v</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-182" style="">2</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-183" style="">,</span><span class="mo" id="MathJax-Span-184" style="">…</span><span class="mo" id="MathJax-Span-185" style="">,</span><span class="msubsup" id="MathJax-Span-186" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-187" style="">v</span><span style=""></span></span><span style=""><span class="mi" id="MathJax-Span-188" style="">n</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-189" style="">]</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<p></p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 其中<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-12-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-190" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-191" style=""><span class="msubsup" id="MathJax-Span-192" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-193" style="">v</span><span style=""></span></span><span style=""><span class="mi" id="MathJax-Span-194" style="">i</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-195" style="">,</span><span class="mi" id="MathJax-Span-196" style="">i</span><span class="mo" id="MathJax-Span-197" style="">∈</span><span class="mo" id="MathJax-Span-198" style="">[</span><span class="mn" id="MathJax-Span-199" style="">1</span><span class="mo" id="MathJax-Span-200" style="">,</span><span class="mn" id="MathJax-Span-201" style="">2</span><span class="mo" id="MathJax-Span-202" style="">,</span><span class="mo" id="MathJax-Span-203" style="">…</span><span class="mo" id="MathJax-Span-204" style="">,</span><span class="mi" id="MathJax-Span-205" style="">N<span style=""></span></span><span class="mo" id="MathJax-Span-206" style="">]</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>，代表图像在第<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-13-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-207" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-208" style=""><span class="mi" id="MathJax-Span-209" style="">i</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>行或列上的灰度累积。当然不仅仅是投影曲线，<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-14-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-210" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-211" style=""><span class="mi" id="MathJax-Span-212" style="">T<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>也可以是某一事件中变量的观测值，我们需要研究这个变量的变化规律。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 下面给出波峰与波谷的算法：</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 1，假投影曲线可以表示为<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-15-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-213" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-214" style=""><span class="mi" id="MathJax-Span-215" style="">V<span style=""></span></span><span class="mo" id="MathJax-Span-216" style="">=</span><span class="mo" id="MathJax-Span-217" style="">[</span><span class="msubsup" id="MathJax-Span-218" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-219" style="">v</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-220" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-221" style="">,</span><span class="msubsup" id="MathJax-Span-222" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-223" style="">v</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-224" style="">2</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-225" style="">,</span><span class="mo" id="MathJax-Span-226" style="">…</span><span class="mo" id="MathJax-Span-227" style="">,</span><span class="msubsup" id="MathJax-Span-228" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-229" style="">v</span><span style=""></span></span><span style=""><span class="mi" id="MathJax-Span-230" style="">n</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-231" style="">]</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 2，计算V的一阶差分向量<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-16-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-232" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-233" style=""><span class="mi" id="MathJax-Span-234" style="">D</span><span class="mi" id="MathJax-Span-235" style="">i</span><span class="mi" id="MathJax-Span-236" style="">f<span style=""></span></span><span class="msubsup" id="MathJax-Span-237" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-238" style="">f<span style=""></span></span><span style=""></span></span><span style=""><span class="mi" id="MathJax-Span-239" style="">V<span style=""></span></span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>:</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> <span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span></p> 
<div class="MathJax_Display" style="margin:1em 0em; padding:0px; text-align:center; position:relative; max-width:none; max-height:none; min-width:0px; min-height:0px; width:925px"> 
 <span class="MathJax" id="MathJax-Element-17-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; font-size:14px; text-align:left; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-240" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-241" style=""><span class="mi" id="MathJax-Span-242" style="">D</span><span class="mi" id="MathJax-Span-243" style="">i</span><span class="mi" id="MathJax-Span-244" style="">f<span style=""></span></span><span class="msubsup" id="MathJax-Span-245" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-246" style="">f<span style=""></span></span><span style=""></span></span><span style=""><span class="mi" id="MathJax-Span-247" style="">v</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-248" style="">(</span><span class="mi" id="MathJax-Span-249" style="">i</span><span class="mo" id="MathJax-Span-250" style="">)</span><span class="mo" id="MathJax-Span-251" style="">=</span><span class="mi" id="MathJax-Span-252" style="">V<span style=""></span></span><span class="mo" id="MathJax-Span-253" style="">(</span><span class="mi" id="MathJax-Span-254" style="">i</span><span class="mo" id="MathJax-Span-255" style="">+</span><span class="mn" id="MathJax-Span-256" style="">1</span><span class="mo" id="MathJax-Span-257" style="">)</span><span class="mo" id="MathJax-Span-258" style="">−</span><span class="mi" id="MathJax-Span-259" style="">V<span style=""></span></span><span class="mo" id="MathJax-Span-260" style="">(</span><span class="mi" id="MathJax-Span-261" style="">i</span><span class="mo" id="MathJax-Span-262" style="">)</span><span class="mo" id="MathJax-Span-263" style="">,</span><span class="texatom" id="MathJax-Span-264" style=""><span class="mrow" id="MathJax-Span-265" style=""><span class="mo" id="MathJax-Span-266" style=""><span style="">其</span></span></span></span><span class="texatom" id="MathJax-Span-267" style=""><span class="mrow" id="MathJax-Span-268" style=""><span class="mo" id="MathJax-Span-269" style=""><span style="">中</span></span></span></span><span class="mi" id="MathJax-Span-270" style="">i</span><span class="mo" id="MathJax-Span-271" style="">∈</span><span class="texatom" id="MathJax-Span-272" style=""><span class="mrow" id="MathJax-Span-273" style=""><span class="mn" id="MathJax-Span-274" style="">1</span><span class="mo" id="MathJax-Span-275" style="">,</span><span class="mn" id="MathJax-Span-276" style="">2</span><span class="mo" id="MathJax-Span-277" style="">,</span><span class="mo" id="MathJax-Span-278" style="">…</span><span class="mo" id="MathJax-Span-279" style="">,</span><span class="mi" id="MathJax-Span-280" style="">N<span style=""></span></span><span class="mo" id="MathJax-Span-281" style="">−</span><span class="mn" id="MathJax-Span-282" style="">1</span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<p></p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 3,对差分向量进行取符号函数运算，<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-18-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-283" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-284" style=""><span class="mi" id="MathJax-Span-285" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-286" style="">r</span><span class="mi" id="MathJax-Span-287" style="">e</span><span class="mi" id="MathJax-Span-288" style="">n</span><span class="mi" id="MathJax-Span-289" style="">d<span style=""></span></span><span class="mo" id="MathJax-Span-290" style="">=</span><span class="mi" id="MathJax-Span-291" style="">s</span><span class="mi" id="MathJax-Span-292" style="">i</span><span class="mi" id="MathJax-Span-293" style="">g<span style=""></span></span><span class="mi" id="MathJax-Span-294" style="">n</span><span class="mo" id="MathJax-Span-295" style="">(</span><span class="mi" id="MathJax-Span-296" style="">D</span><span class="mi" id="MathJax-Span-297" style="">i</span><span class="mi" id="MathJax-Span-298" style="">f<span style=""></span></span><span class="msubsup" id="MathJax-Span-299" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-300" style="">f<span style=""></span></span><span style=""></span></span><span style=""><span class="mi" id="MathJax-Span-301" style="">v</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-302" style="">)</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>,即遍历<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-19-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-303" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-304" style=""><span class="mi" id="MathJax-Span-305" style="">D</span><span class="mi" id="MathJax-Span-306" style="">i</span><span class="mi" id="MathJax-Span-307" style="">f<span style=""></span></span><span class="msubsup" id="MathJax-Span-308" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-309" style="">f<span style=""></span></span><span style=""></span></span><span style=""><span class="mi" id="MathJax-Span-310" style="">v</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>，若<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-20-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-311" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-312" style=""><span class="mi" id="MathJax-Span-313" style="">D</span><span class="mi" id="MathJax-Span-314" style="">i</span><span class="mi" id="MathJax-Span-315" style="">f<span style=""></span></span><span class="msubsup" id="MathJax-Span-316" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-317" style="">f<span style=""></span></span><span style=""></span></span><span style=""><span class="mi" id="MathJax-Span-318" style="">v</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-319" style="">(</span><span class="mi" id="MathJax-Span-320" style="">i</span><span class="mo" id="MathJax-Span-321" style="">)</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>大于0，则取1；如果小于0，则取-1，否则则值为0。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> <span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span></p> 
<div class="MathJax_Display" style="margin:1em 0em; padding:0px; text-align:center; position:relative; max-width:none; max-height:none; min-width:0px; min-height:0px; width:925px"> 
 <span class="MathJax" id="MathJax-Element-21-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; font-size:14px; text-align:left; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-322" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-323" style=""><span class="mi" id="MathJax-Span-324" style=""></span><span style=""><span style=""><span class="mrow" id="MathJax-Span-323" style=""><span class="mi" id="MathJax-Span-324" style="">s</span><span class="mi" id="MathJax-Span-325" style="">i</span><span class="mi" id="MathJax-Span-326" style="">g<span style=""></span></span><span class="mi" id="MathJax-Span-327" style="">n</span><span class="mo" id="MathJax-Span-328" style="">(</span><span class="mi" id="MathJax-Span-329" style="">x</span><span class="mo" id="MathJax-Span-330" style="">)</span><span class="mo" id="MathJax-Span-331" style="">=</span><span class="mrow" id="MathJax-Span-332" style=""><span class="mo" id="MathJax-Span-333" style=""><span style=""><span style="">⎧<span style=""></span></span><span style="">⎩<span style=""></span></span><span style="">⎨<span style=""></span></span><span style="">⎪<span style=""></span></span><span style=""><span style="color:rgb(51,51,51); font-family:MathJax_Size4; font-size:18px; white-space:nowrap">⎪</span>⎪<span style=""></span></span></span></span><span class="mtable" id="MathJax-Span-334" style=""><span style=""><span style=""><span style=""><span style=""><span class="mtd" id="MathJax-Span-335" style=""><span class="mrow" id="MathJax-Span-336" style=""><span class="mn" id="MathJax-Span-337" style="">1</span></span></span><span style=""></span></span><span style=""><span class="mtd" id="MathJax-Span-347" style=""><span class="mrow" id="MathJax-Span-348" style=""><span class="mn" id="MathJax-Span-349" style="">0</span></span></span><span style=""></span></span><span style=""><span class="mtd" id="MathJax-Span-359" style=""><span class="mrow" id="MathJax-Span-360" style=""><span class="mo" id="MathJax-Span-361" style="">−</span><span class="mn" id="MathJax-Span-362" style="">1</span></span></span><span style=""></span></span></span><span style=""></span></span><span style=""><span style=""><span style=""><span class="mtd" id="MathJax-Span-338" style=""><span class="mrow" id="MathJax-Span-339" style=""><span class="mi" id="MathJax-Span-340" style="">i</span><span class="mi" id="MathJax-Span-341" style="">f<span style=""></span></span><span class="mtext" id="MathJax-Span-342" style=""> </span><span class="mtext" id="MathJax-Span-343" style=""> </span><span class="mi" id="MathJax-Span-344" style="">x</span><span class="mo" id="MathJax-Span-345" style="">&gt;</span><span class="mn" id="MathJax-Span-346" style="">0</span></span></span><span style=""></span></span><span style=""><span class="mtd" id="MathJax-Span-350" style=""><span class="mrow" id="MathJax-Span-351" style=""><span class="mi" id="MathJax-Span-352" style="">i</span><span class="mi" id="MathJax-Span-353" style="">f<span style=""></span></span><span class="mtext" id="MathJax-Span-354" style=""> </span><span class="mtext" id="MathJax-Span-355" style=""> </span><span class="mi" id="MathJax-Span-356" style="">x</span><span class="mo" id="MathJax-Span-357" style="">=</span><span class="mn" id="MathJax-Span-358" style="">0</span></span></span><span style=""></span></span><span style=""><span class="mtd" id="MathJax-Span-363" style=""><span class="mrow" id="MathJax-Span-364" style=""><span class="mi" id="MathJax-Span-365" style="">i</span><span class="mi" id="MathJax-Span-366" style="">f<span style=""></span></span><span class="mtext" id="MathJax-Span-367" style=""> </span><span class="mtext" id="MathJax-Span-368" style=""> </span><span class="mi" id="MathJax-Span-369" style="">x</span><span class="mo" id="MathJax-Span-370" style="">&lt;</span><span class="mn" id="MathJax-Span-371" style="">0</span></span></span><span style=""></span></span></span><span style=""></span></span></span></span></span></span><span style=""></span></span></span><span style=""></span><br> <span class="mrow" id="MathJax-Span-332" style=""><span class="mtable" id="MathJax-Span-334" style=""><span style=""><span style=""><span style=""><span style=""><span class="mtd" id="MathJax-Span-363" style=""><span class="mrow" id="MathJax-Span-364" style=""><span class="mn" id="MathJax-Span-371" style=""></span></span></span><span style=""></span></span></span><span style=""></span></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<p></p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 4，从尾部遍历<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-22-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-372" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-373" style=""><span class="mi" id="MathJax-Span-374" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-375" style="">r</span><span class="mi" id="MathJax-Span-376" style="">e</span><span class="mi" id="MathJax-Span-377" style="">n</span><span class="mi" id="MathJax-Span-378" style="">d<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>向量,进行如下操作：</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> <span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span></p> 
<div class="MathJax_Display" style="margin:1em 0em; padding:0px; text-align:center; position:relative; max-width:none; max-height:none; min-width:0px; min-height:0px; width:925px"> 
 <span class="MathJax" id="MathJax-Element-23-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; font-size:14px; text-align:left; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-379" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-380" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-381" style="">i</span><span class="mi" id="MathJax-Span-382" style="">f<span style=""></span></span><span class="mtext" id="MathJax-Span-383" style=""> </span><span class="mi" id="MathJax-Span-384" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-385" style="">r</span><span class="mi" id="MathJax-Span-386" style="">e</span><span class="mi" id="MathJax-Span-387" style="">n</span><span class="mi" id="MathJax-Span-388" style="">d<span style=""></span></span><span class="mo" id="MathJax-Span-389" style="">(</span><span class="mi" id="MathJax-Span-390" style="">i</span><span class="mo" id="MathJax-Span-391" style="">)</span><span class="mo" id="MathJax-Span-392" style="">=</span><span class="mn" id="MathJax-Span-393" style="">0</span><span class="texatom" id="MathJax-Span-394" style=""><span class="mrow" id="MathJax-Span-395" style=""><span class="mo" id="MathJax-Span-396" style=""><span style="">且</span></span></span></span><span class="mi" id="MathJax-Span-397" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-398" style="">r</span><span class="mi" id="MathJax-Span-399" style="">e</span><span class="mi" id="MathJax-Span-400" style="">n</span><span class="mi" id="MathJax-Span-401" style="">d<span style=""></span></span><span class="mo" id="MathJax-Span-402" style="">(</span><span class="mi" id="MathJax-Span-403" style="">i</span><span class="mo" id="MathJax-Span-404" style="">+</span><span class="mn" id="MathJax-Span-405" style="">1</span><span class="mo" id="MathJax-Span-406" style="">)</span><span class="mo" id="MathJax-Span-407" style="">≥</span><span class="mn" id="MathJax-Span-408" style="">0</span><span class="texatom" id="MathJax-Span-409" style=""><span class="mrow" id="MathJax-Span-410" style=""><span class="mo" id="MathJax-Span-411" style=""><span style="">，</span></span></span></span><span class="texatom" id="MathJax-Span-412" style=""><span class="mrow" id="MathJax-Span-413" style=""><span class="mo" id="MathJax-Span-414" style=""><span style="">则</span></span></span></span><span class="mi" id="MathJax-Span-415" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-416" style="">r</span><span class="mi" id="MathJax-Span-417" style="">e</span><span class="mi" id="MathJax-Span-418" style="">n</span><span class="mi" id="MathJax-Span-419" style="">d<span style=""></span></span><span class="mo" id="MathJax-Span-420" style="">(</span><span class="mi" id="MathJax-Span-421" style="">i</span><span class="mo" id="MathJax-Span-422" style="">)</span><span class="mo" id="MathJax-Span-423" style="">=</span><span class="mn" id="MathJax-Span-424" style="">1</span><span style=""></span></span><span style=""><span class="mspace" id="MathJax-Span-425" style=""></span><span class="mi" id="MathJax-Span-426" style="">i</span><span class="mi" id="MathJax-Span-427" style="">f<span style=""></span></span><span class="mtext" id="MathJax-Span-428" style=""> </span><span class="mi" id="MathJax-Span-429" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-430" style="">r</span><span class="mi" id="MathJax-Span-431" style="">e</span><span class="mi" id="MathJax-Span-432" style="">n</span><span class="mi" id="MathJax-Span-433" style="">d<span style=""></span></span><span class="mo" id="MathJax-Span-434" style="">(</span><span class="mi" id="MathJax-Span-435" style="">i</span><span class="mo" id="MathJax-Span-436" style="">)</span><span class="mo" id="MathJax-Span-437" style="">=</span><span class="mn" id="MathJax-Span-438" style="">0</span><span class="texatom" id="MathJax-Span-439" style=""><span class="mrow" id="MathJax-Span-440" style=""><span class="mo" id="MathJax-Span-441" style=""><span style="">且</span></span></span></span><span class="mi" id="MathJax-Span-442" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-443" style="">r</span><span class="mi" id="MathJax-Span-444" style="">e</span><span class="mi" id="MathJax-Span-445" style="">n</span><span class="mi" id="MathJax-Span-446" style="">d<span style=""></span></span><span class="mo" id="MathJax-Span-447" style="">(</span><span class="mi" id="MathJax-Span-448" style="">i</span><span class="mo" id="MathJax-Span-449" style="">+</span><span class="mn" id="MathJax-Span-450" style="">1</span><span class="mo" id="MathJax-Span-451" style="">)</span><span class="mo" id="MathJax-Span-452" style="">&lt;</span><span class="mn" id="MathJax-Span-453" style="">0</span><span class="texatom" id="MathJax-Span-454" style=""><span class="mrow" id="MathJax-Span-455" style=""><span class="mo" id="MathJax-Span-456" style=""><span style="">，</span></span></span></span><span class="texatom" id="MathJax-Span-457" style=""><span class="mrow" id="MathJax-Span-458" style=""><span class="mo" id="MathJax-Span-459" style=""><span style="">则</span></span></span></span><span class="mi" id="MathJax-Span-460" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-461" style="">r</span><span class="mi" id="MathJax-Span-462" style="">e</span><span class="mi" id="MathJax-Span-463" style="">n</span><span class="mi" id="MathJax-Span-464" style="">d<span style=""></span></span><span class="mo" id="MathJax-Span-465" style="">(</span><span class="mi" id="MathJax-Span-466" style="">i</span><span class="mo" id="MathJax-Span-467" style="">)</span><span class="mo" id="MathJax-Span-468" style="">=</span><span class="mo" id="MathJax-Span-469" style="">−</span><span class="mn" id="MathJax-Span-470" style="">1</span><span style=""></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<p></p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 5，对<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-24-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-471" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-472" style=""><span class="mi" id="MathJax-Span-473" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-474" style="">r</span><span class="mi" id="MathJax-Span-475" style="">e</span><span class="mi" id="MathJax-Span-476" style="">n</span><span class="mi" id="MathJax-Span-477" style="">d<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>向量进行一阶差分运算，如同步骤2，得到<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-25-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-478" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-479" style=""><span class="mi" id="MathJax-Span-480" style="">R</span><span class="mo" id="MathJax-Span-481" style="">=</span><span class="mi" id="MathJax-Span-482" style="">d<span style=""></span></span><span class="mi" id="MathJax-Span-483" style="">i</span><span class="mi" id="MathJax-Span-484" style="">f<span style=""></span></span><span class="mi" id="MathJax-Span-485" style="">f<span style=""></span></span><span class="mo" id="MathJax-Span-486" style="">(</span><span class="mi" id="MathJax-Span-487" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-488" style="">r</span><span class="mi" id="MathJax-Span-489" style="">e</span><span class="mi" id="MathJax-Span-490" style="">n</span><span class="mi" id="MathJax-Span-491" style="">d<span style=""></span></span><span class="mo" id="MathJax-Span-492" style="">)</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 6，遍历得到的差分向量<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-26-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-493" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-494" style=""><span class="mi" id="MathJax-Span-495" style="">R</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>，如果<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-27-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-496" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-497" style=""><span class="mi" id="MathJax-Span-498" style="">R</span><span class="mo" id="MathJax-Span-499" style="">(</span><span class="mi" id="MathJax-Span-500" style="">i</span><span class="mo" id="MathJax-Span-501" style="">)</span><span class="mo" id="MathJax-Span-502" style="">=</span><span class="mo" id="MathJax-Span-503" style="">−</span><span class="mn" id="MathJax-Span-504" style="">2</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>，则<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-28-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-505" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-506" style=""><span class="mi" id="MathJax-Span-507" style="">i</span><span class="mo" id="MathJax-Span-508" style="">+</span><span class="mn" id="MathJax-Span-509" style="">1</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>为投影向量<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-29-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-510" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-511" style=""><span class="mi" id="MathJax-Span-512" style="">V<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>的一个峰值位，对应的峰值为<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-30-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-513" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-514" style=""><span class="mi" id="MathJax-Span-515" style="">V<span style=""></span></span><span class="mo" id="MathJax-Span-516" style="">(</span><span class="mi" id="MathJax-Span-517" style="">i</span><span class="mo" id="MathJax-Span-518" style="">+</span><span class="mn" id="MathJax-Span-519" style="">1</span><span class="mo" id="MathJax-Span-520" style="">)</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>；如果<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-31-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-521" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-522" style=""><span class="mi" id="MathJax-Span-523" style="">R</span><span class="mo" id="MathJax-Span-524" style="">(</span><span class="mi" id="MathJax-Span-525" style="">i</span><span class="mo" id="MathJax-Span-526" style="">)</span><span class="mo" id="MathJax-Span-527" style="">=</span><span class="mn" id="MathJax-Span-528" style="">2</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>，则<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-32-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-529" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-530" style=""><span class="mi" id="MathJax-Span-531" style="">i</span><span class="mo" id="MathJax-Span-532" style="">+</span><span class="mn" id="MathJax-Span-533" style="">1</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>为投影向量<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-33-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-534" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-535" style=""><span class="mi" id="MathJax-Span-536" style="">V<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>的一个波谷位，对应的波谷为<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-34-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-537" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-538" style=""><span class="mi" id="MathJax-Span-539" style="">V<span style=""></span></span><span class="mo" id="MathJax-Span-540" style="">(</span><span class="mi" id="MathJax-Span-541" style="">i</span><span class="mo" id="MathJax-Span-542" style="">+</span><span class="mn" id="MathJax-Span-543" style="">1</span><span class="mo" id="MathJax-Span-544" style="">)</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px">         下面我们来结合一个实际的向量值，给中中间结合的计算。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 1，<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-35-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-545" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-546" style=""><span class="mi" id="MathJax-Span-547" style="">V<span style=""></span></span><span class="mo" id="MathJax-Span-548" style="">=</span><span class="mo" id="MathJax-Span-549" style="">[</span><span class="mo" id="MathJax-Span-550" style="">−</span><span class="mn" id="MathJax-Span-551" style="">5</span><span class="mo" id="MathJax-Span-552" style="">,</span><span class="mn" id="MathJax-Span-553" style="">10</span><span class="mo" id="MathJax-Span-554" style="">,</span><span class="mn" id="MathJax-Span-555" style="">10</span><span class="mo" id="MathJax-Span-556" style="">,</span><span class="mn" id="MathJax-Span-557" style="">14</span><span class="mo" id="MathJax-Span-558" style="">,</span><span class="mn" id="MathJax-Span-559" style="">14</span><span class="mo" id="MathJax-Span-560" style="">,</span><span class="mn" id="MathJax-Span-561" style="">8</span><span class="mo" id="MathJax-Span-562" style="">,</span><span class="mn" id="MathJax-Span-563" style="">8</span><span class="mo" id="MathJax-Span-564" style="">,</span><span class="mn" id="MathJax-Span-565" style="">6</span><span class="mo" id="MathJax-Span-566" style="">,</span><span class="mn" id="MathJax-Span-567" style="">6</span><span class="mo" id="MathJax-Span-568" style="">,</span><span class="mo" id="MathJax-Span-569" style="">−</span><span class="mn" id="MathJax-Span-570" style="">3</span><span class="mo" id="MathJax-Span-571" style="">,</span><span class="mn" id="MathJax-Span-572" style="">2</span><span class="mo" id="MathJax-Span-573" style="">,</span><span class="mn" id="MathJax-Span-574" style="">2</span><span class="mo" id="MathJax-Span-575" style="">,</span><span class="mn" id="MathJax-Span-576" style="">2</span><span class="mo" id="MathJax-Span-577" style="">,</span><span class="mn" id="MathJax-Span-578" style="">2</span><span class="mo" id="MathJax-Span-579" style="">,</span><span class="mo" id="MathJax-Span-580" style="">−</span><span class="mn" id="MathJax-Span-581" style="">3</span><span class="mo" id="MathJax-Span-582" style="">]</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 它的曲线图像如下把示，图中红色圈标出了曲线的峰值，而绿字圈标出了图像的波谷位置。</p> 
<p style="text-align:center; margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> <img src="https://images2.imgbox.com/93/0a/obWUTuoD_o.png" alt=""><br> </p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> </p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 2，计算<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-36-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-583" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-584" style=""><span class="mi" id="MathJax-Span-585" style="">V<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>的一阶差分，我们得到<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-37-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-586" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-587" style=""><span class="mi" id="MathJax-Span-588" style="">D</span><span class="mi" id="MathJax-Span-589" style="">i</span><span class="mi" id="MathJax-Span-590" style="">f<span style=""></span></span><span class="mi" id="MathJax-Span-591" style="">f<span style=""></span></span><span class="mo" id="MathJax-Span-592" style="">(</span><span class="mi" id="MathJax-Span-593" style="">V<span style=""></span></span><span class="mo" id="MathJax-Span-594" style="">)</span><span class="mo" id="MathJax-Span-595" style="">=</span><span class="mo" id="MathJax-Span-596" style="">[</span><span class="mn" id="MathJax-Span-597" style="">15</span><span class="mo" id="MathJax-Span-598" style="">,</span><span class="mn" id="MathJax-Span-599" style="">0</span><span class="mo" id="MathJax-Span-600" style="">,</span><span class="mn" id="MathJax-Span-601" style="">4</span><span class="mo" id="MathJax-Span-602" style="">,</span><span class="mn" id="MathJax-Span-603" style="">0</span><span class="mo" id="MathJax-Span-604" style="">,</span><span class="mo" id="MathJax-Span-605" style="">,</span><span class="mo" id="MathJax-Span-606" style="">−</span><span class="mn" id="MathJax-Span-607" style="">6</span><span class="mo" id="MathJax-Span-608" style="">,</span><span class="mn" id="MathJax-Span-609" style="">0</span><span class="mo" id="MathJax-Span-610" style="">,</span><span class="mo" id="MathJax-Span-611" style="">−</span><span class="mn" id="MathJax-Span-612" style="">2</span><span class="mo" id="MathJax-Span-613" style="">,</span><span class="mn" id="MathJax-Span-614" style="">0</span><span class="mo" id="MathJax-Span-615" style="">,</span><span class="mo" id="MathJax-Span-616" style="">−</span><span class="mn" id="MathJax-Span-617" style="">9</span><span class="mo" id="MathJax-Span-618" style="">,</span><span class="mn" id="MathJax-Span-619" style="">5</span><span class="mo" id="MathJax-Span-620" style="">,</span><span class="mn" id="MathJax-Span-621" style="">0</span><span class="mo" id="MathJax-Span-622" style="">,</span><span class="mn" id="MathJax-Span-623" style="">0</span><span class="mo" id="MathJax-Span-624" style="">,</span><span class="mn" id="MathJax-Span-625" style="">0</span><span class="mo" id="MathJax-Span-626" style="">,</span><span class="mo" id="MathJax-Span-627" style="">−</span><span class="mn" id="MathJax-Span-628" style="">5</span><span class="mo" id="MathJax-Span-629" style="">]</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 3，对<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-38-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-630" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-631" style=""><span class="mi" id="MathJax-Span-632" style="">D</span><span class="mi" id="MathJax-Span-633" style="">i</span><span class="mi" id="MathJax-Span-634" style="">f<span style=""></span></span><span class="msubsup" id="MathJax-Span-635" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-636" style="">f<span style=""></span></span><span style=""></span></span><span style=""><span class="mi" id="MathJax-Span-637" style="">v</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>进行取符号运算，得到向量<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-39-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-638" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-639" style=""><span class="mi" id="MathJax-Span-640" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-641" style="">r</span><span class="mi" id="MathJax-Span-642" style="">e</span><span class="mi" id="MathJax-Span-643" style="">n</span><span class="mi" id="MathJax-Span-644" style="">d<span style=""></span></span><span class="mo" id="MathJax-Span-645" style="">=</span><span class="mo" id="MathJax-Span-646" style="">[</span><span class="mn" id="MathJax-Span-647" style="">1</span><span class="mo" id="MathJax-Span-648" style="">,</span><span class="mn" id="MathJax-Span-649" style="">0</span><span class="mo" id="MathJax-Span-650" style="">,</span><span class="mn" id="MathJax-Span-651" style="">1</span><span class="mo" id="MathJax-Span-652" style="">,</span><span class="mn" id="MathJax-Span-653" style="">0</span><span class="mo" id="MathJax-Span-654" style="">,</span><span class="mo" id="MathJax-Span-655" style="">−</span><span class="mn" id="MathJax-Span-656" style="">1</span><span class="mo" id="MathJax-Span-657" style="">,</span><span class="mn" id="MathJax-Span-658" style="">0</span><span class="mo" id="MathJax-Span-659" style="">,</span><span class="mo" id="MathJax-Span-660" style="">−</span><span class="mn" id="MathJax-Span-661" style="">1</span><span class="mo" id="MathJax-Span-662" style="">,</span><span class="mn" id="MathJax-Span-663" style="">0</span><span class="mo" id="MathJax-Span-664" style="">,</span><span class="mo" id="MathJax-Span-665" style="">−</span><span class="mn" id="MathJax-Span-666" style="">1</span><span class="mo" id="MathJax-Span-667" style="">,</span><span class="mn" id="MathJax-Span-668" style="">1</span><span class="mo" id="MathJax-Span-669" style="">,</span><span class="mn" id="MathJax-Span-670" style="">0</span><span class="mo" id="MathJax-Span-671" style="">,</span><span class="mn" id="MathJax-Span-672" style="">0</span><span class="mo" id="MathJax-Span-673" style="">,</span><span class="mn" id="MathJax-Span-674" style="">0</span><span class="mo" id="MathJax-Span-675" style="">,</span><span class="mn" id="MathJax-Span-676" style="">1</span><span class="mo" id="MathJax-Span-677" style="">]</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 4，对<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-40-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-678" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-679" style=""><span class="mi" id="MathJax-Span-680" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-681" style="">r</span><span class="mi" id="MathJax-Span-682" style="">e</span><span class="mi" id="MathJax-Span-683" style="">n</span><span class="mi" id="MathJax-Span-684" style="">d<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>作一次遍历，如步骤4。<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-41-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-685" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-686" style=""><span class="mi" id="MathJax-Span-687" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-688" style="">r</span><span class="mi" id="MathJax-Span-689" style="">e</span><span class="mi" id="MathJax-Span-690" style="">n</span><span class="mi" id="MathJax-Span-691" style="">d<span style=""></span></span><span class="mo" id="MathJax-Span-692" style="">=</span><span class="mo" id="MathJax-Span-693" style="">[</span><span class="mn" id="MathJax-Span-694" style="">1</span><span class="mo" id="MathJax-Span-695" style="">,</span><span class="mn" id="MathJax-Span-696" style="">1</span><span class="mo" id="MathJax-Span-697" style="">,</span><span class="mn" id="MathJax-Span-698" style="">1</span><span class="mo" id="MathJax-Span-699" style="">,</span><span class="mo" id="MathJax-Span-700" style="">−</span><span class="mn" id="MathJax-Span-701" style="">1</span><span class="mo" id="MathJax-Span-702" style="">,</span><span class="mo" id="MathJax-Span-703" style="">−</span><span class="mn" id="MathJax-Span-704" style="">1</span><span class="mo" id="MathJax-Span-705" style="">,</span><span class="mo" id="MathJax-Span-706" style="">−</span><span class="mn" id="MathJax-Span-707" style="">1</span><span class="mo" id="MathJax-Span-708" style="">,</span><span class="mo" id="MathJax-Span-709" style="">−</span><span class="mn" id="MathJax-Span-710" style="">1</span><span class="mo" id="MathJax-Span-711" style="">,</span><span class="mo" id="MathJax-Span-712" style="">−</span><span class="mn" id="MathJax-Span-713" style="">1</span><span class="mo" id="MathJax-Span-714" style="">,</span><span class="mo" id="MathJax-Span-715" style="">−</span><span class="mn" id="MathJax-Span-716" style="">1</span><span class="mo" id="MathJax-Span-717" style="">,</span><span class="mn" id="MathJax-Span-718" style="">1</span><span class="mo" id="MathJax-Span-719" style="">,</span><span class="mo" id="MathJax-Span-720" style="">−</span><span class="mn" id="MathJax-Span-721" style="">1</span><span class="mo" id="MathJax-Span-722" style="">,</span><span class="mo" id="MathJax-Span-723" style="">−</span><span class="mn" id="MathJax-Span-724" style="">1</span><span class="mo" id="MathJax-Span-725" style="">,</span><span class="mo" id="MathJax-Span-726" style="">−</span><span class="mn" id="MathJax-Span-727" style="">1</span><span class="mo" id="MathJax-Span-728" style="">]</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 5，对<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-42-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-729" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-730" style=""><span class="mi" id="MathJax-Span-731" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-732" style="">r</span><span class="mi" id="MathJax-Span-733" style="">e</span><span class="mi" id="MathJax-Span-734" style="">n</span><span class="mi" id="MathJax-Span-735" style="">d<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>做一阶差分，得到向量<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-43-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-736" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-737" style=""><span class="mi" id="MathJax-Span-738" style="">R</span><span class="mo" id="MathJax-Span-739" style="">=</span><span class="mi" id="MathJax-Span-740" style="">D</span><span class="mi" id="MathJax-Span-741" style="">i</span><span class="mi" id="MathJax-Span-742" style="">f<span style=""></span></span><span class="mi" id="MathJax-Span-743" style="">f<span style=""></span></span><span class="mo" id="MathJax-Span-744" style="">(</span><span class="mi" id="MathJax-Span-745" style="">T<span style=""></span></span><span class="mi" id="MathJax-Span-746" style="">r</span><span class="mi" id="MathJax-Span-747" style="">e</span><span class="mi" id="MathJax-Span-748" style="">n</span><span class="mi" id="MathJax-Span-749" style="">d<span style=""></span></span><span class="mo" id="MathJax-Span-750" style="">)</span><span class="mo" id="MathJax-Span-751" style="">=</span><span class="mo" id="MathJax-Span-752" style="">[</span><span class="mn" id="MathJax-Span-753" style="">0</span><span class="mo" id="MathJax-Span-754" style="">,</span><span class="mn" id="MathJax-Span-755" style="">0</span><span class="mo" id="MathJax-Span-756" style="">,</span><span class="mo" id="MathJax-Span-757" style="">−</span><span class="mn" id="MathJax-Span-758" style="">2</span><span class="mo" id="MathJax-Span-759" style="">,</span><span class="mo" id="MathJax-Span-760" style="">,</span><span class="mn" id="MathJax-Span-761" style="">0</span><span class="mo" id="MathJax-Span-762" style="">,</span><span class="mn" id="MathJax-Span-763" style="">0</span><span class="mo" id="MathJax-Span-764" style="">,</span><span class="mn" id="MathJax-Span-765" style="">0</span><span class="mo" id="MathJax-Span-766" style="">,</span><span class="mn" id="MathJax-Span-767" style="">0</span><span class="mo" id="MathJax-Span-768" style="">,</span><span class="mn" id="MathJax-Span-769" style="">0</span><span class="mo" id="MathJax-Span-770" style="">,</span><span class="mn" id="MathJax-Span-771" style="">2</span><span class="mo" id="MathJax-Span-772" style="">,</span><span class="mo" id="MathJax-Span-773" style="">−</span><span class="mn" id="MathJax-Span-774" style="">2</span><span class="mo" id="MathJax-Span-775" style="">,</span><span class="mn" id="MathJax-Span-776" style="">0</span><span class="mo" id="MathJax-Span-777" style="">,</span><span class="mn" id="MathJax-Span-778" style="">0</span><span class="mo" id="MathJax-Span-779" style="">,</span><span class="mn" id="MathJax-Span-780" style="">0</span><span class="mo" id="MathJax-Span-781" style="">]</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>。</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 6，遍历向量<span class="MathJax_Preview" style="margin:0px; padding:0px; color:rgb(136,136,136); line-height:1.8"></span><span class="MathJax" id="MathJax-Element-44-Frame" style="margin:0px; padding:0px; display:inline; line-height:1.8; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px"> 
   
   <span class="math" id="MathJax-Span-782" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-783" style=""><span class="mi" id="MathJax-Span-784" style="">R</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>,我们就得到了两个峰值点和一个波谷点。</p> 
<h4 style="margin:0px; padding:0px; font-size:16px; font-family:verdana,Arial,Helvetica,sans-serif">         三、算法原理</h4> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px">         其实上述算法的核心思路非常简单，曲线的峰值点，满足一阶导数为0，并且满足二阶导数为负；而波谷点，则满足一阶导数为0，二阶导数为正。在上面的算法里面，我们首先计算了一阶的导数<span class="mi" id="MathJax-Span-787" style="">D</span><span class="mi" id="MathJax-Span-788" style="">i</span><span class="mi" id="MathJax-Span-789" style="">f</span><span style="font-family:MathJax_Math; font-size:18px; line-height:normal; white-space:nowrap; word-spacing:normal"><em>f</em></span><span style="font-family:MathJax_Math; font-size:13px; line-height:normal; white-space:nowrap; word-spacing:normal"><em>v</em></span>，然后我们将其符号化，是因为我们并不关心一阶导数的大小。然后我们去看那些一阶层数为0的地方，我们发现，那些平台上的点，有些并不是波峰与波谷，然后很多处在上坡与下坡的路上，所以我们将它们的一阶导数设为与它们所在的坡面梯度方向相同。最后我们再来计算二阶导数时，就会发现只要为2或者-2,所以曲线斜在这个点发生了变化，由正变负或由负变正。找到这些点，也就找到了原曲线中的波峰或波谷点。</p> 
<h4 style="margin:0px; padding:0px; font-size:16px; font-family:verdana,Arial,Helvetica,sans-serif">          四、实现</h4> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px">         下面给出这个算法的C++实现，findPeaks是查找波峰函数，而查找波谷函数则类似，这里没有写在一个函数内。函数接受一个Vecotr&lt;int&gt;的向量，输出为一个vector&lt;int&gt;的位置向量。</p> 
<pre><code class="language-cpp">void findPeak(const vector&lt;int&gt;&amp; v,  vector&lt;int&gt;&amp; peakPositions)
{
    vector&lt;int&gt; diff_v (v.size() - 1, 0);
    // 计算V的一阶差分和符号函数trend
    for (vector&lt;int&gt;::size_type i = 0; i !=diff_v.size(); i++)
    {
        if (v[i + 1] - v[i]&gt;0)
            diff_v[i] = 1;
        else if (v[i + 1] - v[i] &lt; 0)
            diff_v[i] = -1;
        else
            diff_v[i] = 0;
    }
    // 对Trend作了一个遍历
    for (int i = diff_v.size() - 1; i &gt;= 0; i--)
    {
        if (diff_v[i] == 0 &amp;&amp; i ==diff_v.size()-1)
        {
            diff_v[i] = 1;
        }
        else if (diff_v[i] == 0)
        {
            if (diff_v[i + 1] &gt;= 0)
                diff_v[i] = 1;
            else
                diff_v[i] = -1;
        }
    }

    for (vector&lt;int&gt;::size_type i = 0; i != diff_v.size() - 1; i++)
    {
        if (diff_v[i + 1] - diff_v[i] == -2)
            peakPositions.push_back(i + 1);
    }
}</code></pre>            
<strong> <span style="font-size:18px">五 应用</span></strong> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px">         本应用主要是采用灰度垂直投影来寻找锂电池的极片（极片区域即为黄色矩形框），首先通过定位和分割算法找到电池的大概位置（前期处理的中间图），结果如下所示：</p> 
<p style="text-align:center; margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> <img src="https://images2.imgbox.com/e2/67/wmyqvDNp_o.jpg" width="320" height="480" alt=""><br> </p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 通过对上面寻找极值的方法进行稍微的改动和修正（也即对极片直接的距离和极片位于两个波峰之间等条件），处理后如下图：</p> 
<p style="text-align:center; margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> <img src="https://images2.imgbox.com/b7/6e/kIt6IBiH_o.jpg" width="320" height="480" alt=""><br> </p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 可以看到，极片能够很好地被定位到。      </p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 参考资料：</p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> 1、<a target="_blank" href="http://www.cnblogs.com/ronny/p/3616470.html" rel="nofollow noopener noreferrer">图像分析：投影曲线的波峰查找</a></p> 
<p style="margin:10px auto; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:verdana,Arial,Helvetica,sans-serif; font-size:14px; line-height:25px"> </p> 
<h2 style="margin:0px; padding:0px; color:rgb(51,51,51); line-height:26px; font-family:Simsun"> <span style="font-family:Arial; font-size:14px">作者：</span><span style="font-size:14px; text-indent:28px; font-family:'Times New Roman'">kezunhai</span><span style="font-family:Arial; font-size:14px; text-indent:28px">出处：</span><span style="font-size:14px; text-indent:28px; font-family:'Times New Roman'"><a target="_blank" href="http://blog.csdn.net/kezunhai" style="color:rgb(202,0,0); text-decoration:none" rel="noopener noreferrer">http://blog.csdn.net/kezunhai</a></span><span style="font-family:Arial; font-size:14px; text-indent:28px">欢迎转载或分享，但请务必声明文章出处。</span></h2> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2cf11cf7c40cf8b2dfe9698dc2e4bf4b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Impala ODBC 安装笔记</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/65fc8d8ff8ca2624f219ef3fd695e677/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">jvm学习笔记--基本结构</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>