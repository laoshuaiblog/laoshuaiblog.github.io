<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【AI绘画&#43;本地部署】基于krita的AI绘画（含windows一键整合包） - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/cb487b5d61de93e0d7c3371bcaba337b/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="【AI绘画&#43;本地部署】基于krita的AI绘画（含windows一键整合包）">
  <meta property="og:description" content="comfyui&#43;krita所有相关资源整合包(无需下载后面链接)百度网盘：https://pan.baidu.com/s/1iwNRpdTaD26YbzSDm6WLDA?pwd=bur8
–来自百度网盘超级会员V4的分享
krita绘画软件官网地址 https://krita.org/en/download/krita-desktop/
krita-ai-diffusion 插件：https://github.com/Acly/krita-ai-diffusion
英文文字教程：https://weirdwonderfulai.art/tutorial/generative-ai-for-krita/
B站视频教程： 实时AI绘画工作流 Krita&#43;ComfyUI&#43;LCM 完全开源免费本地部署 手残也能轻松愉快涂鸦了
文章目录 准备一、krita&#43;AI绘画插件安装导入 krita_ai_diffusion-1.7.1.zip （无需解压）启动插件 二、开始使用运行前先配置参数原始生成模式（generate）全画布大小生成 附录：制作整合包需要的资源（如果找不到模型，请参考路径反复核对）：需要安装的自定义节点（需要访问github）需要的模型SharedSD 1.5SD XL Checkpoints The following checkpoints are used by the default styles: 链接本地的comfyui缺少 CLIPVision model pytorch_model.bin缺少 IPAdapter model ip-adapter_sd15.safetensors LCM相关（运行实时生成流） 准备 下载整合包 (comfyui&#43;krita&#43;插件) ：https://pan.baidu.com/s/1iwNRpdTaD26YbzSDm6WLDA?pwd=bur8
一、krita&#43;AI绘画插件安装 krita是开源的类似photoshop的多图层绘图软件
新建图像后出现下面界面
导入 krita_ai_diffusion-1.7.1.zip （无需解压） 工具 》 脚本 》》 从文件导入Python插件
导入成功
启动插件 显示AI图像生成面板
启用后界面
配置 链接启动的comfyu
https://127.0.0.1:8188
二、开始使用 3个模式：生成(generate) 超分 (upscale ) Live （实时绘画）
运行前先配置参数 选择模型，lora , 采样次数等">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-01-19T18:05:21+08:00">
    <meta property="article:modified_time" content="2024-01-19T18:05:21+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【AI绘画&#43;本地部署】基于krita的AI绘画（含windows一键整合包）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/10/f4/p8fqHcmc_o.gif" alt="在这里插入图片描述"><br> comfyui+krita所有相关资源<code>整合包</code>(无需下载后面链接)百度网盘：<a href="https://pan.baidu.com/s/1iwNRpdTaD26YbzSDm6WLDA?pwd=bur8" rel="nofollow">https://pan.baidu.com/s/1iwNRpdTaD26YbzSDm6WLDA?pwd=bur8</a></p> 
<p>–来自百度网盘超级会员V4的分享<br> krita绘画软件<code>官网</code>地址 <a href="https://krita.org/en/download/krita-desktop/" rel="nofollow">https://krita.org/en/download/krita-desktop/</a><br> krita-ai-diffusion 插件：<a href="https://github.com/Acly/krita-ai-diffusion">https://github.com/Acly/krita-ai-diffusion</a><br> 英文文字教程：<a href="https://weirdwonderfulai.art/tutorial/generative-ai-for-krita/" rel="nofollow">https://weirdwonderfulai.art/tutorial/generative-ai-for-krita/</a><br> <code>B站</code><strong>视频</strong>教程： <a href="https://www.bilibili.com/video/BV1yu411F71B/" rel="nofollow">实时AI绘画工作流 Krita+ComfyUI+LCM 完全开源免费本地部署 手残也能轻松愉快涂鸦了</a></p> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_10" rel="nofollow">准备</a></li><li><a href="#kritaAI_15" rel="nofollow">一、krita+AI绘画插件安装</a></li><li><ul><li><a href="#_krita_ai_diffusion171zip__19" rel="nofollow">导入 krita_ai_diffusion-1.7.1.zip （无需解压）</a></li><li><ul><li><a href="#_26" rel="nofollow">启动插件</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_36" rel="nofollow">二、开始使用</a></li><li><ul><li><a href="#_39" rel="nofollow">运行前先配置参数</a></li><li><a href="#generate_44" rel="nofollow">原始生成模式（generate）</a></li><li><ul><li><a href="#_48" rel="nofollow">全画布大小生成</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_55" rel="nofollow">附录：制作整合包需要的资源（如果找不到模型，请参考路径反复核对）：</a></li><li><ul><li><a href="#github_58" rel="nofollow">需要安装的自定义节点（需要访问github）</a></li><li><a href="#_65" rel="nofollow">需要的模型</a></li><li><ul><li><a href="#Shared_69" rel="nofollow">Shared</a></li><li><a href="#SD_15_73" rel="nofollow">SD 1.5</a></li><li><a href="#SD_XL_80" rel="nofollow">SD XL</a></li></ul> 
   </li><li><a href="#Checkpoints_The_following_checkpoints_are_used_by_the_default_styles_84" rel="nofollow">Checkpoints The following checkpoints are used by the default styles:</a></li></ul> 
  </li><li><a href="#comfyui_93" rel="nofollow">链接本地的comfyui</a></li><li><ul><li><a href="#____CLIPVision_model_pytorch_modelbin_99" rel="nofollow">缺少 CLIPVision model pytorch_model.bin</a></li><li><a href="#__IPAdapter_model_ipadapter_sd15safetensors_103" rel="nofollow">缺少 IPAdapter model ip-adapter_sd15.safetensors</a></li></ul> 
  </li><li><a href="#LCM_107" rel="nofollow">LCM相关（运行实时生成流）</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_10"></a>准备</h2> 
<p>下载整合包 (comfyui+krita+插件) ：<a href="https://pan.baidu.com/s/1iwNRpdTaD26YbzSDm6WLDA?pwd=bur8" rel="nofollow">https://pan.baidu.com/s/1iwNRpdTaD26YbzSDm6WLDA?pwd=bur8</a></p> 
<p><img src="https://images2.imgbox.com/1b/cc/NS2oDI8o_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="kritaAI_15"></a>一、krita+AI绘画插件安装</h2> 
<p>krita是开源的类似photoshop的多图层绘图软件<br> <code>新建图像</code>后出现下面界面<br> <img src="https://images2.imgbox.com/98/da/Mlf8AwJQ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_krita_ai_diffusion171zip__19"></a>导入 krita_ai_diffusion-1.7.1.zip （无需解压）</h3> 
<p>工具 》 脚本 》》 从文件导入Python插件<br> <img src="https://images2.imgbox.com/6e/92/5floH3le_o.png" alt="在这里插入图片描述"><br> 导入成功<br> <img src="https://images2.imgbox.com/86/9d/8ZQqIgZs_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_26"></a>启动插件</h4> 
<p>显示AI图像生成面板<br> <img src="https://images2.imgbox.com/6e/de/S6Vcw3l9_o.png" alt="在这里插入图片描述"><br> 启用后界面<br> <img src="https://images2.imgbox.com/be/6c/OkYhNCZc_o.png" alt="在这里插入图片描述"><br> 配置 链接启动的comfyu<br> https://127.0.0.1:8188</p> 
<p><img src="https://images2.imgbox.com/29/ec/PVQLzbQT_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_36"></a>二、开始使用</h2> 
<p>3个模式：生成(generate) 超分 (upscale ) Live （实时绘画）<br> <img src="https://images2.imgbox.com/d5/0f/Cm4B2HVZ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_39"></a>运行前先配置参数</h3> 
<p>选择模型，lora , 采样次数等<br> <img src="https://images2.imgbox.com/01/0e/H6Tz05PK_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="generate_44"></a>原始生成模式（generate）</h3> 
<p>速度慢，精度略有提升</p> 
<h4><a id="_48"></a>全画布大小生成</h4> 
<p>画布太大 3000x2000 ,跑了2分钟（新建时一定注意）<br> <img src="https://images2.imgbox.com/2b/3f/55PDxF8V_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_55"></a>附录：制作整合包需要的资源（如果找不到模型，请参考路径反复核对）：</h2> 
<p><a href="https://github.com/Acly/krita-ai-diffusion/blob/main/doc/comfy-requirements.md">https://github.com/Acly/krita-ai-diffusion/blob/main/doc/comfy-requirements.md</a></p> 
<blockquote> 
 <h3><a id="github_58"></a>需要安装的自定义节点（需要访问github）</h3> 
 <p>Install custom nodes according to the instructions of the respective projects, or use <a href="https://github.com/ltdrdata/ComfyUI-Manager">ComfyUI Manager</a>.</p> 
 <ul><li><a href="https://github.com/Fannovel16/comfyui_controlnet_aux">ControlNet preprocessors</a></li><li><a href="https://github.com/cubiq/ComfyUI_IPAdapter_plus">IP-Adapter</a></li><li><a href="https://github.com/ssitu/ComfyUI_UltimateSDUpscale">Ultimate SD Upscale</a></li><li><a href="https://github.com/Acly/comfyui-tooling-nodes">External tooling nodes</a></li></ul> 
 <h3><a id="_65"></a>需要的模型</h3> 
 <p>Download models to the paths indicated below. If you are using <code>extra_model_paths.yml</code>, those will also work. Shared<br> models are always required, and at least one of SD1.5 and SDXL is needed.</p> 
 <h4><a id="Shared_69"></a>Shared</h4> 
 <ul><li><a href="https://huggingface.co/h94/IP-Adapter/resolve/main/models/image_encoder/model.safetensors?download=true" rel="nofollow">Clip-Vision</a> to <code>models/clip_vision/SD1.5</code></li><li><a href="https://huggingface.co/gemasai/4x_NMKD-Superscale-SP_178000_G/resolve/main/4x_NMKD-Superscale-SP_178000_G.pth" rel="nofollow">NMKD Superscale SP_178000_G</a> to <code>models/upscale_models</code></li></ul> 
 <h4><a id="SD_15_73"></a>SD 1.5</h4> 
 <ul><li><a href="https://huggingface.co/comfyanonymous/ControlNet-v1-1_fp16_safetensors/resolve/main/control_v11p_sd15_inpaint_fp16.safetensors" rel="nofollow">ControlNet inpaint</a> to <code>models/controlnet</code></li><li><a href="https://huggingface.co/comfyanonymous/ControlNet-v1-1_fp16_safetensors/resolve/main/control_lora_rank128_v11f1e_sd15_tile_fp16.safetensors" rel="nofollow">ControlNet tile</a> to <code>models/controlnet</code></li><li><a href="https://huggingface.co/h94/IP-Adapter/resolve/main/models/ip-adapter_sd15.safetensors" rel="nofollow">IP-Adapter (SD1.5)</a> to <code>custom_nodes/ComfyUI_IPAdapter_plus/models</code></li><li><a href="https://huggingface.co/latent-consistency/lcm-lora-sdv1-5/resolve/main/pytorch_lora_weights.safetensors?download=true" rel="nofollow">LCM-LoRA (SD1.5)</a> to <code>models/loras/lcm-lora-sdv1-5.safetensors</code> _ ！*<em>一定记住<code>改名</code>！</em></li></ul> 
 <h4><a id="SD_XL_80"></a>SD XL</h4> 
 <ul><li><a href="https://huggingface.co/h94/IP-Adapter/resolve/main/sdxl_models/ip-adapter_sdxl_vit-h.safetensors" rel="nofollow">IP-Adapter (SDXL)</a> to <code>custom_nodes/ComfyUI_IPAdapter_plus/models</code></li><li><a href="https://huggingface.co/latent-consistency/lcm-lora-sdxl/resolve/main/pytorch_lora_weights.safetensors?download=true" rel="nofollow">LCM-LoRA (SDXL)</a> to <code>models/loras/lcm-lora-sdxl.safetensors</code> <em>rename!</em></li></ul> 
 <h3><a id="Checkpoints_The_following_checkpoints_are_used_by_the_default_styles_84"></a>Checkpoints The following checkpoints are used by the default styles:</h3> 
 <ul><li><a href="https://civitai.com/api/download/models/130072?type=Model&amp;format=SafeTensor&amp;size=pruned&amp;fp=fp16" rel="nofollow">Realistic Vision</a></li><li><a href="https://civitai.com/api/download/models/128713?type=Model&amp;format=SafeTensor&amp;size=pruned&amp;fp=fp16" rel="nofollow">DreamShaper</a></li><li><a href="https://civitai.com/api/download/models/198530" rel="nofollow">JuggernautXL</a></li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/c2/68/XIHd8b2A_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="comfyui_93"></a>链接本地的comfyui</h2> 
<p><img src="https://images2.imgbox.com/84/fe/1jTQw23z_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="____CLIPVision_model_pytorch_modelbin_99"></a>缺少 CLIPVision model pytorch_model.bin</h3> 
<p>官方下载地址：<br> https://huggingface.co/h94/IP-Adapter/tree/main/models/image_encoder<br> <img src="https://images2.imgbox.com/fa/52/X9kYYTk8_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="__IPAdapter_model_ipadapter_sd15safetensors_103"></a>缺少 IPAdapter model ip-adapter_sd15.safetensors</h3> 
<p><img src="https://images2.imgbox.com/cd/e9/lTweZuIi_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="LCM_107"></a>LCM相关（运行实时生成流）</h2> 
<p><img src="https://images2.imgbox.com/9d/05/NWJvLXPA_o.png" alt="在这里插入图片描述"><br> 记住改名就可以了</p> 
<blockquote> 
 <ul><li><a href="https://huggingface.co/latent-consistency/lcm-lora-sdv1-5/resolve/main/pytorch_lora_weights.safetensors?download=true" rel="nofollow">LCM-LoRA (SD1.5)</a> to <code>models/loras/lcm-lora-sdv1-5.safetensors</code> _ ！**一定记住`改名</li></ul> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5c93132fbdb315af99b2d78ceb88e31a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">js/Vue中数组、字符串及对象的常用方法及项目常用案例</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ad72c75983ece2caa5143a3035fe2140/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">arcgis未解之谜 split函数用不了</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>