<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【物联网】详解STM32的GPIO八种输入输出模式，GPIO各种输入输出的区别、初始化的步骤详解，看这文章就行了（超详细） - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/8fb07f1ec70da2734198fd20da0a5ca7/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="【物联网】详解STM32的GPIO八种输入输出模式，GPIO各种输入输出的区别、初始化的步骤详解，看这文章就行了（超详细）">
  <meta property="og:description" content="在STM32微控制器中，常见的输入输出(GPIO)模式有八种，分别是推挽输出、开漏输出、复用推挽输出、复用开漏输出、浮空输入、上拉输入、下拉输入和模拟输入。下面我将为你解释每种模式的特点和区别，并提供相应的示例代码。
文章目录 介绍区别初始化和配置例程步骤解释 介绍 推挽输出(Push-Pull Output)：推挽输出模式是最常见的GPIO输出模式。在该模式下，引脚可以输出高电平或低电平，同时具有一定的驱动能力。引脚在输出低电平时形成低阻抗，输出高电平时形成高阻抗，可以驱动外部电路。 // 初始化推挽输出模式的GPIO GPIO_InitTypeDef GPIO_InitStruct; GPIO_InitStruct.Pin = GPIO_PIN_0; // GPIO引脚号 GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP; // 推挽输出模式 GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH; // GPIO速度设置为高速 HAL_GPIO_Init(GPIOA, &amp;amp;GPIO_InitStruct); // 初始化GPIOA 开漏输出(Open-Drain Output)：开漏输出模式是一种能够输出低电平和高阻抗的GPIO模式。在该模式下，引脚只能输出低电平，要输出高电平需要通过外部上拉电阻或其他方式。通常用于与外部器件连接，例如与开漏输出的I2C总线器件进行通信。 // 初始化开漏输出模式的GPIO GPIO_InitStruct.Pin = GPIO_PIN_0; GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_OD; // 开漏输出模式 GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH; // GPIO速度设置为高速 HAL_GPIO_Init(GPIOA, &amp;amp;GPIO_InitStruct); 复用推挽输出(AF Push-Pull Output)：复用推挽输出模式允许将GPIO引脚用作特定外设功能。在该模式下，引脚可以输出高电平或低电平，并具有一定的驱动能力。 // 初始化复用推挽输出模式的GPIO GPIO_InitStruct.Pin = GPIO_PIN_0; GPIO_InitStruct.Mode = GPIO_MODE_AF_PP; // 复用推挽输出模式 GPIO_InitStruct.Pull = GPIO_NOPULL; // 不设置上拉或下拉 GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH; // GPIO速度设置为高速 HAL_GPIO_Init(GPIOA, &amp;amp;GPIO_InitStruct); 复用开漏输出(AF Open-Drain Output)：复用开漏输出模式允许将GPIO引脚用作特定外设功能。在该模式下，引脚只能输出低电平，要输出高电平需要通过外部上拉电阻或其他方式。 // 初始化复用开漏输出模式的GPIO GPIO_InitStruct.">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-08-01T15:59:10+08:00">
    <meta property="article:modified_time" content="2023-08-01T15:59:10+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【物联网】详解STM32的GPIO八种输入输出模式，GPIO各种输入输出的区别、初始化的步骤详解，看这文章就行了（超详细）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>在STM32微控制器中，常见的输入输出(GPIO)模式有八种，分别是推挽输出、开漏输出、复用推挽输出、复用开漏输出、浮空输入、上拉输入、下拉输入和模拟输入。下面我将为你解释每种模式的特点和区别，并提供相应的示例代码。<br> <img src="https://images2.imgbox.com/40/c6/oJumN0EA_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#_4" rel="nofollow">介绍</a></li><li><a href="#_87" rel="nofollow">区别</a></li><li><a href="#_121" rel="nofollow">初始化和配置</a></li><li><ul><li><a href="#_122" rel="nofollow">例程</a></li><li><a href="#_176" rel="nofollow">步骤解释</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_4"></a>介绍</h3> 
<ol><li>推挽输出(Push-Pull Output)：推挽输出模式是最常见的GPIO输出模式。在该模式下，引脚可以输出高电平或低电平，同时具有一定的驱动能力。引脚在输出低电平时形成低阻抗，输出高电平时形成高阻抗，可以驱动外部电路。</li></ol> 
<pre><code class="prism language-c"><span class="token comment">// 初始化推挽输出模式的GPIO</span>
GPIO_InitTypeDef GPIO_InitStruct<span class="token punctuation">;</span>
GPIO_InitStruct<span class="token punctuation">.</span>Pin <span class="token operator">=</span> GPIO_PIN_0<span class="token punctuation">;</span>               <span class="token comment">// GPIO引脚号</span>
GPIO_InitStruct<span class="token punctuation">.</span>Mode <span class="token operator">=</span> GPIO_MODE_OUTPUT_PP<span class="token punctuation">;</span>     <span class="token comment">// 推挽输出模式</span>
GPIO_InitStruct<span class="token punctuation">.</span>Speed <span class="token operator">=</span> GPIO_SPEED_FREQ_HIGH<span class="token punctuation">;</span>   <span class="token comment">// GPIO速度设置为高速</span>
<span class="token function">HAL_GPIO_Init</span><span class="token punctuation">(</span>GPIOA<span class="token punctuation">,</span> <span class="token operator">&amp;</span>GPIO_InitStruct<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 初始化GPIOA</span>
</code></pre> 
<ol start="2"><li>开漏输出(Open-Drain Output)：开漏输出模式是一种能够输出低电平和高阻抗的GPIO模式。在该模式下，引脚只能输出低电平，要输出高电平需要通过外部上拉电阻或其他方式。通常用于与外部器件连接，例如与开漏输出的I2C总线器件进行通信。</li></ol> 
<pre><code class="prism language-c"><span class="token comment">// 初始化开漏输出模式的GPIO</span>
GPIO_InitStruct<span class="token punctuation">.</span>Pin <span class="token operator">=</span> GPIO_PIN_0<span class="token punctuation">;</span>
GPIO_InitStruct<span class="token punctuation">.</span>Mode <span class="token operator">=</span> GPIO_MODE_OUTPUT_OD<span class="token punctuation">;</span>     <span class="token comment">// 开漏输出模式</span>
GPIO_InitStruct<span class="token punctuation">.</span>Speed <span class="token operator">=</span> GPIO_SPEED_FREQ_HIGH<span class="token punctuation">;</span>   <span class="token comment">// GPIO速度设置为高速</span>
<span class="token function">HAL_GPIO_Init</span><span class="token punctuation">(</span>GPIOA<span class="token punctuation">,</span> <span class="token operator">&amp;</span>GPIO_InitStruct<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ol start="3"><li>复用推挽输出(AF Push-Pull Output)：复用推挽输出模式允许将GPIO引脚用作特定外设功能。在该模式下，引脚可以输出高电平或低电平，并具有一定的驱动能力。</li></ol> 
<pre><code class="prism language-c"><span class="token comment">// 初始化复用推挽输出模式的GPIO</span>
GPIO_InitStruct<span class="token punctuation">.</span>Pin <span class="token operator">=</span> GPIO_PIN_0<span class="token punctuation">;</span>
GPIO_InitStruct<span class="token punctuation">.</span>Mode <span class="token operator">=</span> GPIO_MODE_AF_PP<span class="token punctuation">;</span>          <span class="token comment">// 复用推挽输出模式</span>
GPIO_InitStruct<span class="token punctuation">.</span>Pull <span class="token operator">=</span> GPIO_NOPULL<span class="token punctuation">;</span>              <span class="token comment">// 不设置上拉或下拉</span>
GPIO_InitStruct<span class="token punctuation">.</span>Speed <span class="token operator">=</span> GPIO_SPEED_FREQ_HIGH<span class="token punctuation">;</span>    <span class="token comment">// GPIO速度设置为高速</span>
<span class="token function">HAL_GPIO_Init</span><span class="token punctuation">(</span>GPIOA<span class="token punctuation">,</span> <span class="token operator">&amp;</span>GPIO_InitStruct<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ol start="4"><li>复用开漏输出(AF Open-Drain Output)：复用开漏输出模式允许将GPIO引脚用作特定外设功能。在该模式下，引脚只能输出低电平，要输出高电平需要通过外部上拉电阻或其他方式。</li></ol> 
<pre><code class="prism language-c"><span class="token comment">// 初始化复用开漏输出模式的GPIO</span>
GPIO_InitStruct<span class="token punctuation">.</span>Pin <span class="token operator">=</span> GPIO_PIN_0<span class="token punctuation">;</span>
GPIO_InitStruct<span class="token punctuation">.</span>Mode <span class="token operator">=</span> GPIO_MODE_AF_OD<span class="token punctuation">;</span>          <span class="token comment">// 复用开漏输出模式</span>
GPIO_InitStruct<span class="token punctuation">.</span>Pull <span class="token operator">=</span> GPIO_NOPULL<span class="token punctuation">;</span>              <span class="token comment">// 不设置上拉或下拉</span>
GPIO_InitStruct<span class="token punctuation">.</span>Speed <span class="token operator">=</span> GPIO_SPEED_FREQ_HIGH<span class="token punctuation">;</span>    <span class="token comment">// GPIO速度设置为高速</span>
<span class="token function">HAL_GPIO_Init</span><span class="token punctuation">(</span>GPIOA<span class="token punctuation">,</span> <span class="token operator">&amp;</span>GPIO_InitStruct<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ol start="5"><li>浮空输入(Floating Input)：浮空输入模式是一种高阻抗输入模式。在该模式下，引脚不连接到外部电路，处于高阻抗状态。可以通过读取引脚电平来检测外部信号。</li></ol> 
<pre><code class="prism language-c"><span class="token comment">// 初始化浮空输入模式的GPIO</span>
GPIO_InitStruct<span class="token punctuation">.</span>Pin <span class="token operator">=</span> GPIO_PIN_0<span class="token punctuation">;</span>
GPIO_InitStruct<span class="token punctuation">.</span>Mode <span class="token operator">=</span> GPIO_MODE_INPUT<span class="token punctuation">;</span>          <span class="token comment">// 浮空输入模式</span>
GPIO_InitStruct<span class="token punctuation">.</span>Pull <span class="token operator">=</span> GPIO_NOPULL<span class="token punctuation">;</span>              <span class="token comment">// 不设置上拉或下拉</span>
<span class="token function">HAL_GPIO_Init</span><span class="token punctuation">(</span>GPIOA<span class="token punctuation">,</span> <span class="token operator">&amp;</span>GPIO_InitStruct<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ol start="6"><li>上拉输入(Pull-up Input)：上拉输入模式是一种具有内部上拉电阻的GPIO输入模式。在该模式下，引脚连接到外部电路，通过内部上拉电阻来维持默认电平为高电平。</li></ol> 
<pre><code class="prism language-c"><span class="token comment">// 初始化上拉输入模式的GPIO</span>
GPIO_InitStruct<span class="token punctuation">.</span>Pin <span class="token operator">=</span> GPIO_PIN_0<span class="token punctuation">;</span>
GPIO_InitStruct<span class="token punctuation">.</span>Mode <span class="token operator">=</span> GPIO_MODE_INPUT<span class="token punctuation">;</span>          <span class="token comment">// 上拉输入模式</span>
GPIO_InitStruct<span class="token punctuation">.</span>Pull <span class="token operator">=</span> GPIO_PULLUP<span class="token punctuation">;</span>              <span class="token comment">// 上拉输入</span>
<span class="token function">HAL_GPIO_Init</span><span class="token punctuation">(</span>GPIOA<span class="token punctuation">,</span> <span class="token operator">&amp;</span>GPIO_InitStruct<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ol start="7"><li>下拉输入(Pull-down Input)：下拉输入模式是一种具有内部下拉电阻的GPIO输入模式。在该模式下，引脚连接到外部电路，通过内部下拉电阻来维持默认电平为低电平。</li></ol> 
<pre><code class="prism language-c"><span class="token comment">// 初始化下拉输入模式的GPIO</span>
GPIO_InitStruct<span class="token punctuation">.</span>Pin <span class="token operator">=</span> GPIO_PIN_0<span class="token punctuation">;</span>
GPIO_InitStruct<span class="token punctuation">.</span>Mode <span class="token operator">=</span> GPIO_MODE_INPUT<span class="token punctuation">;</span>          <span class="token comment">// 下拉输入模式</span>
GPIO_InitStruct<span class="token punctuation">.</span>Pull <span class="token operator">=</span> GPIO_PULLDOWN<span class="token punctuation">;</span>            <span class="token comment">// 下拉输入</span>
<span class="token function">HAL_GPIO_Init</span><span class="token punctuation">(</span>GPIOA<span class="token punctuation">,</span> <span class="token operator">&amp;</span>GPIO_InitStruct<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ol start="8"><li>模拟输入(Analog Input)：模拟输入模式是一种用于ADC（模数转换器）输入的特殊模式。在该模式下，引脚可以接收连续变化的模拟信号。</li></ol> 
<pre><code class="prism language-c"><span class="token comment">// 初始化模拟输入模式的GPIO</span>
GPIO_InitStruct<span class="token punctuation">.</span>Pin <span class="token operator">=</span> GPIO_PIN_0<span class="token punctuation">;</span>
GPIO_InitStruct<span class="token punctuation">.</span>Mode <span class="token operator">=</span> GPIO_MODE_ANALOG<span class="token punctuation">;</span>         <span class="token comment">// 模拟输入模式</span>
GPIO_InitStruct<span class="token punctuation">.</span>Pull <span class="token operator">=</span> GPIO_NOPULL<span class="token punctuation">;</span>              <span class="token comment">// 不设置上拉或下拉</span>
<span class="token function">HAL_GPIO_Init</span><span class="token punctuation">(</span>GPIOA<span class="token punctuation">,</span> <span class="token operator">&amp;</span>GPIO_InitStruct<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_87"></a>区别</h3> 
<ol><li> <p>推挽输出(Push-Pull Output)：</p> 
  <ul><li>特点：可以输出高电平和低电平，具有一定的驱动能力。</li><li>应用场景：用于驱动外部电路，如控制LED灯、驱动其他逻辑电路等。</li></ul> </li><li> <p>开漏输出(Open-Drain Output)：</p> 
  <ul><li>特点：只能输出低电平，需要外部上拉电阻将引脚拉高；具有一定的驱动能力。</li><li>应用场景：与外部器件连接时，如I2C总线，用于与其他设备进行通信。</li></ul> </li><li> <p>复用推挽输出(AF Push-Pull Output)：</p> 
  <ul><li>特点：具有推挽输出的特性，可用于将GPIO引脚用作特定外设的功能。</li><li>应用场景：连接到外设的特殊功能引脚，如UART串口通信引脚、PWM输出等。</li></ul> </li><li> <p>复用开漏输出(AF Open-Drain Output)：</p> 
  <ul><li>特点：具有开漏输出的特性，可用于将GPIO引脚用作特定外设的功能。</li><li>应用场景：连接到外设的特殊功能引脚，如I2C总线通信引脚、故障信号输出等。</li></ul> </li><li> <p>浮空输入(Floating Input)：</p> 
  <ul><li>特点：引脚处于高阻抗状态，未连接到外部电路，测量外部信号电平。</li><li>应用场景：接收外部信号的状态，如按键输入、传感器输入等。</li></ul> </li><li> <p>上拉输入(Pull-up Input)：</p> 
  <ul><li>特点：具有内部上拉电阻，引脚的默认电平为高电平。</li><li>应用场景：检测外部信号为低电平时，例如按键按下。</li></ul> </li><li> <p>下拉输入(Pull-down Input)：</p> 
  <ul><li>特点：具有内部下拉电阻，引脚的默认电平为低电平。</li><li>应用场景：检测外部信号为高电平时，例如按键抬起。</li></ul> </li><li> <p>模拟输入(Analog Input)：</p> 
  <ul><li>特点：用于接收连续变化的模拟信号，通常与ADC（模数转换器）配合使用。</li><li>应用场景：测量传感器信号、音频输入等模拟信号的变化。</li></ul> </li></ol> 
<h3><a id="_121"></a>初始化和配置</h3> 
<h4><a id="_122"></a>例程</h4> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"stm32xxxx.h"</span>  <span class="token comment">// 包含特定的STM32系列头文件</span></span>

<span class="token keyword">void</span> <span class="token function">GPIO_Init</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    GPIO_InitTypeDef gpio_init<span class="token punctuation">;</span>  <span class="token comment">// 定义GPIO初始化结构体</span>

    <span class="token comment">// 1. 配置引脚</span>
    gpio_init<span class="token punctuation">.</span>GPIO_Pin <span class="token operator">=</span> GPIO_Pin_x<span class="token punctuation">;</span>  <span class="token comment">// x为需要初始化的引脚编号</span>
    gpio_init<span class="token punctuation">.</span>GPIO_Mode <span class="token operator">=</span> GPIO_Mode_x<span class="token punctuation">;</span> <span class="token comment">// x为引脚模式，如GPIO_Mode_IN、GPIO_Mode_OUT等</span>
    gpio_init<span class="token punctuation">.</span>GPIO_Speed <span class="token operator">=</span> GPIO_Speed_x<span class="token punctuation">;</span>  <span class="token comment">// x为引脚速度，如GPIO_Speed_2MHz、GPIO_Speed_50MHz等</span>
    gpio_init<span class="token punctuation">.</span>GPIO_OType <span class="token operator">=</span> GPIO_OType_x<span class="token punctuation">;</span>  <span class="token comment">// x为输出模式，如GPIO_OType_PP（推挽输出）、GPIO_OType_OD（开漏输出）等</span>
    gpio_init<span class="token punctuation">.</span>GPIO_PuPd <span class="token operator">=</span> GPIO_PuPd_x<span class="token punctuation">;</span>  <span class="token comment">// x为上下拉配置，如GPIO_PuPd_NOPULL（无上下拉）、GPIO_PuPd_UP（上拉）等</span>
    <span class="token function">GPIO_Init</span><span class="token punctuation">(</span>GPIOx<span class="token punctuation">,</span> <span class="token operator">&amp;</span>gpio_init<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// GPIOx为对应的GPIO端口，如GPIOA、GPIOB等</span>
    <span class="token comment">// 将上面代码中的 GPIO_Pin_x 替换为你要初始化和配置的具体引脚编号</span>
    <span class="token comment">// 将 GPIO_Mode_x 替换为你需要的引脚模式</span>
    <span class="token comment">// 将 GPIO_Speed_x 替换为你需要的引脚速度</span>
    <span class="token comment">// 将 GPIO_OType_x 替换为你需要的输出模式</span>
    <span class="token comment">// 将 GPIO_PuPd_x 替换为你需要的上下拉配置</span>

    <span class="token comment">// 2. 配置引脚复用功能（如果需要）</span>
    <span class="token function">GPIO_PinAFConfig</span><span class="token punctuation">(</span>GPIOx<span class="token punctuation">,</span> GPIO_PinSource_x<span class="token punctuation">,</span> GPIO_AF_x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// GPIOx 替换为对应的GPIO端口，GPIO_PinSource_x 替换为需要配置复用功能的引脚编号，GPIO_AF_x 替换为复用功能选择</span>

    <span class="token comment">// 其他操作，如设置引脚输出、读取引脚输入状态、配置中断等</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 初始化MCU和其他外设</span>

    <span class="token comment">// 初始化GPIO引脚</span>
    <span class="token function">GPIO_Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 其他代码逻辑</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 主循环代码</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>请替换代码中的以下部分：</p> 
<ol><li><code>stm32xxxx.h</code> ：使用适用于你的STM32系列的具体头文件，例如 <code>stm32f4xx.h</code>。</li><li><code>GPIO_Init()</code> 函数中的 <code>GPIO_Pin_x</code> ：将其替换为你要初始化和配置的特定引脚编号。</li><li><code>GPIO_Mode_x</code> ：将其替换为你需要的引脚模式，例如 <code>GPIO_Mode_IN</code>、 <code>GPIO_Mode_OUT</code> 等。</li><li><code>GPIO_Speed_x</code> ：将其替换为你需要的引脚速度，例如 <code>GPIO_Speed_2MHz</code>、 <code>GPIO_Speed_50MHz</code> 等。</li><li><code>GPIO_OType_x</code> ：将其替换为你需要的输出模式，例如 <code>GPIO_OType_PP</code>（推挽输出）或 <code>GPIO_OType_OD</code>（开漏输出）。</li><li><code>GPIO_PuPd_x</code> ：将其替换为你需要的上下拉配置，例如 <code>GPIO_PuPd_NOPULL</code>（无上下拉）或 <code>GPIO_PuPd_UP</code>（上拉）。</li><li><code>GPIOx</code> 和 <code>GPIO_PinSource_x</code> ：将其替换为你需要的具体GPIO端口和引脚编号。</li><li><code>GPIO_AF_x</code> ：将其替换为你需要的复用功能选择，例如 <code>GPIO_AF_USART1</code>（USART1复用功能）、 <code>GPIO_AF_SPI2</code>（SPI2复用功能）等。</li></ol> 
<h4><a id="_176"></a>步骤解释</h4> 
<ol><li>引脚选择：首先确定需要初始化和配置的引脚。根据开发板或电路设计，选择要操作的引脚。<pre><code class="prism language-C">gpio_init.GPIO_Pin = GPIO_Pin_x;  // x为需要初始化的引脚编号
</code></pre> </li><li>引脚模式选择：根据所需的输入输出功能，选择引脚的模式。例如推挽输出、开漏输出、浮空输入等。这可以通过设置引脚模式寄存器（MODER）来实现。<pre><code class="prism language-C">gpio_init.GPIO_Mode = GPIO_Mode_x; // x为引脚模式
</code></pre> </li><li>引脚速度配置：根据应用需求，配置引脚的速度。引脚速度决定了引脚的驱动能力和切换速度。这可以通过设置引脚速度寄存器（OSPEEDR）来实现。<pre><code class="prism language-C">gpio_init.GPIO_Speed = GPIO_Speed_x;  // x为引脚速度
</code></pre> </li><li>引脚上下拉配置：根据需要配置引脚的上拉或下拉电阻。上拉电阻可用于将引脚默认拉高，下拉电阻可用于将引脚默认拉低。这可以通过设置引脚上下拉寄存器（PUPDR）来实现。<pre><code class="prism language-C">gpio_init.GPIO_PuPd = GPIO_PuPd_x;  // x为上下拉配置
</code></pre> </li><li>引脚复用功能配置：如果需要将引脚配置为特定的外设功能，需要选择正确的复用功能，并将引脚与该功能关联。这可以通过设置引脚复用控制寄存器（AFR）来实现。<pre><code class="prism language-C">GPIO_PinAFConfig(GPIOx, GPIO_PinSource_x, GPIO_AF_x);
</code></pre> </li><li>初始化和操作：根据所选择的配置参数，可以使用相应的库函数或直接对寄存器进行操作来初始化和操作引脚。这可以包括设置引脚的输出状态、读取输入状态、中断配置等等。</li></ol> 
<p><strong>了解了输入输出，接下来该了解STM32使用标准库进行开发时常用的函数：</strong><br> <a href="https://blog.csdn.net/Goforyouqp/article/details/131905572?spm=1001.2014.3001.5502">stm32标准库开发常用函数</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/592aedc50ef10fc68f15a7fb4922609e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">List集合转树形结构</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/35b7f2e5305acf3b04e10f9a864b70f2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">use strict 是什么意思？使用它区别是什么？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>