<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>惠州学院第二届大学生程序设计竞赛c&#43;&#43;题解 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/e834717e31366758d6f7c96c103bb87c/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="惠州学院第二届大学生程序设计竞赛c&#43;&#43;题解">
  <meta property="og:description" content="惠州学院第二届大学生程序设计竞赛c&#43;&#43;题解 题目总览7-1 关于闭区间的最值问题7-2 大厂必备技能！！！7-3 这可能是道签到题7-4 Nomi的计算器7-5 篮球二叉树7-6 回文文回7-7 求和游戏7-8 得分王7-9 玛恩纳7-10 涂矩阵 题目总览 按难度等级排序
题目难度知识点7-1 关于闭区间的最值问题签到二分答案 / 数学7-4 Nomi的计算器简单栈&#43;模拟7-9 玛恩纳简单模拟7-10 涂矩阵简单前缀和&#43;差分7-7 求和游戏中等贪心7-2 大厂必备技能！！！中等最短路径7-8 得分王中等深搜&#43;广搜 / 全排列&#43;拓扑7-5 篮球二叉树稍难思维&#43;构造7-3 这可能是道签到题稍难欧拉函数&#43;矩阵&#43;快速幂&#43;等比数列7-6 回文文回难线段树&#43;字符串哈希 7-1 关于闭区间的最值问题 时间限制: 1.0s 内存限制：256.0MB
【问题描述】
给定 T 组测试样例
每组样例给定整数 n，x，请输出区间 [1, n] 中能被 x 整除的最大整数。
【输入格式】
第一行输入一个整数T，代表一共有T组测试样例。(1 ≤ T ≤ 1000)
接下来 T 行，每行两个整数 n, x。(1 ≤ x ≤ n ≤ 109 )
【输出格式】
对每一组输入，在一行中输出答案值。
【样例输入】
5 10 6 6 6 4 2 9 1 7 5 【样例输出】">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-17T12:00:23+08:00">
    <meta property="article:modified_time" content="2024-03-17T12:00:23+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">惠州学院第二届大学生程序设计竞赛c&#43;&#43;题解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>惠州学院第二届大学生程序设计竞赛c++题解</h4> 
 <ul><li><a href="#_3" rel="nofollow">题目总览</a></li><li><a href="#71__20" rel="nofollow">7-1 关于闭区间的最值问题</a></li><li><a href="#72__111" rel="nofollow">7-2 大厂必备技能！！！</a></li><li><a href="#73__264" rel="nofollow">7-3 这可能是道签到题</a></li><li><a href="#74_Nomi_430" rel="nofollow">7-4 Nomi的计算器</a></li><li><a href="#75__534" rel="nofollow">7-5 篮球二叉树</a></li><li><a href="#76__688" rel="nofollow">7-6 回文文回</a></li><li><a href="#77__846" rel="nofollow">7-7 求和游戏</a></li><li><a href="#78__970" rel="nofollow">7-8 得分王</a></li><li><a href="#79__1184" rel="nofollow">7-9 玛恩纳</a></li><li><a href="#710__1370" rel="nofollow">7-10 涂矩阵</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_3"></a>题目总览</h2> 
<p>按难度等级排序</p> 
<table><thead><tr><th>题目</th><th>难度</th><th>知识点</th></tr></thead><tbody><tr><td>7-1 关于闭区间的最值问题</td><td>签到</td><td>二分答案 / 数学</td></tr><tr><td>7-4 Nomi的计算器</td><td>简单</td><td>栈+模拟</td></tr><tr><td>7-9 玛恩纳</td><td>简单</td><td>模拟</td></tr><tr><td>7-10 涂矩阵</td><td>简单</td><td>前缀和+差分</td></tr><tr><td>7-7 求和游戏</td><td>中等</td><td>贪心</td></tr><tr><td>7-2 大厂必备技能！！！</td><td>中等</td><td>最短路径</td></tr><tr><td>7-8 得分王</td><td>中等</td><td>深搜+广搜 / 全排列+拓扑</td></tr><tr><td>7-5 篮球二叉树</td><td>稍难</td><td>思维+构造</td></tr><tr><td>7-3 这可能是道签到题</td><td>稍难</td><td>欧拉函数+矩阵+快速幂+等比数列</td></tr><tr><td>7-6 回文文回</td><td>难</td><td>线段树+字符串哈希</td></tr></tbody></table> 
<h2><a id="71__20"></a>7-1 关于闭区间的最值问题</h2> 
<p>时间限制: 1.0s 内存限制：256.0MB</p> 
<p><strong>【问题描述】</strong><br> 给定 T 组测试样例<br> 每组样例给定整数 n，x，请输出区间 [1, n] 中能被 x 整除的最大整数。</p> 
<p><strong>【输入格式】</strong><br> 第一行输入一个整数T，代表一共有T组测试样例。(1 ≤ T ≤ 1000)<br> 接下来 T 行，每行两个整数 n, x。(1 ≤ x ≤ n ≤ 10<sup>9</sup> )</p> 
<p><strong>【输出格式】</strong><br> 对每一组输入，在一行中输出答案值。</p> 
<p><strong>【样例输入】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">5</span>
<span class="token number">10</span> <span class="token number">6</span>
<span class="token number">6</span> <span class="token number">6</span>
<span class="token number">4</span> <span class="token number">2</span>
<span class="token number">9</span> <span class="token number">1</span>
<span class="token number">7</span> <span class="token number">5</span>
</code></pre> 
<p><strong>【样例输出】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">6</span>
<span class="token number">6</span>
<span class="token number">4</span>
<span class="token number">9</span>
<span class="token number">5</span>
</code></pre> 
<p><strong>【方法一：二分搜索】</strong><br> 一种直观的方法，可以通过二分枚举倍率的方法找到符合条件的最大倍率，x乘于最大倍率就是答案，例如一组输入：<br> 13 2<br> 倍率可以选1、2、3、4、5、6、7、8、9、10<br> 第一次选5，2*5=10，满足条件，那么缩短左边界<br> 倍率可以选5、6、7、8、9、10<br> 第二次选7，2*7=14，不满足条件，那么缩短右边界<br> 倍率可以选5、6<br> 第三次选6，2*6=12，满足条件，那么缩短左边界<br> 倍率可以选6<br> 最后确定最大的倍率是6，那么答案是6*2=12</p> 
<p><strong>【代码】</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span>    <span class="token comment">//万能头文件</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>    <span class="token comment">//命名空间</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//主函数</span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>t<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>t<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">long</span> <span class="token keyword">long</span> n<span class="token punctuation">,</span>x<span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>x<span class="token punctuation">;</span>
        <span class="token keyword">long</span> <span class="token keyword">long</span> l<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>r<span class="token operator">=</span><span class="token number">1e9</span><span class="token punctuation">;</span>    <span class="token comment">//左边界l,右边界r</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>l<span class="token operator">&lt;</span>r<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">long</span> <span class="token keyword">long</span> mi<span class="token operator">=</span><span class="token punctuation">(</span>l<span class="token operator">+</span>r<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">//取中位数mi</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>mi<span class="token operator">*</span>x<span class="token operator">&lt;=</span>n<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//满足条件，左边界缩小</span>
                l<span class="token operator">=</span>mi<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//不满足条件，右边界缩小</span>
                r<span class="token operator">=</span>mi<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        cout<span class="token operator">&lt;&lt;</span>l<span class="token operator">*</span>x<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token comment">//打印答案</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>【方法二：数学】</strong><br> 简单的数学推论，n/x向下取整后再乘于x就是答案，例如一组输入：<br> 13 2<br> 答案是13/2*2=12</p> 
<p><strong>【代码】</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span>    <span class="token comment">//万能头文件</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>    <span class="token comment">//命名空间</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//主函数</span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>t<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>t<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">long</span> <span class="token keyword">long</span> n<span class="token punctuation">,</span>x<span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>x<span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span>n<span class="token operator">/</span>x<span class="token operator">*</span>x<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="72__111"></a>7-2 大厂必备技能！！！</h2> 
<p>时间限制: 2.0s 内存限制：256.0MB</p> 
<p><strong>【问题描述】</strong><br> 某团员工的素质不一般，天刚朦朦亮就准备让 iKun 和 Dij 去送快餐了。聪明的他们将自己居住的城市绘成一张地图，已知地图上有 n 个编号不同的城市，他们目前处在编号为 1 的城市上，送餐的目的地是编号为 n 的城市。此外，这些路都是单向的，从城市 u 到 v 需要花费 c 的时间。为了更高效地将快餐送到顾客手中，他们决定走从城市 1 到城市 n 花费最少的路。他们担心堵车，所以不能只知道一条路线，于是邀请你顺便探讨一下最少花费的路径有多少条？</p> 
<p><strong>【输入格式】</strong><br> 输入第一行为两个空格隔开的数 n (1 ≤ n ≤ 2000), m (0 ≤ m ≤ n∗(n−1)), 表示这张地图里有多少个城市及有多少边的信息。</p> 
<p>下面 m 行，每行三个数 u, v, c, 表示从 u 城市到 v 城市有道路相连且花费为 c (1≤ c ≤10)。（其中保证 u<br> ≠v,1 ≤ u,v ≤n，样例可能存在重边）</p> 
<p><strong>【输出格式】</strong><br> 输出包括两个数，分别是最少花费和花费最少的路径的总数。保证花费最少的路径总数不超过 2 <sup>30</sup> 。</p> 
<p>两个不同的最短路径方案要求：长度均为最短路且每条路径经过的点的编号序列不同。</p> 
<p>若无法到达城市 n，则在一行中输出 “No answer”。</p> 
<p><strong>【样例输入1】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">5</span> <span class="token number">4</span>
<span class="token number">1</span> <span class="token number">5</span> <span class="token number">4</span>
<span class="token number">1</span> <span class="token number">2</span> <span class="token number">2</span>
<span class="token number">2</span> <span class="token number">5</span> <span class="token number">2</span>
<span class="token number">4</span> <span class="token number">1</span> <span class="token number">1</span>
</code></pre> 
<p><strong>【样例输出1】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">4</span> <span class="token number">2</span>
</code></pre> 
<p><strong>【样例输入2】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">5</span> <span class="token number">2</span>
<span class="token number">1</span> <span class="token number">2</span> <span class="token number">4</span>
<span class="token number">1</span> <span class="token number">3</span> <span class="token number">2</span>
</code></pre> 
<p><strong>【样例输出2】</strong></p> 
<pre><code class="prism language-cpp">No answer
</code></pre> 
<p><strong>【解释】</strong><br> 需要使用最短路算法，这个算法有很多种，这里只介绍dijkstra算法的做法。<br> 1、dijkstra算法核心还是贪心，每次都选择最优的点去更新下一个点，用样例解释一下</p> 
<blockquote> 
 <p>5 4<br> 1 5 4<br> 1 2 2<br> 2 5 2<br> 4 1 1</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/8c/10/bGhKGIUB_o.png" alt="在这里插入图片描述"></p> 
<p>(1) 起初，有一个数组d[6]={999，0，999，999，999，999}，999代表这个点不可到达，d[1]=0，代表点1与点1的距离是0</p> 
<p>(2) 开始，可以从点1到达点2和点5，更新数组d，此时，d[6]={999，0，2，999，999，4}，点1到点2的距离是2，到点5的距离是4</p> 
<p>(3) 点1已经使用过了，所以不能再次使用（因为再用已经没有意义了，这个点已经不可能贡献出更好的走法），所以剩下的点中选择离点1最近的点再做相同的操作</p> 
<p>(4) 最优的点是2，可以从点2到达点5，更新d数组，d[6]={999，0，2，999，999，4}，同样地，点2后面就不能再被使用了</p> 
<p>(5) 最优的点是5，不能从点5到达任何点，结束，那么所有点与点1的距离就是d[6]={999，0，2，999，999，4}所表示的值</p> 
<p>那么如何记录最短路的方案数呢？<br> (1) 只需要在求最短的时候额外记录一下数据就可以了，例如以上样例，有一个数组，cnt[6]={0，1，0，0，0，0，0}，cnt[i]的意思的走到点i最短路的数量是cnt[i]的值</p> 
<p>(2)如果最短距离变小了，对应的点方案数置0，重新计算，如果距离不变，那么直接累加，计算的公式是：如果从点1到点5，那么cnt[5]+=cnt[1]，当然，要判断需不需要置0</p> 
<p>(3) 点1跑了之后，cnt[6]={0，1，1，0，0，1}</p> 
<p>(4) 点2跑了之后，cnt[6]={0，1，1，0，0，2}</p> 
<p>跑完之后，计算出，点1到点5最短距离是4，有两种方案</p> 
<p><strong>【代码】</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span>    <span class="token comment">//万能头文件</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>    <span class="token comment">//命名空间</span>
vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> v<span class="token punctuation">[</span><span class="token number">4000010</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">//邻接矩阵存图</span>
<span class="token keyword">int</span> ma<span class="token punctuation">[</span><span class="token number">2010</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2010</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">//邻接表去重。。。其实可以直接用邻接表做</span>
<span class="token keyword">int</span> d<span class="token punctuation">[</span><span class="token number">2010</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">//点1到其它点地最短距离</span>
<span class="token keyword">long</span> <span class="token keyword">long</span> cnt<span class="token punctuation">[</span><span class="token number">2010</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">//最短距离方案数</span>
priority_queue<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">,</span>greater<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> q<span class="token punctuation">;</span>    <span class="token comment">//优先级队列</span>
<span class="token keyword">signed</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    ios<span class="token double-colon punctuation">::</span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//10的6次方以上的数据用cin、cout需要加速，不然会超时</span>
    cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>m<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">2010</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//初始化，所有的都没有边</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token number">2010</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            ma<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>INT_MAX<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> u<span class="token punctuation">,</span>v<span class="token punctuation">,</span>c<span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>u<span class="token operator">&gt;&gt;</span>v<span class="token operator">&gt;&gt;</span>c<span class="token punctuation">;</span>
        ma<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>ma<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//去重，取最优值</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">2010</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//构建邻接表</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token number">2010</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>ma<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">!=</span>INT_MAX<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>j<span class="token punctuation">,</span>ma<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">2010</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//初始化，点1到其它点初始距离是个比较大的值，代表不可达，方案数初始化为0</span>
        d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>INT_MAX<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span>
        cnt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cnt<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">//到点1默认方案数为1</span>
    d<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">//点1和点1距离为0</span>
    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//初始添加点1</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//dijkstra算法</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> vv<span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> vvv<span class="token operator">:</span>v<span class="token punctuation">[</span>vv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>vvv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>vv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>vvv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//更加优秀的方案</span>
                d<span class="token punctuation">[</span>vvv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span>vv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>vvv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                cnt<span class="token punctuation">[</span>vvv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span>cnt<span class="token punctuation">[</span>vv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">//置0后再计算</span>
                q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>d<span class="token punctuation">[</span>vvv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>vvv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//新点添加到比较队列</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>vvv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">==</span>vv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>vvv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//最短距离一样的方案</span>
                cnt<span class="token punctuation">[</span>vvv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">+=</span>cnt<span class="token punctuation">[</span>vv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">//直接增加</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">==</span>INT_MAX<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//如果是最大值，代表点1没办法到达点n</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"No answer"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//打印结果</span>
        cout<span class="token operator">&lt;&lt;</span>d<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token char">' '</span><span class="token operator">&lt;&lt;</span>cnt<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre> 
<h2><a id="73__264"></a>7-3 这可能是道签到题</h2> 
<p>时间限制: 1.0s 内存限制：256.0MB</p> 
<p><strong>【问题描述】</strong><br> Nomi 需要出一道数学题，但是考虑到TeX太难搞了，所以还是出简单点好了。目前已知：<br> <img src="https://images2.imgbox.com/78/93/WDIRLmEl_o.png" alt="在这里插入图片描述"></p> 
<p>Nomi 会给你两个他喜欢的整数 x 和 y ，告诉他 f(x,y) 的值是多少就可以了，就这么简单。</p> 
<blockquote> 
 <p>提示：<br> 1、ϕ(n) 表示的是小于等于 n 和 n 互质的数的个数，比如说 ϕ(1)=1,ϕ(4)=2,ϕ(5)=4。<br> 2、⌈n⌉ 表示的是对 n 向上取整。</p> 
</blockquote> 
<p><strong>【输入格式】</strong><br> 第一行，输入两个整数 t(1 ≤ t ≤ 10<sup>5</sup> )，表示后续输入 t 次询问。</p> 
<p>后续 t 行，每行输入两个整数 x 和 y (0 ≤ x,y ≤ 10<sup>9</sup>)，表示每一次的询问。</p> 
<p><strong>【输出格式】</strong><br> 输出 t 行，每行一个整数表示 f(x,y)的结果 ，结果对10<sup>9</sup> +7 取模。</p> 
<p><strong>【样例输入】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">2</span>
<span class="token number">2</span> <span class="token number">3</span>
<span class="token number">1000</span> <span class="token number">123456</span>
</code></pre> 
<p><strong>【样例输出】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">365</span>
<span class="token number">500400402</span>
</code></pre> 
<p><strong>【解释】</strong><br> 这个题涉及的知识点如下<br> 1、条件1，欧拉函数，分析数据量，只需要打出10<sup>7</sup>内的欧拉表就可以了<br> 2、条件2，值为1<br> 3、条件3，矩阵乘法+快速幂，可以看下图理解：<br> <img src="https://images2.imgbox.com/07/b9/zqkE3lMh_o.jpg" alt="在这里插入图片描述"></p> 
<p>那么可推导出公式：<br> <img src="https://images2.imgbox.com/05/e7/SBVH2t2W_o.jpg" alt="在这里插入图片描述"><br> 由于y的数据范围是0 ≤ x,y ≤ 10<sup>9</sup>，暴力算矩阵乘法会超时，需要使用快速幂</p> 
<p>4、条件4，等比公式+除法取模+公比1特判，可以看下图理解：<br> <img src="https://images2.imgbox.com/02/6d/Fgh9D78y_o.jpg" alt="在这里插入图片描述"><br> 可以看出很明显的一个等比数列，额外加上y<sup>y</sup>*f(x,0)，另外注意除法取模+公比1特判就可以了</p> 
<p><strong>【代码】</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">int</span> <span class="token expression"><span class="token keyword">long</span> <span class="token keyword">long</span>    </span><span class="token comment">//定义int为long long 类型，贪方便而已</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">1e7</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> mod <span class="token operator">=</span> <span class="token number">1e9</span><span class="token operator">+</span><span class="token number">7</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> phi<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// phi[i] 表示 i 的欧拉函数值</span>
<span class="token keyword">int</span> p<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> cnt<span class="token punctuation">;</span> <span class="token comment">// 统计素数</span>
<span class="token keyword">int</span> vis<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    phi<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 情况1，注意初始化！ </span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>i <span class="token operator">&lt;=</span> N<span class="token punctuation">;</span>i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 线性筛 2~n </span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 说明i是素数 </span>
			phi<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 情况2</span>
			p<span class="token punctuation">[</span>cnt<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> cnt<span class="token punctuation">;</span>j <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">*</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> N<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
			vis<span class="token punctuation">[</span>i <span class="token operator">*</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				phi<span class="token punctuation">[</span>i <span class="token operator">*</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> phi<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">%</span>mod<span class="token punctuation">;</span> <span class="token comment">// 情况3</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			phi<span class="token punctuation">[</span>i <span class="token operator">*</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> phi<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span> <span class="token comment">// 情况4 </span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> 
    
<span class="token punctuation">}</span>

<span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">matrFpow</span><span class="token punctuation">(</span><span class="token keyword">int</span> d<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//矩阵快速幂</span>
    d<span class="token operator">--</span><span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> an<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> v<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>x<span class="token punctuation">,</span>y<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> temp<span class="token punctuation">;</span>    <span class="token comment">//中间矩阵，防止原矩阵在计算时被修改</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            temp<span class="token operator">=</span>an<span class="token punctuation">;</span>
            an<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            an<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">%=</span>mod<span class="token punctuation">;</span>
            an<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            an<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">%=</span>mod<span class="token punctuation">;</span>
            an<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            an<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">%=</span>mod<span class="token punctuation">;</span>
            an<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            an<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">%=</span>mod<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        temp<span class="token operator">=</span>v<span class="token punctuation">;</span>
        v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">%=</span>mod<span class="token punctuation">;</span>
        v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">%=</span>mod<span class="token punctuation">;</span>
        v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">%=</span>mod<span class="token punctuation">;</span>
        v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">%=</span>mod<span class="token punctuation">;</span>
        d<span class="token operator">/=</span><span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>an<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>an<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">fpow</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">,</span><span class="token keyword">int</span> d<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//正常的快速幂</span>
    <span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            ans<span class="token operator">*=</span>val<span class="token punctuation">;</span>
            ans<span class="token operator">%=</span>mod<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        d<span class="token operator">/=</span><span class="token number">2</span><span class="token punctuation">;</span>
        val<span class="token operator">*=</span>val<span class="token punctuation">;</span>
        val<span class="token operator">%=</span>mod<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">int</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span><span class="token keyword">int</span> j<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>j<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//条件1，欧拉函数</span>
        <span class="token keyword">return</span> phi<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>j<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//条件2</span>
        <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>j<span class="token operator">&gt;=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//条件3，矩阵快速幂</span>
        <span class="token keyword">return</span> <span class="token function">matrFpow</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&gt;</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>j<span class="token operator">&gt;=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//条件4，等比公式+除法取模+公比1特判</span>
        <span class="token keyword">int</span> a1<span class="token operator">=</span>x<span class="token operator">*</span><span class="token function">matrFpow</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span>
        <span class="token keyword">int</span> q<span class="token operator">=</span>y<span class="token punctuation">;</span>
        <span class="token keyword">int</span> n<span class="token operator">=</span>j<span class="token punctuation">;</span>
        <span class="token keyword">int</span> ext<span class="token operator">=</span><span class="token function">fpow</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token operator">*</span>phi<span class="token punctuation">[</span>i<span class="token operator">/</span><span class="token number">100</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">%</span>mod<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//公比为1的时候特判</span>
            <span class="token keyword">return</span> a1<span class="token operator">*</span>n<span class="token operator">+</span>ext<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a1<span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-</span><span class="token function">fpow</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token operator">+</span>mod<span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token operator">*</span><span class="token function">fpow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-</span>q<span class="token operator">+</span>mod<span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">)</span><span class="token punctuation">,</span>mod<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token operator">+</span>ext<span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">signed</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>t<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>t<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        cin<span class="token operator">&gt;&gt;</span>x<span class="token operator">&gt;&gt;</span>y<span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token comment">//调用f(i,j)函数</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="74_Nomi_430"></a>7-4 Nomi的计算器</h2> 
<p>时间限制: 1.0s 内存限制：256.0MB</p> 
<p><strong>【问题描述】</strong><br> Nomi 制作了一个计算器，打算给还在读十六年级的 Liukw 使用。但可惜的是，Nomi 在这方面显得不太聪明， 做出来的计算器保留了先乘除后加减和从左向右的二元计算特性，但是内置的计算方式却充满了bug。于是委托整天沉迷于测试工作的 Wugh 帮忙， Wugh 熟能生巧，三两下就判断出了计算器真正的计算方式。</p> 
<p>计算方式如下：（等号左边是输入的表达式，右边是实际上的计算方式）</p> 
<ul><li> <p>符号 + ：a + b=a ⊕ b，其中 ⊕ 符号为按位异或运算。</p> </li><li> <p>符号 - ：a - b = a + b</p> </li><li> <p>符号 * ：a ∗ b=b / a</p> </li><li> <p>符号 / ：a / b=a * <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
          
          
            b 
           
          
         
        
          \sqrt{b} 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.04em; vertical-align: -0.1078em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.9322em;"><span class="svg-align" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord" style="padding-left: 0.833em;"><span class="mord mathnormal">b</span></span></span><span class="" style="top: -2.8922em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="min-width: 0.853em; height: 1.08em;"> 
             <svg width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"> 
              <path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path> 
             </svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.1078em;"><span class=""></span></span></span></span></span></span></span></span></span></p> </li></ul> 
<p>现在给定一个仅包含非负整数与 +,−,∗,/ 四种符号的表达式，计算并输出其结果。Nomi 不喜欢浮点数，所计算过程中的每一步只要存在浮点数，都只会保留整数部分。同时题目保证计算过程不会出现中间结果超出int范围或者发生除0的情况。</p> 
<p><strong>【输入格式】</strong><br> 第一行，一个算术表达式字符串 s (1 ≤ s.length ≤ 10<sup>6</sup>)。</p> 
<p><strong>【输出格式】</strong><br> 输出一个整数，表示该计算器的计算结果。</p> 
<p><strong>【样例输入】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">4</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">2</span><span class="token operator">*</span><span class="token number">5</span><span class="token operator">/</span><span class="token number">3</span>
</code></pre> 
<p><strong>【样例输出】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">5</span>
</code></pre> 
<p><strong>【样例解释】</strong><br> 先计算 2∗5，真正的计算方式是 5/2=2，目前表达式为 4−3+2/3。</p> 
<p>计算 2/3，真正的计算方式是 2 *<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          3 
         
        
       
      
        \sqrt{3} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.04em; vertical-align: -0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.9072em;"><span class="svg-align" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord" style="padding-left: 0.833em;"><span class="mord">3</span></span></span><span class="" style="top: -2.8672em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="min-width: 0.853em; height: 1.08em;"> 
           <svg width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"> 
            <path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path> 
           </svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.1328em;"><span class=""></span></span></span></span></span></span></span></span></span>=2，目前的表达式为 4−3+2。</p> 
<p>计算 4−3，真正的计算方式是 4+3=7，目前的表达式为 7+2。</p> 
<p>计算 7+2，真正的计算方式是 7⊕2=5，所以结果为 5。</p> 
<p><strong>【解释】</strong><br> 计算器的本质并没有改变，只是实际的计算方式改变了，第一遍先处理乘法和除法，第二遍再处理加法和减法即可，具体可看代码理解</p> 
<p><strong>【代码】</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span>    <span class="token comment">//万能头文件</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>    <span class="token comment">//命名空间</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//主函数</span>
	string s<span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>s<span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;</span> vo<span class="token punctuation">;</span>    <span class="token comment">//储存还没计算的符号</span>
	<span class="token keyword">int</span> num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> c<span class="token operator">=</span><span class="token char">'+'</span><span class="token punctuation">;</span>    <span class="token comment">//上一个计算符号</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;=</span><span class="token char">'0'</span><span class="token operator">&amp;&amp;</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token char">'9'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//如果是数字，转成真正的数值</span>
			num<span class="token operator">*=</span><span class="token number">10</span><span class="token punctuation">;</span>
			num<span class="token operator">+=</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'+'</span><span class="token operator">||</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'-'</span><span class="token operator">||</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'*'</span><span class="token operator">||</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'/'</span><span class="token operator">||</span>i<span class="token operator">==</span>s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//如果是符号，或者是最后一个元素，开始计算</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//如果容器还没有数字，直接添加</span>
				v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
				c<span class="token operator">=</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">//记录下次计算使用的符号</span>
				num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
				<span class="token keyword">continue</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">==</span><span class="token char">'+'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//加法先不计算</span>
                v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//记录第二遍计算需要使用的数值</span>
                vo<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token char">'^'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//记录第二遍计算需要使用的符号</span>
			<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">==</span><span class="token char">'-'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//减法先不计算</span>
				v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//记录第二遍计算需要使用的数值</span>
                vo<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token char">'+'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//记录第二遍计算需要使用的符号</span>
			<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">==</span><span class="token char">'*'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//计算乘法</span>
                v<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> num <span class="token operator">/</span> v<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//真正的计算方式</span>
			<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">==</span><span class="token char">'/'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//计算除法</span>
				v<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*=</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">sqrt</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//真正的计算方式</span>
			<span class="token punctuation">}</span>
			c<span class="token operator">=</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">//下一次计算使用的符号</span>
			num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">//下次使用的数值置0</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> ans<span class="token operator">=</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//按顺序计算最终结果即可</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>vo<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'^'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            ans<span class="token operator">^=</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>vo<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'+'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            ans<span class="token operator">+=</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	cout<span class="token operator">&lt;&lt;</span>ans<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="75__534"></a>7-5 篮球二叉树</h2> 
<p>时间限制: 1.0s 内存限制：256.0MB</p> 
<p><strong>【问题描述】</strong><br> 作为真 IKUN 的 Nomi 觉得二叉树的就像一堆中分堆在一起，于是开始研究如何构造一棵篮球二叉树来证明自己对 kun 的喜爱。Nomi 认为只有中分是不够的，还要有铁山靠重心和背带的特性。他觉得你也是真正的 IKUN，所有把构造的任务交给了你，所以把任务交给了你。现在需要你协助他构造这一棵篮球二叉树，使得满足以下所有特性：</p> 
<ul><li> <p>中分特性：这是一棵深度为 n (1 ≤ n ≤ 10<sup>6</sup>) 的满二叉树。</p> </li><li> <p>背带特性：所有节点的和为 m (1≤m≤10<sup>6</sup>) 且每一个节点的值 a<sub>i</sub> (1 ≤ a<sub>i</sub>​ ≤ 10<sup>6</sup>) 。</p> </li><li> <p>铁山靠重心特性：对于树中所有的非叶子节点值为a<sub>x</sub>​ ，它的左子节点值为 a<sub>l</sub> 、右子节点值为a<sub>r</sub>​ ，满足 a<sub>r</sub> = a <sub>l</sub> + a<sub>x</sub> 。</p> </li></ul> 
<p>如果 Nomi 能成功构造输出该二叉树，请按照节点编号的给出任何一种满足情况的篮球二叉树前序遍历。如果无法构造则直接输出 -1。</p> 
<p><strong>【输入格式】</strong><br> 第一行给出两个整数 n 和 m (1 ≤ n,m ≤ 10<sup>6</sup>)，分别表示存在二叉树的深度为 n 与所有节点的和 m。</p> 
<p><strong>【输出格式】</strong><br> 输出一行。如果能够构造，请给出任意一种能够满足条件的 n 个整数，分别表示节点前序遍历的值a<sub>i</sub> (1 ≤ a<sub>i</sub> ≤ 10<sup>6</sup> )。如果无法构造则直接输出 -1。</p> 
<p><strong>【样例输入1】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">3</span> <span class="token number">32</span>
</code></pre> 
<p><strong>【样例输出1】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">2</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">10</span> <span class="token number">13</span>
</code></pre> 
<p><strong>【样例输入2】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">4</span> <span class="token number">11</span>
</code></pre> 
<p><strong>【样例输出2】</strong></p> 
<pre><code class="prism language-cpp"><span class="token operator">-</span><span class="token number">1</span>
</code></pre> 
<p><strong>【样例输入3】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">3</span> <span class="token number">12</span>
</code></pre> 
<p><strong>【样例输出3】</strong></p> 
<pre><code class="prism language-cpp"><span class="token operator">-</span><span class="token number">1</span>
</code></pre> 
<p><strong>【解释】</strong><br> 需要自己去思考如何最优地去构造这个二叉树，下面直接提供思路。</p> 
<p>一棵深度为4且满足铁山靠重心特性的最小 (节点的总和最小) 满二叉树如下：<br> <img src="https://images2.imgbox.com/35/ac/AFtYoiNR_o.png" alt="在这里插入图片描述"><br> 节点和为26，如果，m&lt;26，那么篮球二叉树是没办法构成的，如果m=26，上面的树就是答案，如果，m=60，那么可以构成吗？可以的，看下图你就明白了<br> <img src="https://images2.imgbox.com/5d/ee/rRUiZoke_o.png" alt="在这里插入图片描述"><br> 只需要在两个叶子节点补上(60-26)/2=17即可，类似的，像28、30、32、34、36、38这些，都可以用这个办法构造出来，那么奇数呢？39怎么构造？事实证明，只有深度为奇数，通过调整根节点，才可能出现奇数的情况。因为父节点+左子节点=右子节点，深度为偶数，永远不会出现奇数。</p> 
<p>如果考虑的深度为3，最优的奇数构造方法：</p> 
<p><img src="https://images2.imgbox.com/a8/5c/tBEJp7hN_o.png" alt="在这里插入图片描述"></p> 
<p>最优的偶数构造方法：<br> <img src="https://images2.imgbox.com/c0/77/R2D7y4G2_o.png" alt="在这里插入图片描述"><br> 可以看到，只要调整根节点的值为2，就可以切换奇偶性，这两种都是最优的构造方法，如果和不够，就可以通过调整两个叶子节点的值补满，如果和超出了，就表明不可构造。所以，只需要判断这两种方案是否可以构造出篮球二叉树就可以了</p> 
<p><strong>【代码】</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">Tree</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//二叉树</span>
    <span class="token keyword">int</span> val<span class="token punctuation">,</span>l<span class="token punctuation">,</span>r<span class="token punctuation">,</span>d<span class="token punctuation">;</span>
<span class="token punctuation">}</span>t<span class="token punctuation">[</span><span class="token number">2000010</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> idu<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">//节点id</span>
<span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">//节点总和</span>
<span class="token keyword">int</span> f<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">//标记方案是否可行</span>
<span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">,</span><span class="token keyword">int</span> val<span class="token punctuation">,</span><span class="token keyword">int</span> d<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//构建总和最小、满足铁山靠重心特性的满二叉树，判断是否可以满足背带特性</span>
    sum<span class="token operator">+=</span>val<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">&gt;</span>m<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        f<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    t<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token operator">=</span>val<span class="token punctuation">;</span>
    t<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span>d<span class="token operator">=</span>d<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;=</span>n<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//高度不够，继续递归</span>
        t<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span>l<span class="token operator">=</span><span class="token operator">++</span>idu<span class="token punctuation">;</span>    <span class="token comment">//分配编号</span>
        t<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token operator">=</span><span class="token operator">++</span>idu<span class="token punctuation">;</span>    <span class="token comment">//分配编号</span>
        <span class="token function">dfs</span><span class="token punctuation">(</span>t<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span>l<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>d<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//左子节点值为1</span>
        <span class="token function">dfs</span><span class="token punctuation">(</span>t<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">,</span>val<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>d<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//右子节点值为当前节点值+1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> flag<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">prin</span><span class="token punctuation">(</span><span class="token keyword">int</span> ind<span class="token punctuation">,</span><span class="token keyword">int</span> d<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//前序打印二叉树</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span><span class="token char">' '</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span>t<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">;</span>
    
    <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;=</span>n<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">prin</span><span class="token punctuation">(</span>t<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">.</span>l<span class="token punctuation">,</span>d<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">prin</span><span class="token punctuation">(</span>t<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">,</span>d<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>m<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//高度为1，直接特判</span>
        cout<span class="token operator">&lt;&lt;</span>m<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&gt;</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//高度超过20，一定不可以构成，因为每个节点的值至少为1，高度为20的满二叉树节点数超过了10的6次方</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>f<span class="token operator">==</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>m<span class="token operator">-</span>sum<span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//根节点为1是否可以构建篮球二叉树</span>
        t<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>n<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token operator">+=</span><span class="token punctuation">(</span>m<span class="token operator">-</span>sum<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>    <span class="token comment">//和不够，叶子节点补齐</span>
        t<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>n<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token operator">+=</span><span class="token punctuation">(</span>m<span class="token operator">-</span>sum<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>    <span class="token comment">//和不够，叶子节点补齐</span>
        <span class="token function">prin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    f<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">//初始化</span>
    idu<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>f<span class="token operator">==</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>m<span class="token operator">-</span>sum<span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//根节点为2是否可以构建篮球二叉树</span>
        t<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>n<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token operator">+=</span><span class="token punctuation">(</span>m<span class="token operator">-</span>sum<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>    <span class="token comment">//和不够，叶子节点补齐</span>
        t<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>n<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token operator">+=</span><span class="token punctuation">(</span>m<span class="token operator">-</span>sum<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>    <span class="token comment">//和不够，叶子节点补齐</span>
        <span class="token function">prin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token comment">//都不可以，打印-1</span>
    
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="76__688"></a>7-6 回文文回</h2> 
<p>时间限制: 1.0s 内存限制：256.0MB</p> 
<p><strong>【问题描述】</strong><br> 给一个仅由小写字母组成的字符串S，有q次操作。</p> 
<p>操作有以下两种类型：</p> 
<p>“1 x c” 将位置x的字符修改为字符c。</p> 
<p>“2 L R” 询问 s[L : R] 是否是回文串，如果是，输出"Yes"，否则输出"No"。</p> 
<p><strong>【输入格式】</strong><br> 第一行输入两个整数 n, q，代表字符串的长度和操作的次数。 (1 ≤ n ≤ 10<sup>6</sup> ,1 ≤ q ≤ 10<sup>5</sup>)<br> 第二行输入字符串 S，代表初始的字符串。(1 ≤ ∣S∣ ≤ 10<sup>6</sup>)</p> 
<p>接下来 q 行，每一行输入一个 op，代表操作的类型。(1 ≤ op ≤ 2)</p> 
<p>如果 op 为1，则输入一个整数 x 和一个字符 c，表示将位于 x 处的字符修改为字符 c。(1 ≤ x ≤ n，c为小写字母)</p> 
<p>如果 op 为2，则输入两个整数 L，R，代表查询的区间。(1 ≤ L ≤ R ≤ n)</p> 
<p><strong>【输出格式】</strong><br> 对于每次op为2的操作，在单独一行中输出 “Yes” 或 “No”。</p> 
<p><strong>【样例输入】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">7</span> <span class="token number">8</span>
abcbacb
<span class="token number">2</span> <span class="token number">1</span> <span class="token number">5</span>
<span class="token number">2</span> <span class="token number">4</span> <span class="token number">7</span>
<span class="token number">2</span> <span class="token number">2</span> <span class="token number">2</span>
<span class="token number">1</span> <span class="token number">5</span> c
<span class="token number">2</span> <span class="token number">1</span> <span class="token number">5</span>
<span class="token number">2</span> <span class="token number">4</span> <span class="token number">7</span>
<span class="token number">1</span> <span class="token number">4</span> c
<span class="token number">2</span> <span class="token number">3</span> <span class="token number">6</span>
</code></pre> 
<p><strong>【样例输出】</strong></p> 
<pre><code class="prism language-cpp">Yes
No
Yes
No
Yes
Yes
</code></pre> 
<p><strong>【解释】</strong></p> 
<p>  首先将回文看成是正向的数字（hash），比如对ababacb在base为3的情况下，分别用1、2、3代表a、b、c，正序值为是1212132。然后我们将字符串逆序，也就是bcabcba，即逆序值为2312121。假如我们此时查询区间[1,5]，等价于检查abcba是不是回文，在正序中有高五位为12121，逆序中有低五位为12121，12121=12121，证明hash的数值相同，即正反序代表的字符串是相同的（该区间就是回文）。</p> 
<p>  由于看hash值的区段值，所以与一般的回文奇偶性是无关的，可以抛开以往回文的概念。那么由于区间问题，涉及到简单的单点修改，我们可以尝试用线段树去维护两棵线段树，分别维护整一个字符串的正序和反序的hash值，单点修改某一个数，区间查询字符串区间代表的hash值即可。</p> 
<p>  由于hash碰撞，在字符串大与能够使用的最大数（unsigned long long最大值）的情况下，由于计算的溢出，可能出现相同的hash值代表了不同的字符串，所以只能说明答案正确的不一定正确，而答案错误的一定是错误的。</p> 
<p><strong>【代码】</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ll</span> <span class="token expression"><span class="token keyword">long</span> <span class="token keyword">long</span></span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> ll N <span class="token operator">=</span> <span class="token number">1000005</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ll base <span class="token operator">=</span> <span class="token number">1e9</span><span class="token operator">+</span><span class="token number">7</span><span class="token punctuation">;</span>    <span class="token comment">//hash基础值,最好是质数</span>
<span class="token keyword">unsigned</span> ll pf<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span>
string s<span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">node</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> l<span class="token punctuation">,</span>r<span class="token punctuation">;</span>
	<span class="token keyword">unsigned</span> ll v<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">tree</span> <span class="token punctuation">{<!-- --></span>    <span class="token comment">//线段树</span>
    node tr<span class="token punctuation">[</span>N<span class="token operator">&lt;&lt;</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token keyword">void</span> <span class="token function">up</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//懒加载</span>
    	<span class="token keyword">int</span> mid<span class="token operator">=</span><span class="token punctuation">(</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>l<span class="token operator">+</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token operator">&gt;&gt;</span><span class="token number">1</span><span class="token punctuation">;</span>
    	tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>v <span class="token operator">=</span> tr<span class="token punctuation">[</span>p<span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token operator">*</span>pf<span class="token punctuation">[</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token operator">-</span>mid<span class="token punctuation">]</span><span class="token operator">+</span>tr<span class="token punctuation">[</span>p<span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token operator">|</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">;</span> 
	<span class="token punctuation">}</span>
	
    <span class="token keyword">void</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">,</span><span class="token keyword">int</span> l<span class="token punctuation">,</span><span class="token keyword">int</span> r<span class="token punctuation">,</span><span class="token keyword">bool</span> rv<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//初始化</span>
    	tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>l<span class="token operator">=</span>l<span class="token punctuation">;</span>
    	tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token operator">=</span>r<span class="token punctuation">;</span>
    	<span class="token keyword">if</span><span class="token punctuation">(</span>l<span class="token operator">==</span>r<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>rv<span class="token punctuation">)</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token operator">=</span>s<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
    		<span class="token keyword">else</span> tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token operator">=</span>s<span class="token punctuation">[</span>n<span class="token operator">-</span>l<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
    		<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">int</span> mid<span class="token operator">=</span><span class="token punctuation">(</span>l<span class="token operator">+</span>r<span class="token punctuation">)</span><span class="token operator">&gt;&gt;</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token function">build</span><span class="token punctuation">(</span>p<span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token punctuation">,</span>l<span class="token punctuation">,</span>mid<span class="token punctuation">,</span>rv<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">build</span><span class="token punctuation">(</span>p<span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token operator">|</span><span class="token number">1</span><span class="token punctuation">,</span>mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>r<span class="token punctuation">,</span>rv<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">up</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">void</span> <span class="token function">modify</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">,</span><span class="token keyword">int</span> l<span class="token punctuation">,</span><span class="token keyword">int</span> r<span class="token punctuation">,</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//修改</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>l<span class="token operator">==</span>l<span class="token operator">&amp;&amp;</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token operator">==</span>r<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    		tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token operator">=</span>x<span class="token punctuation">;</span>
    		<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">int</span> mid<span class="token operator">=</span><span class="token punctuation">(</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>l<span class="token operator">+</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token operator">&gt;&gt;</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>l<span class="token operator">&lt;=</span>mid<span class="token punctuation">)</span><span class="token function">modify</span><span class="token punctuation">(</span>p<span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token punctuation">,</span>l<span class="token punctuation">,</span>r<span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">else</span> <span class="token function">modify</span><span class="token punctuation">(</span>p<span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token operator">|</span><span class="token number">1</span><span class="token punctuation">,</span>l<span class="token punctuation">,</span>r<span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">up</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">unsigned</span> ll <span class="token function">query</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">,</span><span class="token keyword">int</span> l<span class="token punctuation">,</span><span class="token keyword">int</span> r<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//查询</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token operator">&lt;</span>l<span class="token operator">||</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>l<span class="token operator">&gt;</span>r<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>l<span class="token operator">&lt;=</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>l<span class="token operator">&amp;&amp;</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token operator">&lt;=</span>r<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    		<span class="token keyword">return</span> tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token operator">*</span>pf<span class="token punctuation">[</span>r<span class="token operator">-</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">int</span> mid<span class="token operator">=</span><span class="token punctuation">(</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>l<span class="token operator">+</span>tr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token operator">&gt;&gt;</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">unsigned</span> ll r1<span class="token operator">=</span><span class="token function">query</span><span class="token punctuation">(</span>p<span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token punctuation">,</span>l<span class="token punctuation">,</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">unsigned</span> ll r2<span class="token operator">=</span><span class="token function">query</span><span class="token punctuation">(</span>p<span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token operator">|</span><span class="token number">1</span><span class="token punctuation">,</span>l<span class="token punctuation">,</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> r1 <span class="token operator">+</span> r2<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span>t1<span class="token punctuation">,</span>t2<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	pf<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">1000001</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		pf<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> pf<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>base<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>m<span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>s<span class="token punctuation">;</span>
	s<span class="token operator">=</span><span class="token string">"#"</span><span class="token operator">+</span>s<span class="token punctuation">;</span>
	t1<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//一棵正序的树</span>
	t2<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//一棵反转后的树</span>
	<span class="token keyword">int</span> w<span class="token punctuation">,</span>x<span class="token punctuation">;</span>
	string y<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		cin<span class="token operator">&gt;&gt;</span>w<span class="token operator">&gt;&gt;</span>x<span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>w<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			cin<span class="token operator">&gt;&gt;</span>y<span class="token punctuation">;</span>
			<span class="token keyword">int</span> p <span class="token operator">=</span> y<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
			t1<span class="token punctuation">.</span><span class="token function">modify</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>x<span class="token punctuation">,</span>x<span class="token punctuation">,</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//两颗树同时修改</span>
			t2<span class="token punctuation">.</span><span class="token function">modify</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token operator">-</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token operator">-</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//两颗树同时修改</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			cin<span class="token operator">&gt;&gt;</span>w<span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>x<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token operator">==</span>t2<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token operator">-</span>w<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token operator">-</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//判断正序和反转后的字符串hash值是否一致</span>
				cout<span class="token operator">&lt;&lt;</span><span class="token string">"Yes"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
				cout<span class="token operator">&lt;&lt;</span><span class="token string">"No"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre> 
<h2><a id="77__846"></a>7-7 求和游戏</h2> 
<p>时间限制: 1.0s 内存限制：256.0MB</p> 
<p><strong>【问题描述】</strong><br> Wugh和 Liukw 在用卡牌玩游戏，Yisr在旁边观战。每一场游戏开始时，每张卡牌上有一个正整数a <sub>i</sub>​ ，他们将卡牌摊开正面朝上，游戏包括以下两个步骤：</p> 
<ul><li>第一步，Wugh 可以用魔法将卡牌中至多 k 张卡牌从世界上消失。</li><li>第二步，Liukw 可以用魔法将卡牌中至多 x 张卡牌的数乘以 -1。</li></ul> 
<p>Wugh 希望最大化剩余卡牌的和，Liukw 则希望最小化剩余卡牌的和。双方都采用最优的策略进行游戏，那么你能帮助 Yisr 提前预知游戏最后剩下的卡牌和是多少吗？</p> 
<p><strong>【输入格式】</strong><br> 第一行，输入一个正整数 t (1 ≤ t ≤ 10<sup>5</sup>)，表示游戏次数。</p> 
<p>对于每一场游戏：</p> 
<p>第一行，包含三个正整数 n, k , x (1 ≤ n ≤ 2∗10<sup>5</sup>,1 ≤ k,x ≤ n)，n 表示初始卡牌的个数，k 和 x 的含义与题目描述一致。</p> 
<p>第二行，包含 n 个正整数 a<sub>i</sub> (1 ≤ a<sub>i</sub> ≤ 1000)，表示每一张卡牌上面的数值。</p> 
<blockquote> 
 <p>题目保证，对于所有游戏，n 的总和不会超过 2∗10 <sup>5</sup> 。</p> 
</blockquote> 
<p><strong>【输出格式】</strong><br> 对于每个样例，输出一个整数，代表最终剩余卡牌的总和。</p> 
<p><strong>【样例输入】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">8</span>
<span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span>
<span class="token number">1</span>
<span class="token number">4</span> <span class="token number">1</span> <span class="token number">1</span>
<span class="token number">3</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">4</span>
<span class="token number">6</span> <span class="token number">6</span> <span class="token number">3</span>
<span class="token number">1</span> <span class="token number">4</span> <span class="token number">3</span> <span class="token number">2</span> <span class="token number">5</span> <span class="token number">6</span>
<span class="token number">6</span> <span class="token number">6</span> <span class="token number">1</span>
<span class="token number">3</span> <span class="token number">7</span> <span class="token number">3</span> <span class="token number">3</span> <span class="token number">32</span> <span class="token number">15</span>
<span class="token number">8</span> <span class="token number">5</span> <span class="token number">3</span>
<span class="token number">5</span> <span class="token number">5</span> <span class="token number">3</span> <span class="token number">3</span> <span class="token number">3</span> <span class="token number">2</span> <span class="token number">9</span> <span class="token number">9</span>
<span class="token number">10</span> <span class="token number">6</span> <span class="token number">4</span>
<span class="token number">1</span> <span class="token number">8</span> <span class="token number">2</span> <span class="token number">9</span> <span class="token number">3</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">3</span> <span class="token number">200</span>
<span class="token number">2</span> <span class="token number">2</span> <span class="token number">1</span>
<span class="token number">4</span> <span class="token number">3</span>
<span class="token number">2</span> <span class="token number">1</span> <span class="token number">2</span>
<span class="token number">1</span> <span class="token number">3</span>
</code></pre> 
<p><strong>【样例输出】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">0</span>
<span class="token number">2</span>
<span class="token number">0</span>
<span class="token number">3</span>
<span class="token operator">-</span><span class="token number">5</span>
<span class="token operator">-</span><span class="token number">9</span>
<span class="token number">0</span>
<span class="token operator">-</span><span class="token number">1</span>
</code></pre> 
<p><strong>【解释】</strong><br> 很容易看出来的贪心性质，由于卡牌上的数值只会是正数，那么Liukw一定会尽可能地选择数值最大、数量最多的卡牌乘以-1。实际上，剩余卡牌的和就取决Wugh的选择了，如果Wugh要拿走x张牌，那么他一定会拿走前x大的牌。</p> 
<p>只要枚举Wugh拿走牌的数量就可以了。</p> 
<p><strong>【代码】</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span>    <span class="token comment">//万能头文件</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>    <span class="token comment">//命名空间</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> t<span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>t<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>t<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">;</span>
		cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>a<span class="token operator">&gt;&gt;</span>b<span class="token punctuation">;</span>
		vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>    <span class="token comment">//卡牌数组</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token keyword">int</span> va<span class="token punctuation">;</span>
			cin<span class="token operator">&gt;&gt;</span>va<span class="token punctuation">;</span>
			v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>va<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//小到大排序</span>
		deque<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> qa<span class="token punctuation">;</span>    <span class="token comment">//去掉卡牌数组</span>
		deque<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> qb<span class="token punctuation">;</span>    <span class="token comment">//乘以负1数组</span>
		
		<span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">//最后剩余卡牌的和</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>a<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//先尽可能去掉总和更多牌</span>
			a<span class="token operator">--</span><span class="token punctuation">;</span>
			qa<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			v<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>b<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//尽可能使总和更多的牌乘以-1</span>
			b<span class="token operator">--</span><span class="token punctuation">;</span>
			qb<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			sum<span class="token operator">-=</span>v<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//乘以-1的牌就要减去</span>
			v<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> c<span class="token operator">:</span>v<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//没使用的牌直接累加</span>
			sum<span class="token operator">+=</span>c<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">int</span> ans<span class="token operator">=</span>sum<span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>qa<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//枚举让卡牌消失的数量</span>
			qb<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span>qa<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//a即将出队的卡牌，b需要将其乘以-1，因为a数组的里元素的值永远大于b的</span>
			sum<span class="token operator">-=</span>qa<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			b<span class="token operator">--</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//如果乘以-1的卡牌数量超出了限制，就需要去掉最小的那张</span>
				sum<span class="token operator">+=</span><span class="token number">2</span><span class="token operator">*</span>qb<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				qb<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				b<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			qa<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//出队最小的卡牌，消失的卡牌数量-1</span>
			ans<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		cout<span class="token operator">&lt;&lt;</span>ans<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre> 
<h2><a id="78__970"></a>7-8 得分王</h2> 
<p>时间限制: 1.0s 内存限制：256.0MB</p> 
<p><strong>【问题描述】</strong><br> 一个 n 行 m 列的方格图，图中会出现"0"，“#”，"S"三种字符：</p> 
<ul><li>"0"代表该位置能走</li><li>"#"代表该位置不能走</li><li>"S"代表初始位置</li></ul> 
<p>你初始站在位置在 S 上，初始分值为 1。</p> 
<p>图中会有 k 个得分点，得分点只会出现在给定地图的 “0” 的位置上，且同一个位置上不会出现多于一个得分点。</p> 
<p>请输出从初始位置出发，不限步数，能够得到的最大得分。</p> 
<p>得分点定义：得分点是一次性的。经过得分点后，分值立刻发生变化，得分点立刻消失，再次经过该得分点所在位置时不对分数造成任何影响。即当你的当前坐标首次与得分点所在坐标重合时，你的分值就会立刻变化，再次经过该点时对分值不造成任何影响。</p> 
<p>注意：过程中不可以越过任何一个得分点。</p> 
<p><strong>【输入格式】</strong><br> 第一行输入 n，m。表示该方格图有 n 行 m 列。(1 ≤ n,m ≤ 8)</p> 
<p>接下来 n 个字符串表示方格图。</p> 
<p>然后是一个整数 k ，代表一共有 k 个得分点。(0 ≤ k ≤ min(8,n∗m) )</p> 
<p>接下来 k 行，每行 4 个整数 x，y，t，v。 (1 ≤ x ≤ n, 1 ≤ y ≤ m, 1 ≤ t ≤ 2, 1 ≤ v ≤ 50)</p> 
<p>x，y 代表该得分点位于第 x 行第 y 列。</p> 
<p>t 代表得分类型（1表示加法，2表示乘法）</p> 
<p>v 代表分值。</p> 
<p><strong>【输出格式】</strong><br> 在一行中输出最大得分。</p> 
<p><strong>【样例输入1】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">1</span> <span class="token number">5</span>
<span class="token number">00</span>S00
<span class="token number">2</span>
<span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">5</span>
<span class="token number">1</span> <span class="token number">5</span> <span class="token number">2</span> <span class="token number">2</span>
</code></pre> 
<p><strong>【样例输出1】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">12</span>
</code></pre> 
<p><strong>【样例输入2】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">3</span> <span class="token number">5</span>
<span class="token number">00</span>S00
<span class="token number">000</span>##
<span class="token number">00000</span>
<span class="token number">4</span>
<span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">5</span>
<span class="token number">1</span> <span class="token number">5</span> <span class="token number">2</span> <span class="token number">2</span>
<span class="token number">3</span> <span class="token number">3</span> <span class="token number">2</span> <span class="token number">3</span>
<span class="token number">3</span> <span class="token number">5</span> <span class="token number">1</span> <span class="token number">10</span>
</code></pre> 
<p><strong>【样例输出2】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">56</span>
</code></pre> 
<p><strong>【样例说明】</strong><br> 样例2一种最优的走法是，先到 (1,1),再到 (3,3),然后到 (3,5),最后到 (1,5)，得到的分数((1+5)∗3+10)∗2=56</p> 
<p><strong>【解释】</strong><br> 深搜+广搜，数据量比较小，暴力所有情况即可</p> 
<p><strong>【代码】</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ll</span> <span class="token expression"><span class="token keyword">long</span> <span class="token keyword">long</span></span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span>
string s<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
ll v<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
ll d<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> f<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">72</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">72</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> idx<span class="token punctuation">[</span><span class="token number">72</span><span class="token punctuation">]</span><span class="token punctuation">,</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>mod<span class="token punctuation">[</span><span class="token number">72</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> px<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> x0<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>yy0<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">||</span>x<span class="token operator">&gt;=</span>n<span class="token operator">||</span>y<span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">||</span>y<span class="token operator">&gt;=</span>m<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span>id<span class="token operator">+</span>px<span class="token punctuation">;</span>
			idx<span class="token punctuation">[</span>id<span class="token operator">+</span>px<span class="token punctuation">]</span><span class="token operator">=</span>d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			a<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">[</span>id<span class="token operator">+</span>px<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			a<span class="token punctuation">[</span>id<span class="token operator">+</span>px<span class="token punctuation">]</span><span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			mod<span class="token punctuation">[</span>id<span class="token operator">+</span>px<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
			px<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			a<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			a<span class="token punctuation">[</span>v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span>id<span class="token punctuation">;</span>
	ll res<span class="token operator">=</span>d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> xx <span class="token operator">=</span> x<span class="token operator">+</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> yy <span class="token operator">=</span> y<span class="token operator">+</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>xx<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>yy<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>xx<span class="token operator">&lt;</span>n<span class="token operator">&amp;&amp;</span>yy<span class="token operator">&lt;</span>m<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>xx<span class="token punctuation">]</span><span class="token punctuation">[</span>yy<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token char">'#'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				res<span class="token operator">+=</span><span class="token function">dfs</span><span class="token punctuation">(</span>xx<span class="token punctuation">,</span>yy<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">bool</span> vp<span class="token punctuation">[</span><span class="token number">72</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">dfs2</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>vp<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span>
	vp<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> 
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>id<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token function">dfs2</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
ll <span class="token function">ck</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">bool</span> vis<span class="token punctuation">[</span><span class="token number">72</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	vis<span class="token punctuation">[</span>v<span class="token punctuation">[</span>x0<span class="token punctuation">]</span><span class="token punctuation">[</span>yy0<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
	ll res<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>num<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>vp<span class="token punctuation">[</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>vis<span class="token punctuation">[</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>mod<span class="token punctuation">[</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			res<span class="token operator">+=</span>idx<span class="token punctuation">[</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			res<span class="token operator">*=</span>idx<span class="token punctuation">[</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>id<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				vis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> res<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>m<span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		cin<span class="token operator">&gt;&gt;</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>x0<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>j<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'S'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				x0<span class="token operator">=</span>i<span class="token punctuation">;</span>
				yy0<span class="token operator">=</span>j<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> t<span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>t<span class="token punctuation">;</span>
	<span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>t<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		cin<span class="token operator">&gt;&gt;</span>x<span class="token operator">&gt;&gt;</span>y<span class="token punctuation">;</span>
		x<span class="token operator">--</span><span class="token punctuation">;</span>
		y<span class="token operator">--</span><span class="token punctuation">;</span>
		cin<span class="token operator">&gt;&gt;</span>d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
		cin<span class="token operator">&gt;&gt;</span>d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	d<span class="token punctuation">[</span>x0<span class="token punctuation">]</span><span class="token punctuation">[</span>yy0<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token char">'#'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				px<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
				mod<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
				idx<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
				id<span class="token operator">+=</span>px<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> nums<span class="token punctuation">;</span>
	<span class="token function">dfs2</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>x0<span class="token punctuation">]</span><span class="token punctuation">[</span>yy0<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>id<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		nums<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	ll ans<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">do</span> <span class="token punctuation">{<!-- --></span>
		ans<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span><span class="token function">ck</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">next_permutation</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	cout<span class="token operator">&lt;&lt;</span>ans<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="79__1184"></a>7-9 玛恩纳</h2> 
<p>时间限制: 1.0s 内存限制：256.0MB</p> 
<p><strong>【问题描述】</strong><br> 茶余饭后，Nomi 像往常一样打开了粥，无意间看到有玛恩纳的池子，看着包里仅剩下的几张寻访凭证，无脑的随便抽了一下，没想到三发就把玛恩纳给搞到了。喜出望外的 Nomi 掏出了仓库仅剩下的作战记录把玛恩纳直接精二了，迫不及待地跑到7-18去试一下三技能强度。</p> 
<p><img src="https://images2.imgbox.com/08/e8/PsoEu8m9_o.png" alt="在这里插入图片描述"></p> 
<p>Nomi 认识到玛恩纳的强大，没有任何敌人能够抵挡住玛恩纳的一次攻击，此次每个地图都将带上玛恩纳，成为MaBaoNan。</p> 
<p>玛恩纳三技能的攻击范围（方向朝上）如下，一共覆盖了14格（包括他本体所在的位置也能够攻击），同时玛恩纳的攻击方向是可以90度旋转的（也就是所存在上下左右四个方向的放置方式）。图中红色的是玛恩纳本体的位置，玛恩纳本体在地图中不能够位于障碍物上，而且不能够超出地图的范围。目前已知地图的大小为 n*m (1 ≤ n∗m ≤10<sup>6</sup> ，0 ≤ i ≤ n，0 ≤ j ≤ m)，地图中可能存在障碍物a<sub>i,j</sub> (a<sub>i,j</sub> = −1，障碍物不会受到攻击) 和血量为 a<sub>i,j</sub> (0 ≤ a<sub>i,j</sub> ≤ 10<sup>9</sup>) 的敌人。由于玛恩纳导致游戏难度太低了，每个地图 Nomi 都只会将玛恩纳部署到合适的位置一次（保证绝对可以部署），使得他能够攻击到的敌人血量之和最大。</p> 
<p><img src="https://images2.imgbox.com/9a/37/lwWF3rCt_o.png" alt="在这里插入图片描述"></p> 
<p><strong>【输入格式】</strong><br> 第 一 行输入两个整数n，m (1 ≤ n∗m ≤ 10<sup>6</sup>)，n表示地图的行数，m表示地图的列数。</p> 
<p>第二到 n+1 行，每行都存在 m 个整数 a<sub>i,j</sub> (−1 ≤ a<sub>i,j</sub>​ ≤ 10<sup>9</sup>)，a<sub>i,j</sub> = −1 时表示当前位置为障碍物，其他整数则表示当前位置敌人的血量。</p> 
<p><strong>【输出格式】</strong><br> 第一行输出一个大写字母表示玛恩纳的攻击方向 (向上输出‘U’，向下输出‘D’，向左输出‘L’，向右输出‘R’)。</p> 
<p>第二行输出一个整数表示玛恩纳攻击的敌人最大血量之和。</p> 
<p>第三行分别输出两个整数表示玛恩纳的坐标 i 和 j (0 ≤ i &lt; n,0 ≤ j &lt; m)。</p> 
<blockquote> 
 <p>注意：同时存在最大血量之和时，坐标 i 尽可能小。i 相同时，坐标 j 尽可能小。i，j 相同时且存在多个方向都满足时，方向优先级按上、下、左、右的优先顺序即可。</p> 
</blockquote> 
<p><strong>【样例输入】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">6</span> <span class="token number">10</span>
<span class="token operator">-</span><span class="token number">1</span> <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">0</span>
<span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">9999</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">0</span>
<span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">88</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token number">2</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">90</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span>
</code></pre> 
<p><strong>【样例输出】</strong></p> 
<pre><code class="prism language-cpp">D
<span class="token number">10001</span>
<span class="token number">2</span> <span class="token number">4</span>
</code></pre> 
<p><strong>【解释】</strong><br> 模拟题，根据题目意思暴力枚举每一个条件，取最优的答案即可。</p> 
<p>1、一个比较好的实现方法，就是打方向表，这样看起来比较直观，容易排bug，不用写那么多if else语句，具体可以看代码实现</p> 
<p>2、输出的结果有优先顺序，实现的时候注意枚举的顺序就行了</p> 
<p><strong>【代码】</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span>    <span class="token comment">//万能头文件</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>    <span class="token comment">//命名空间</span>
<span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span>
vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token operator">&gt;&gt;</span> v<span class="token punctuation">;</span>    <span class="token comment">//动态存地图</span>
<span class="token keyword">int</span> fu<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//向上的方向表，(0,0)代表玛恩纳的位置，其它13格是相对玛恩纳的位移</span>
    <span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> fd<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//向下的方向表</span>
    <span class="token punctuation">{<!-- --></span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> fl<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//向左的方向表</span>
    <span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> fr<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//向右的方向表</span>
    <span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token function">getU</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//获取向上方向造成的伤害</span>
    <span class="token keyword">long</span> <span class="token keyword">long</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">14</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//根据方向表找到所有能攻击到的位置</span>
        <span class="token keyword">int</span> xx<span class="token operator">=</span>x<span class="token operator">+</span>fu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> yy<span class="token operator">=</span>y<span class="token operator">+</span>fu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>xx<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>xx<span class="token operator">&lt;</span>n<span class="token operator">&amp;&amp;</span>yy<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>yy<span class="token operator">&lt;</span>m<span class="token operator">&amp;&amp;</span>v<span class="token punctuation">[</span>xx<span class="token punctuation">]</span><span class="token punctuation">[</span>yy<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//攻击的地方不能超出地图，并且不能是障碍物</span>
            sum<span class="token operator">+=</span>v<span class="token punctuation">[</span>xx<span class="token punctuation">]</span><span class="token punctuation">[</span>yy<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token function">getD</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//获取向下方向造成的伤害</span>
    
    <span class="token keyword">long</span> <span class="token keyword">long</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">14</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//根据方向表找到所有能攻击到的位置</span>
        <span class="token keyword">int</span> xx<span class="token operator">=</span>x<span class="token operator">+</span>fd<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> yy<span class="token operator">=</span>y<span class="token operator">+</span>fd<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>xx<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>xx<span class="token operator">&lt;</span>n<span class="token operator">&amp;&amp;</span>yy<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>yy<span class="token operator">&lt;</span>m<span class="token operator">&amp;&amp;</span>v<span class="token punctuation">[</span>xx<span class="token punctuation">]</span><span class="token punctuation">[</span>yy<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//攻击的地方不能超出地图，并且不能是障碍物</span>
            sum<span class="token operator">+=</span>v<span class="token punctuation">[</span>xx<span class="token punctuation">]</span><span class="token punctuation">[</span>yy<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token function">getL</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//获取向左方向造成的伤害</span>
    
    <span class="token keyword">long</span> <span class="token keyword">long</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">14</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//根据方向表找到所有能攻击到的位置</span>
        <span class="token keyword">int</span> xx<span class="token operator">=</span>x<span class="token operator">+</span>fl<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> yy<span class="token operator">=</span>y<span class="token operator">+</span>fl<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>xx<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>xx<span class="token operator">&lt;</span>n<span class="token operator">&amp;&amp;</span>yy<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>yy<span class="token operator">&lt;</span>m<span class="token operator">&amp;&amp;</span>v<span class="token punctuation">[</span>xx<span class="token punctuation">]</span><span class="token punctuation">[</span>yy<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//攻击的地方不能超出地图，并且不能是障碍物</span>
            sum<span class="token operator">+=</span>v<span class="token punctuation">[</span>xx<span class="token punctuation">]</span><span class="token punctuation">[</span>yy<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token function">getR</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//获取向右方向造成的伤害</span>
    
    <span class="token keyword">long</span> <span class="token keyword">long</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">14</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//根据方向表找到所有能攻击到的位置</span>
        <span class="token keyword">int</span> xx<span class="token operator">=</span>x<span class="token operator">+</span>fr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> yy<span class="token operator">=</span>y<span class="token operator">+</span>fr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>xx<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>xx<span class="token operator">&lt;</span>n<span class="token operator">&amp;&amp;</span>yy<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>yy<span class="token operator">&lt;</span>m<span class="token operator">&amp;&amp;</span>v<span class="token punctuation">[</span>xx<span class="token punctuation">]</span><span class="token punctuation">[</span>yy<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//攻击的地方不能超出地图，并且不能是障碍物</span>
            sum<span class="token operator">+=</span>v<span class="token punctuation">[</span>xx<span class="token punctuation">]</span><span class="token punctuation">[</span>yy<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>m<span class="token punctuation">;</span>
    <span class="token keyword">char</span> dir<span class="token operator">=</span><span class="token char">'\0'</span><span class="token punctuation">;</span>    <span class="token comment">//方向</span>
    <span class="token keyword">long</span> <span class="token keyword">long</span> ansX<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>ansY<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">//分别是坐标x、坐标y、总伤害</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//存地图</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token operator">&gt;</span> vv<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">long</span> <span class="token keyword">long</span> a<span class="token punctuation">;</span>
            cin<span class="token operator">&gt;&gt;</span>a<span class="token punctuation">;</span>
            vv<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>vv<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//不能放置在障碍物位置</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getU</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token operator">&gt;</span>ans<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//注意枚举顺序，上下左右</span>
                    dir<span class="token operator">=</span><span class="token char">'U'</span><span class="token punctuation">;</span>
                    ans<span class="token operator">=</span><span class="token function">getU</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    ansX<span class="token operator">=</span>i<span class="token punctuation">;</span>
                    ansY<span class="token operator">=</span>j<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getD</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token operator">&gt;</span>ans<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    dir<span class="token operator">=</span><span class="token char">'D'</span><span class="token punctuation">;</span>
                    ans<span class="token operator">=</span><span class="token function">getD</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    ansX<span class="token operator">=</span>i<span class="token punctuation">;</span>
                    ansY<span class="token operator">=</span>j<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getL</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token operator">&gt;</span>ans<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    dir<span class="token operator">=</span><span class="token char">'L'</span><span class="token punctuation">;</span>
                    ans<span class="token operator">=</span><span class="token function">getL</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    ansX<span class="token operator">=</span>i<span class="token punctuation">;</span>
                    ansY<span class="token operator">=</span>j<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getR</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token operator">&gt;</span>ans<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    dir<span class="token operator">=</span><span class="token char">'R'</span><span class="token punctuation">;</span>
                    ans<span class="token operator">=</span><span class="token function">getR</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    ansX<span class="token operator">=</span>i<span class="token punctuation">;</span>
                    ansY<span class="token operator">=</span>j<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    cout<span class="token operator">&lt;&lt;</span>dir<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token comment">//打印结果</span>
    cout<span class="token operator">&lt;&lt;</span>ans<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span>ansX<span class="token operator">&lt;&lt;</span><span class="token char">' '</span><span class="token operator">&lt;&lt;</span>ansY<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="710__1370"></a>7-10 涂矩阵</h2> 
<p>时间限制: 1.0s 内存限制：256.0MB</p> 
<p><strong>【问题描述】</strong><br> Liukw 给你一个 n × m 的矩阵，矩阵中存在 R、G、Y 三种颜色，你需要使矩阵满足以下条件：</p> 
<p>给你一个 n × m 的矩阵，让你使矩阵满足以下条件：</p> 
<p>1、从最上方开始若干行（最少一行）的格子全是红色（用 R 表示）；</p> 
<p>2、接下来若干行（至少一行）的格子全是绿色（用 G 表示）；</p> 
<p>3、剩下的行（至少一行）的格子全是黄色（用 Y 表示）。</p> 
<p>现在给你一个 n 行 m 列的矩阵，且每个格子的颜色为红色、绿色、黄色之一，你可以对矩阵的每个格子进行修改颜色，每次修改可以将矩阵的任意一个格子改成你想要的颜色，现在希望将这个矩阵变成满足上述条件，问你最少需要多少次修改操作。</p> 
<p><strong>【输入格式】</strong><br> 第一行两个整数 n (3 ≤ n ≤ 1000), m (1 ≤ m ≤ 1000)</p> 
<p>接下来 n 行，每行 m 个字符，矩阵的每一个格子是 R (红色)，G (绿色)，Y (黄色) 中的一个。</p> 
<p><strong>【输出格式】</strong><br> 输出一个整数，表示最少需要修改多少块。</p> 
<p><strong>【样例输入】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">4</span> <span class="token number">5</span>
RGYRG
YGRRY
GRYYR
YGYRG
</code></pre> 
<p><strong>【样例输出】</strong></p> 
<pre><code class="prism language-cpp"><span class="token number">13</span>
</code></pre> 
<p><strong>【解释】</strong><br> 1、10<sup>6</sup> 数据直接暴力枚举是行不通，仔细分析容易发现，可以压缩每一行的数据，例如RGYRGGGGG可以用2个红色、6个绿色、1个黄色来表示，即使再多的数据，也只用数值来表示。因为题目求的是需要修改的次数，那么，可以记录刷成红色需要7次、刷成绿色需要3次、刷成黄色需要8次</p> 
<p>2、数据压缩后可以暴力枚举红色行的数量、绿色行的数量、黄色行的数量来计算所有情况需要修改的次数，取最小值即可</p> 
<p>3、需要使用前缀和 + 差分的技巧在O(1)的时间复杂度内计算指定情况修改的次数</p> 
<p><strong>前缀和与差分算法：</strong><br>   前缀和与差分算法主要是为了快速求出某个区间的和，例如有一个数组a[10]={0，1，2，3，4，5，6，7，8，9}，我们需要求a[3]到a[7]的和，传统的办法是求a[3]+a[4]+a[5]+a[6]+a[7]，但是这样求复杂度是O(n)，如果我们建立了一个前缀数组S[9]={a[0]，a[0]+a[1]，a[0]+a[1]+a[2]，a[0]+a[1]+a[2]+a[3]，……，a[0]+a[1]+……+a[9]}，那么我们要求a[3]到a[7]的和可以用差分思想S[7]-S[2]即可求出</p> 
<p><strong>【代码】</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span>    <span class="token comment">//万能头文件</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>    <span class="token comment">//命名空间</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//主函数</span>
    <span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>m<span class="token punctuation">;</span>
    <span class="token keyword">int</span> r<span class="token punctuation">[</span><span class="token number">1010</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token comment">//每一行刷成红色需要的修改次数，例如，r[2]的值代表第二行全刷成红色需要的修改次数</span>
    <span class="token keyword">int</span> g<span class="token punctuation">[</span><span class="token number">1010</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token comment">//每一行刷成绿色需要的修改次数</span>
    <span class="token keyword">int</span> y<span class="token punctuation">[</span><span class="token number">1010</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token comment">//每一行刷成黄色需要的修改次数</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        string s<span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>s<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//记录每一行刷成不同颜色各需要的修改次数</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token char">'R'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                r<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token char">'G'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token char">'Y'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        r<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+=</span>r<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">//做前缀和操作</span>
        g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+=</span>g<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+=</span>y<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> ans<span class="token operator">=</span>INT_MAX<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//1值i行刷成红色</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//i+1至j行刷成绿色，剩下j+1至n行刷成黄色</span>
            ans<span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>r<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span>g<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span>g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span>y<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">-</span>y<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//差分直接计算结果</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    cout<span class="token operator">&lt;&lt;</span>ans<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token comment">//打印结果</span>
    
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/45175afff05399d782cdb58e14794a9d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java 数据结构 二叉树</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/38008f9631b314154494e3694888fe8a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43;笔记：从零开始一步步手撕红黑树</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>