<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Kotlin-13.数据类(data class) - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/9325d96e2b2a1e624a0072e85e30f604/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="Kotlin-13.数据类(data class)">
  <meta property="og:description" content="官方文档: http://kotlinlang.org/docs/reference/data-classes.html
1.数据类的概念(data class) 在Kotlin中一些只保存数据的类,称为数据类(data class), 为了确保自动生成的代码一致性和有意义,数据类(data class)必须满足以下要求: 主构造函数至少有一个参数; 主构造函数的所有参数需标记为val 或 var; 数据类不能是抽象、开放、密封或者内部的; 自kotlin 1.1起,数据类可以扩展其他类;在1.1之前,数据类只能实现接口 数据类(data class)的语法实例: data class User(val name: String, val age: Int) 编译器会为数据类(data class)自动生成以下函数: equals()/hashCode() toString() 默认输出&#34;User(name=John, age=42)&#34; componentN() 按声明顺序对应于所有属性 copy() 如果数据类需要无参构造函数,则所有属性必须有默认值: data class User(val name: String = &#34;&#34;, val age: Int = 0) 2.copy函数 当要复制一个对象,只改变一些属性,但其余不变,copy()就是为此而生: data class User(val name: String, val age: Int) fun main(args: Array&amp;lt;String&amp;gt;) { val u = User(name = &#34;lioil&#34;, age = 1) val u1 = u.">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2017-06-22T22:40:22+08:00">
    <meta property="article:modified_time" content="2017-06-22T22:40:22+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Kotlin-13.数据类(data class)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>官方文档: <a href="http://kotlinlang.org/docs/reference/data-classes.html" rel="nofollow noopener noreferrer" target="_blank">http://kotlinlang.org/docs/reference/data-classes.html</a></p> 
<h3 id="1数据类的概念data-class">1.数据类的概念(data class)</h3> 
<pre><code>在Kotlin中一些只保存数据的类,称为数据类(data class),
为了确保自动生成的代码一致性和有意义,数据类(data class)必须满足以下要求:
    主构造函数至少有一个参数;
    主构造函数的所有参数需标记为val 或 var;
    数据类不能是抽象、开放、密封或者内部的;
    自kotlin 1.1起,数据类可以扩展其他类;在1.1之前,数据类只能实现接口

数据类(data class)的语法实例: 
    data class User(val name: String, val age: Int)

    编译器会为数据类(data class)自动生成以下函数:
        equals()/hashCode()
        toString() 默认输出"User(name=John, age=42)"
        componentN() 按声明顺序对应于所有属性
        copy()

    如果数据类需要无参构造函数,则所有属性必须有默认值:
    data class User(val name: String = "", val age: Int = 0)
</code></pre> 
<h3 id="2copy函数">2.copy函数</h3> 
<pre><code>当要复制一个对象,只改变一些属性,但其余不变,copy()就是为此而生:
    data class User(val name: String, val age: Int)

    fun main(args: Array&lt;String&gt;) { 
        val u = User(name = "lioil", age = 1)
        val u1 = u.copy("win")   //传递第一参数,第二参数默认
        val u2 = u.copy("win",2) //传递所有参数
        val u3 = u.copy(age = 3) //命名参数,传递指定参数
        println("$u1,$u2,$u3")
    }   
</code></pre> 
<h3 id="3componentn函数-解构声明destructuring-declarations">3.componentN函数-解构声明(Destructuring Declarations)</h3> 
<pre><code>编译器为数据类(data class)自动声明componentN()函数,可直接用解构声明!
    data class User(val name: String, val age: Int)

    fun main(args: Array&lt;String&gt;) { 
        val u = User("lioil", 2017)
        val (n, a) = u
        println("$n, $a") //输出"lioil, 2017"
    }
</code></pre> 
<h3 id="4两个等号和三个等号">4.两个等号==和三个等号===</h3> 
<pre><code>Kotlin有两种相等性(equality):
    1.Referential/引用相等(两个引用指向同一对象): ===(否定形式!==)
    三个等号===比较,是对象引用(地址),即判断是否同一个对象!

    2.Structural/结构相等(用equals()检查): ==(否定形式!=)
    两个等号==比较,是通过equals()函数进行比较!

数据类已自动生成equals(),所以两个等号==比较的是对象数据,实例如下:
    data class User(val name: String, val age: Int)

    fun main(args: Array&lt;String&gt;) {
        val u1 = User("lioil", 1)
        val u2 = User("lioil", 1)
        val u3 = User("lioil", 2)

        println(u1 == u2)  //输出true,  对象数据相同
        println(u1 == u3)  //输出false, 对象数据不同

        // u1,u2,u3都是不同对象,即对象引用(地址)不同
        println(u1 === u2) //输出false, 对象引用(地址)不同
        println(u1 === u3) //输出false, 对象引用(地址)不同
    }
</code></pre> 
<p>简书：<a href="http://www.jianshu.com/p/cb807bf83e44" rel="nofollow">http://www.jianshu.com/p/cb807bf83e44</a> <br> CSDN博客: <a href="http://blog.csdn.net/qq_32115439/article/details/73611829">http://blog.csdn.net/qq_32115439/article/details/73611829</a> <br> GitHub博客：<a href="http://lioil.win/2017/06/22/Kotlin-data-class.html" rel="nofollow">http://lioil.win/2017/06/22/Kotlin-data-class.html</a> <br> Coding博客：<a href="http://c.lioil.win/2017/06/22/Kotlin-data-class.html" rel="nofollow">http://c.lioil.win/2017/06/22/Kotlin-data-class.html</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4728cdce35f3f06a8db7314218c005a1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[问题记录]按url context path设置nginx反向代理禅道和Jenkins</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/82b13c6d8cf2b1e171bc76edc83ade17/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Kotlin-14.密封类(sealed class)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>