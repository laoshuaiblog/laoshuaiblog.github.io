<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue的组件之间方法以及变量的调用 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/63336d1fcaed2cd6f1e95bebcfae4124/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="vue的组件之间方法以及变量的调用">
  <meta property="og:description" content="1、父组件调用子组件 （1）方法 方式①：通过ref直接调用子组件的方法
父组件：
&amp;lt;children ref=&#34;child&#34;&amp;gt;&amp;lt;/children&amp;gt; this.$refs.child.getDetail(); 子组件：
mounted(){ getDetail(){ console.log(&#39;子组件&#39;) } } 方式②：通过组件的$emit、$on方法（----此方式忽略-----）
（2）变量 方式①：通过子组件调用父组件的方法，子组件主动将值传递给父组件
父组件：
functionA(transVal){ this.getVal = transVal } 子组件：
this.$emit(&#39;functionA&#39;,this.tVal) 方式②：通过$refs来主动获取子组件中的值（与调用子组件方法一致） this.parenVal = this.$refs.child.childVal 2、子组件调用父组件 （1）方法 方式①：在子组件中通过this.$parent.event来调用父组件的方法
父组件：
hasCancleBtn(){ console.log(&#39;父组件&#39;) }, 子组件：
this.$parent.hasCancleBtn(); 方式②：父组件中将方法作为属性传入子组件，在子组件里props申明后直接调用这个方法即可 父组件：
&amp;lt;children :hasCancleBtn=&#34;hasCancleBtn&#34;&amp;gt;&amp;lt;/children&amp;gt; hasCancleBtn(){ console.log(&#39;父组件&#39;) } 子组件：
&amp;lt;div @click=&#34;hasCancleBtn&#34;&amp;gt;&amp;lt;/div props: { hasCancleBtn: { type: Function, default:function() { console.log(&#39;test&#39;) } } }, 方式③：子组件中用$emit向父组件触发一个事件
父组件：
&amp;lt;children @has-cancle-btn=&#34;hasCancleBtn&#34;&amp;gt;&amp;lt;/children&amp;gt; hasCancleBtn(){ console.log(&#39;父组件&#39;) } 子组件： &amp;lt;div @click=&#34;$emit(&#39;has-cancle-btn&#39;)&#34;&amp;gt;&amp;lt;/div&amp;gt; （2）变量 父组件：">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-07-08T10:42:04+08:00">
    <meta property="article:modified_time" content="2022-07-08T10:42:04+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue的组件之间方法以及变量的调用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><span style="background-color:#ffd900;">1、父组件调用子组件</span> </h2> 
<h4> <span style="color:#956fe7;"> （1）方法</span></h4> 
<hr> 
<p> <strong>方式①：通过<code>ref</code>直接调用子组件的方法</strong></p> 
<blockquote> 
 <p><strong>父组件：</strong></p> 
 <pre><code class="language-bash">&lt;children ref="child"&gt;&lt;/children&gt;

this.$refs.child.getDetail();</code></pre> 
 <p><strong>子组件：</strong></p> 
 <pre><code>mounted(){
	getDetail(){
		console.log('子组件')
	}
}
</code></pre> 
</blockquote> 
<p> <strong>方式②：通过组件的<code>$emit</code>、<code>$on</code>方法（----此方式忽略-----）</strong></p> 
<h4><strong><span style="color:#956fe7;">（2）变量</span> </strong></h4> 
<hr> 
<p><strong>方式①：通过子组件调用父组件的方法，子组件<span style="color:#fe2c24;">主动</span>将值传递给父组件</strong></p> 
<blockquote> 
 <p> <strong>父组件：</strong></p> 
 <pre><code class="language-bash">functionA(transVal){
    this.getVal = transVal
}</code></pre> 
 <p><strong>子组件：</strong></p> 
 <pre><code>this.$emit('functionA',this.tVal)</code></pre> 
</blockquote> 
<p><strong>方式②：通过$refs来<span style="color:#fe2c24;">主动</span>获取子组件中的值（与调用子组件方法一致） </strong></p> 
<pre><code class="language-bash">this.parenVal = this.$refs.child.childVal</code></pre> 
<p></p> 
<h2><span style="background-color:#ffd900;">2、子组件调用父组件 </span> </h2> 
<h4>        <span style="color:#956fe7;">（1）方法</span></h4> 
<hr> 
<p><strong>方式①：在子组件中通过<code>this.$parent.event</code>来调用父组件的方法</strong></p> 
<blockquote> 
 <p><strong>父组件：</strong></p> 
 <pre><code class="language-bash">hasCancleBtn(){
        console.log('父组件')
    },</code></pre> 
 <p><strong> 子组件：</strong></p> 
 <pre><code class="language-bash">this.$parent.hasCancleBtn();</code></pre> 
</blockquote> 
<h4><strong>方式②：父组件中将方法作为属性传入子组件，在子组件里props申明后直接调用这个方法即可</strong></h4> 
<blockquote> 
 <p><strong>父组件：</strong></p> 
 <pre><code class="language-bash">&lt;children :hasCancleBtn="hasCancleBtn"&gt;&lt;/children&gt;

hasCancleBtn(){
	console.log('父组件')
}</code></pre> 
 <p><strong>子组件：</strong></p> 
 <pre><code class="language-bash">&lt;div @click="hasCancleBtn"&gt;&lt;/div

props: {
    hasCancleBtn: {
      type: Function,
      default:function() {
        console.log('test')
      }
    }
  },


</code></pre> 
</blockquote> 
<p> <strong>方式③：子组件中用<code>$emit</code>向父组件触发一个事件</strong></p> 
<blockquote> 
 <p><strong>父组件：</strong></p> 
 <pre><code class="language-bash">&lt;children @has-cancle-btn="hasCancleBtn"&gt;&lt;/children&gt;

hasCancleBtn(){
	console.log('父组件')
}
</code></pre> 
 <p><strong>子组件： </strong></p> 
 <pre><code class="language-bash">&lt;div  @click="$emit('has-cancle-btn')"&gt;&lt;/div&gt;
</code></pre> 
</blockquote> 
<h4><span style="color:#956fe7;">（2）变量</span></h4> 
<hr> 
<p><strong>父组件：</strong></p> 
<blockquote> 
 <p><strong>step1：导入组件</strong></p> 
 <pre><code class="language-bash">import OneCompoment  from "@/componments/OneCompomen.vue";</code></pre> 
 <p><strong>step2：注册组件</strong></p> 
 <pre><code class="language-bash">components:{
    OneCompoent,
},</code></pre> 
 <p><strong>step3：使用组件，传递值给子组件</strong></p> 
 <pre><code class="language-bash">&lt;OneCompoent :infomation="infomation"&gt;&lt;/OneCompoent&gt;</code></pre> 
</blockquote> 
<p><img alt="在这里插入图片描述" src="https://images2.imgbox.com/97/8b/uv2RC9sz_o.png"></p> 
<p><strong>子组件：</strong></p> 
<blockquote> 
 <p><strong>step1：接收父组件传递的值</strong></p> 
 <pre><code class="language-bash">props:{
    infomation:{
        type:String,
        default:''
    }
}，

// 或者
props:{
    ['infomation']
}.</code></pre> 
 <p><strong>step2：使用该变量</strong></p> 
 <pre><code class="language-bash">&lt;div&gt;{<!-- -->{infomation}}&lt;/div&gt;

functionA(){
    console.log(this.infomation)
}</code></pre> 
</blockquote> 
<p><img alt="在这里插入图片描述" src="https://images2.imgbox.com/b3/0e/Ta9r4SGa_o.png"></p> 
<p></p> 
<p></p> 
<p></p> 
<h2><span style="background-color:#ffd900;">3、同级组件（无关系组件）之间方法的调用</span> </h2> 
<blockquote> 
 <h2></h2> 
</blockquote> 
<h4><span style="color:#fe2c24;">****注意：调用组件的方法都是异步方法，如果想做成同步的方法，需要通过callback设定返回值，达到同步的效果****，如下： </span></h4> 
<p><strong>父组件：</strong></p> 
<pre><code class="language-bash">    async submitProjectInfo(callback = () =&gt; {}) {
      // 调用节点信息设置组件的提交方法
      this.$refs.nodeInfoChild.finalSubmit()
      callback(true)
    }</code></pre> 
<p><strong>子组件：</strong></p> 
<pre><code class="language-bash">this.$emit('submitProjectInfo', res =&gt; {

    // res是返回值
    
})</code></pre> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4caeb41426172d4c2a66b3987ae44c78/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JAVA&#43;MYSQL可视化学生信息管理系统</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/148b0fd4f0c7b7e3ffc36e69209b8d91/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python实现股票数据接口</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>