<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>git常用操作 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/e764a4a0c27c6f8f0eedd49c463ff719/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="git常用操作">
  <meta property="og:description" content="在服务器上创建一个新项目：git init --bare 项目名.git
如git init --bare example.git
项目创建后，不允许自行在example.git里面添加和修改任何文件。
必须先git clone example.git example后，再在example里面添加或修改文件，然后用git add、git commit和git push origin命令将代码提交到example.git中。
另外，每一位代码提交人都有一个用户名和邮箱地址，是写在example/.git/config文件里面的。
[user]
name = 用户名
[user]
email = 邮箱地址
从服务器上通过SSH下载一份已有项目的代码到本地电脑：git clone &#34;ssh://用户名@域名/服务器上的项目路径.git&#34; &#34;要下载到本地电脑的哪个文件夹里面&#34;
如git clone &#34;ssh://oct1158@www.example.com/home/hahaha/xxxxx.git&#34; my_folder
命令执行完成后本地电脑上就会出现my_folder文件夹，里面存放的是刚才下载的代码。
下载完成后需用“git checkout 分支名”命令切换到想要的分支上。
如果ssh需要密钥文件登录，则需要把密钥文件放到~/.ssh/id_rsa中，并且权限必须是400。git会去自动读取，不用加任何命令参数。
密钥文件不能是.ppk格式！！！只能是id_rsa格式。
cp ~/myfile ~/.ssh/id_rsa
chmod 400 ~/.ssh/id_rsa
特别注意：git init和git clone只能二选一，不能两个都执行！！！！
git init是在服务器上创建新项目，git clone是从服务器上下载已有项目的代码到本地。
从服务器上下载最近的代码改动：git pull origin
刚才的git clone是下载一份全新的代码，而git pull origin是只下载最近添加和改动的文件。
查看日志：git log
按回车键往下翻，按q键退出。
里面的每一次提交都有一个40位的编号，如7286d29254b7b1d335eead4c2a2e062917eefd5f。
查看未提交的修改（不包括新创建的且未执行git add命令的文件）：git diff
回退到某次提交，恢复所有已修改的文件，但不删除新创建的且未执行git add命令的文件：git reset --hard XXX。">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-23T12:35:43+08:00">
    <meta property="article:modified_time" content="2024-03-23T12:35:43+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">git常用操作</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>在服务器上创建一个新项目：</strong>git init --bare 项目名.git<br> 如git init --bare example.git<br> 项目创建后，不允许自行在example.git里面添加和修改任何文件。<br> 必须先git clone example.git example后，再在example里面添加或修改文件，然后用git add、git commit和git push origin命令将代码提交到example.git中。<br> 另外，每一位代码提交人都有一个用户名和邮箱地址，是写在example/.git/config文件里面的。<br> [user]<br>     name = 用户名<br> [user]<br>     email = 邮箱地址</p> 
<p><strong>从服务器上通过SSH下载一份已有项目的代码到本地电脑：</strong>git clone "ssh://用户名@域名/服务器上的项目路径.git" "要下载到本地电脑的哪个文件夹里面"<br> 如git clone "ssh://oct1158@www.example.com/home/hahaha/xxxxx.git" my_folder<br> 命令执行完成后本地电脑上就会出现my_folder文件夹，里面存放的是刚才下载的代码。<br><span style="color:#38d8f0;">下载完成后需用“git checkout 分支名”命令切换到想要的分支上。</span></p> 
<p>如果ssh需要密钥文件登录，则需要把密钥文件放到~/.ssh/id_rsa中，并且权限必须是400。git会去自动读取，不用加任何命令参数。<br> 密钥文件不能是.ppk格式！！！只能是id_rsa格式。<br> cp ~/myfile ~/.ssh/id_rsa<br> chmod 400 ~/.ssh/id_rsa</p> 
<p><strong><span style="color:#fe2c24;">特别注意：git init和git clone只能二选一，不能两个都执行！！！！<br> git init是在服务器上创建新项目，git clone是从服务器上下载已有项目的代码到本地。</span></strong></p> 
<p><strong>从服务器上下载最近的代码改动：</strong>git pull origin<br><span style="color:#ff9900;">刚才的git clone是下载一份全新的代码，而git pull origin是只下载最近添加和改动的文件。</span></p> 
<p><strong>查看日志：</strong>git log<br> 按回车键往下翻，按q键退出。<br><span style="color:#ff9900;">里面的每一次提交都有一个40位的编号</span>，如7286d29254b7b1d335eead4c2a2e062917eefd5f。</p> 
<p><strong>查看未提交的修改（不包括新创建的且未执行git add命令的文件）</strong>：git diff</p> 
<p><strong>回退到某次提交，恢复所有已修改的文件，但不删除新创建的且未执行git add命令的文件：</strong>git reset --hard XXX。<br> 其中XXX是40位编号的内容。<span style="color:#38d8f0;">XXX参数可省略，代表当前最新提交。</span></p> 
<p><strong>恢复已修改的指定文件：</strong>git checkout 文件名</p> 
<p><strong>查看所有多余的文件（也就是新创建的，且未执行git add命令的，不在.gitignore忽略列表中的文件）：</strong>git clean -dn<br><strong>删除所有多余的文件（不使用回收站，删除后无法恢复！！！）：</strong>git clean -df</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dc89f6624eca46461ac82cfb53534f3d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【JS面试题 - 打印结果】&#43;&#43;[[]][&#43;[]] &#43; [&#43;[]]</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9b81da6f1b9cd9189bb2866634f953a7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">PTA题解 --- 阶梯电价（C语言）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>