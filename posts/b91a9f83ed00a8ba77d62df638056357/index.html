<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>了解es6模块化，看这篇就够了 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/b91a9f83ed00a8ba77d62df638056357/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="了解es6模块化，看这篇就够了">
  <meta property="og:description" content="了解es6模块化，看这篇就够了 ES ModuleES 的基本特性script标签中使用ES自动采用严格模式 独立的私有作用域ESM通过CORS去请求外部JS模块ESM的script脚本会延迟执行ES 导入和导出exportexport &amp;lt;成员声明变量&amp;gt;export { 变量 }as关键字default关键字 import基础用法导入defualt变量as关键字*关键字import导入的变量的特性接收普通变量和default变量import路径问题动态import ES Module es module 是es6近几年最新出的一个模块化规范。相对于AMD规范，它有了更加严谨的语法标准，使用更加便捷，并且现在大多浏览器都已经支持该特性。
ES 的基本特性 script标签中使用ES 我们只需要给script标签加上一个属性type=module，那么该script就是一个es模块了。而实际上每个js文件也是一个es模块
&amp;lt;script type=&#34;module&#34;&amp;gt; // 这就是一个es模块 &amp;lt;/script&amp;gt; 自动采用严格模式 对于每个es模块，模块内部会自动采用严格模式，最直观的表现就是，非严格模式下的this指向的是window，严格模式下则this则是undefined
&amp;lt;script&amp;gt; console.log(this) &amp;lt;/script&amp;gt; &amp;lt;script type=&#34;module&#34;&amp;gt; console.log(this) &amp;lt;/script&amp;gt; 结果
独立的私有作用域 普通的script标签都是全局作用域的，而每个es模块都有独立的私有作用域，很好的解决了命名冲突问题
&amp;lt;script type=&#34;module&#34;&amp;gt; const a = &#39;111&#39; console.log(a) &amp;lt;/script&amp;gt; &amp;lt;script type=&#34;module&#34;&amp;gt; const a = &#39;222&#39; console.log(a) &amp;lt;/script&amp;gt; 结果
ESM通过CORS去请求外部JS模块 这个的意思是，es模块是通过跨域的方式请求外部js模块，所以请求的该js模块必须是支持跨域的，否则会报错
&amp;lt;script type=&#34;module&#34; scr=&#34;请求的模块路径必须是支持跨域的&#34;&amp;gt;&amp;lt;/script&amp;gt; ESM的script脚本会延迟执行 ESM的script脚本会相对与普通的script脚本会延迟执行
&amp;lt;script type=&#34;module&#34;&amp;gt; console.log(&#39;我是ESM script&#39;) &amp;lt;/script&amp;gt; &amp;lt;script&amp;gt; console.log(&#39;我是普通script&#39;) &amp;lt;/script&amp;gt; 执行结果">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2021-03-04T17:10:36+08:00">
    <meta property="article:modified_time" content="2021-03-04T17:10:36+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">了解es6模块化，看这篇就够了</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>了解es6模块化，看这篇就够了</h4> 
 <ul><li><a href="#ES_Module_1" rel="nofollow">ES Module</a></li><li><ul><li><a href="#ES__4" rel="nofollow">ES 的基本特性</a></li><li><ul><li><a href="#scriptES_5" rel="nofollow">script标签中使用ES</a></li><li><a href="#_12" rel="nofollow">自动采用严格模式</a></li></ul> 
   </li><li><a href="#_25" rel="nofollow">独立的私有作用域</a></li><li><a href="#ESMCORSJS_40" rel="nofollow">ESM通过CORS去请求外部JS模块</a></li><li><a href="#ESMscript_46" rel="nofollow">ESM的script脚本会延迟执行</a></li><li><a href="#ES__60" rel="nofollow">ES 导入和导出</a></li><li><ul><li><a href="#export_63" rel="nofollow">export</a></li><li><ul><li><a href="#export__64" rel="nofollow">export &lt;成员声明变量&gt;</a></li><li><a href="#export____86" rel="nofollow">export { 变量 }</a></li><li><a href="#as_105" rel="nofollow">as关键字</a></li><li><a href="#default_113" rel="nofollow">default关键字</a></li></ul> 
    </li><li><a href="#import_130" rel="nofollow">import</a></li><li><ul><li><a href="#_132" rel="nofollow">基础用法</a></li><li><a href="#defualt_141" rel="nofollow">导入defualt变量</a></li><li><a href="#as_158" rel="nofollow">as关键字</a></li><li><a href="#_167" rel="nofollow">*关键字</a></li><li><a href="#import_181" rel="nofollow">import导入的变量的特性</a></li><li><a href="#default_213" rel="nofollow">接收普通变量和default变量</a></li><li><a href="#import_224" rel="nofollow">import路径问题</a></li><li><a href="#import_227" rel="nofollow">动态import</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="ES_Module_1"></a>ES Module</h2> 
<p>es module 是es6近几年最新出的一个模块化规范。相对于AMD规范，它有了更加严谨的语法标准，使用更加便捷，并且现在大多浏览器都已经支持该特性。</p> 
<h3><a id="ES__4"></a>ES 的基本特性</h3> 
<h4><a id="scriptES_5"></a>script标签中使用ES</h4> 
<p>我们只需要给script标签加上一个属性<code>type=module</code>，那么该script就是一个es模块了。而实际上每个js文件也是一个es模块</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token comment">// 这就是一个es模块</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="_12"></a>自动采用严格模式</h4> 
<p>对于每个es模块，模块内部会自动采用严格模式，最直观的表现就是，非严格模式下的this指向的是window，严格模式下则this则是undefined</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><strong>结果</strong><br> <img src="https://images2.imgbox.com/8d/dd/QqJnD5rH_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_25"></a>独立的私有作用域</h3> 
<p>普通的script标签都是全局作用域的，而每个es模块都有独立的私有作用域，很好的解决了命名冲突问题</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token string">'111'</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token string">'222'</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><strong>结果</strong><br> <img src="https://images2.imgbox.com/89/98/XQtt6SCm_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="ESMCORSJS_40"></a>ESM通过CORS去请求外部JS模块</h3> 
<p>这个的意思是，es模块是通过跨域的方式请求外部js模块，所以请求的该js模块必须是支持跨域的，否则会报错</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span> <span class="token attr-name">scr</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>请求的模块路径必须是支持跨域的<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h3><a id="ESMscript_46"></a>ESM的script脚本会延迟执行</h3> 
<p>ESM的script脚本会相对与普通的script脚本会延迟执行</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是ESM script'</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是普通script'</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><strong>执行结果</strong><br> <img src="https://images2.imgbox.com/6b/49/RNkTg0e8_o.png" alt="在这里插入图片描述"><br> 我们可以看到，虽然es模块的script标签在普通标签前执行，但却是普通标签的内容先打印。这说明esm的script脚本执行比普通的script脚本慢</p> 
<h3><a id="ES__60"></a>ES 导入和导出</h3> 
<p>我们说过，es模块内部都是由私有作用域的，那么如何暴露变量和导入，主要是通过<code>export</code>来暴露变量，<code>import</code>导入变量</p> 
<h4><a id="export_63"></a>export</h4> 
<h5><a id="export__64"></a>export &lt;成员声明变量&gt;</h5> 
<p>export 可以导出成员声明变量，函数，类</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 导出变量，变量可以是任意类型</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'es module'</span>

<span class="token comment">// 导出方法</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token comment">// 导出类</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
</code></pre> 
<p><strong>误区</strong><br> 以下这几种导出是错误的，不被支持，export不支持直接导出变量和值</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'aaa'</span>
<span class="token keyword">export</span> name <span class="token comment">// 导出变量</span>

<span class="token keyword">export</span> <span class="token string">'aaa'</span> <span class="token comment">// 导出值</span>
</code></pre> 
<h5><a id="export____86"></a>export { 变量 }</h5> 
<p>export还支持导出多个变量，而且在开发的时候用这样方法其实更加的合理，易于观察</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'es module'</span>

<span class="token keyword">function</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{<!-- --></span> name<span class="token punctuation">,</span> foo<span class="token punctuation">,</span> Person <span class="token punctuation">}</span>
</code></pre> 
<p>这里需要特别注意的是<code>export { name, foo, Person }</code>中的<code>{ }</code>并不是对象，他是export导出变量的一种语法，和<code>function() {}</code>中的<code>{ }</code>是类似的，而且我们上面也说过，export无法直接导出值，因此下面这段代码也是错误的，因为它并不是一个对象，而是一种语法规范，它规定我们就是这样写的</p> 
<pre><code class="prism language-javascript"><span class="token keyword">export</span> <span class="token punctuation">{<!-- --></span> 
	name<span class="token punctuation">:</span> name<span class="token punctuation">,</span>
	foo<span class="token punctuation">:</span> foo<span class="token punctuation">,</span>
	Person<span class="token punctuation">:</span> Person
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="as_105"></a>as关键字</h5> 
<p>如果我们希望对导出的变量名称进行修改，则可以使用as关键字来进行修饰<code>变量 as 别名</code>，但这个方法只适用于<code>export {}</code></p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'es module'</span>

<span class="token keyword">export</span> <span class="token punctuation">{<!-- --></span> name <span class="token keyword">as</span> alias <span class="token punctuation">}</span>
</code></pre> 
<h5><a id="default_113"></a>default关键字</h5> 
<p>顾名思义，default代表了一个默认导出的变量，export default可以导出任意的变量或者值</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'es module'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> name

or

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span> name <span class="token punctuation">}</span> <span class="token comment">// 这里的{}，是一个对象</span>

or 

<span class="token keyword">export</span> <span class="token punctuation">{<!-- --></span>name <span class="token keyword">as</span> <span class="token keyword">default</span><span class="token punctuation">}</span> <span class="token comment">// 这样也可以默认导出name</span>
</code></pre> 
<p>和<code>export{}</code>不同，<code>export default {}</code>中的<code>{}</code>是一个对象，因为<code>export default</code>可以导出任意的变量或者值，所以<code>export default {}</code>导出的就是一个对象，并且使用<code>default</code>关键字后，导入的规则也有所不同，这个后面会讲到。</p> 
<h4><a id="import_130"></a>import</h4> 
<p>既然有导出，那么久肯定有导入，否则无法去接收导出的变量，常规语法<code>import {} form 'path'</code></p> 
<h5><a id="_132"></a>基础用法</h5> 
<p>对于export导出一样，import同样有特殊的规定，这里我们针对普通的导出，非export default</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 对于普通的导出，非export default</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>name<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./modules.js'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
</code></pre> 
<p>需要注意的是，和<code>export {}</code>一样，<code>import {} form 'path'</code>中的<code>{ }</code>并不是我们熟悉的解构赋值语法，而是import的一种导入变量的规定规范，这里我们需要区分开来，并且<code>{ }</code>内的变量名称需要和export导出的变量名称相同，否则无法找到对应变量</p> 
<h5><a id="defualt_141"></a>导入defualt变量</h5> 
<p>之前说过，普通的export变量和export default变量，在import导入的时候方式稍有不同，export default不需要<code>{ }</code>，且可以使用任意变量名称来接收变量</p> 
<pre><code class="prism language-javascript"><span class="token comment">// modules.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token string">'es module'</span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> name <span class="token keyword">from</span> <span class="token string">'./modules.js'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>

or

<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span><span class="token keyword">default</span> <span class="token keyword">as</span> name<span class="token punctuation">}</span> <span class="token string">'./modules.js'</span>
<span class="token comment">// log: es module</span>
</code></pre> 
<h5><a id="as_158"></a>as关键字</h5> 
<p>和export一样，import也有as关键字，它也是定义变量的别名</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> name <span class="token keyword">as</span> alias<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./modules.js'</span>

<span class="token comment">// 也可以接收export default的变量</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">default</span> <span class="token keyword">as</span> alias<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./modules.js'</span>
</code></pre> 
<h5><a id="_167"></a>*关键字</h5> 
<p>我们有时候需要导入模块内所有的成员变量，但使用常规的方式一个个导入容易出错，而且不方便，这个时候可以使用<code>*</code>关键字</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./modules.js'</span>

<span class="token comment">// or</span>

<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> param <span class="token keyword">from</span> <span class="token string">'./modules.js'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span>
<span class="token comment">// { ... } param是一个包含所有成员的对象</span>
</code></pre> 
<p>使用<code>*</code>关键字接收变量的时候一定需要配合<code>as</code>关键字来指定接收所有成员的变量，且最终<code>param</code>接收的结果是一个对象</p> 
<h5><a id="import_181"></a>import导入的变量的特性</h5> 
<p>使用<code>import {}</code>导入的变量并不是将值拷贝一份，而是指向其变量的地址，所以模块内导出的值发生变化，导入时的变量也会发生变化，且该变量不可被修改（这里的修改是指重新赋值的意思）</p> 
<ol><li>先定义name的值，并导出，1s后修改name的值</li></ol> 
<pre><code class="prism language-javascript"><span class="token comment">// a.js</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'befor'</span>

<span class="token comment">// 1s后修改模块内的值</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  name <span class="token operator">=</span> <span class="token string">'after'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token punctuation">{<!-- --></span> name <span class="token punctuation">}</span>
</code></pre> 
<ol start="2"><li>观察导入的name两次打印的结果，并在延时结束后修改name的值</li></ol> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> name <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./a.js'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
<span class="token comment">// 2s 后看nam是否修改</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  name <span class="token operator">=</span> <span class="token string">'end'</span> <span class="token comment">// 重新赋值</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
</code></pre> 
<ol start="3"><li>打印结果<br> <img src="https://images2.imgbox.com/c2/e2/npT1vqJg_o.png" alt="在这里插入图片描述"></li></ol> 
<p>可以看到，主文件的name会随着模块内变量的改变而改变，并且无法被修改</p> 
<h5><a id="default_213"></a>接收普通变量和default变量</h5> 
<p>有可能模块中存在export导出的普通成员变量和default变量的情况，而且在两者导入的方式有差异，那如何在主模块中导入呢？</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 默认值在前，普通变量在后，用逗号隔开，语法可以正常使用</span>
<span class="token keyword">import</span> defaultParam<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>normalParam <span class="token operator">...</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./modules.js'</span>

<span class="token comment">// of</span>

<span class="token keyword">import</span> defaultParam<span class="token punctuation">,</span> <span class="token operator">*</span> <span class="token keyword">as</span> nomalParam <span class="token keyword">from</span> <span class="token string">'./modules.js'</span>
</code></pre> 
<h5><a id="import_224"></a>import路径问题</h5> 
<p>import 导入的路径可以是绝对路径、相对路径和完整的链接，但不可以省略<code>./</code>和<code>后缀</code></p> 
<h5><a id="import_227"></a>动态import</h5> 
<p><code>import {} from 'path'</code>中的path不支持变量，且只能定义在开头，如果我们希望使用动态导入则需要使用<code>import('path')</code>方法</p> 
<pre><code class="prism language-javascript"><span class="token comment">// import()返回一个promise，then方法回调接收导入的参数</span>
<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">// param 是导入的成员变量</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>以上内容仅供学习总结和参考，如有疑问欢迎交流</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c40eb11f8f35afe31d1ed78ecdbcd4a5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Vue3.0学习笔记-vm和生命周期函数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d4cab23bf09e7ddb3ee0dcd23b3efe9d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">散点图的相关性与显著性---MATLAB</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>