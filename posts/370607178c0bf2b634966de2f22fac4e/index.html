<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>J2EE开发 Spring MVC配置详解(非注解方式和注解方式) - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/370607178c0bf2b634966de2f22fac4e/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="J2EE开发 Spring MVC配置详解(非注解方式和注解方式)">
  <meta property="og:description" content="首先，确保自己的开发环境正确
1.JDK 1.7&#43;Spring3.x&#43;Tomcat
2.JDK 1.8&#43;Spring4.x&#43;Tomcat
不能用JDK 1.8去编译Spring 3.x的版本开发，不然你会发现WEB-INF下的classes是空的。没有编译后的字节码文件
不能用JDK 1.8去编译Spring 3.x的版本开发，不然你会发现WEB-INF下的classes是空的。没有编译后的字节码文件
不能用JDK 1.8去编译Spring 3.x的版本开发，不然你会发现WEB-INF下的classes是空的。没有编译后的字节码文件
Spring 框架下载地址
http://repo.spring.io/release/org/springframework/spring/
我写这篇博文的时候选择的是4.2.4版本
接下来说非注解的具体配置
一。首先是web.xml应用总入口的配置
web.xml
&amp;lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&amp;gt; &amp;lt;web-app xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xmlns=&#34;http://java.sun.com/xml/ns/javaee&#34; xsi:schemaLocation=&#34;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&#34; id=&#34;WebApp_ID&#34; version=&#34;2.5&#34;&amp;gt; &amp;lt;display-name&amp;gt;TxHelperServer&amp;lt;/display-name&amp;gt; &amp;lt;welcome-file-list&amp;gt; &amp;lt;welcome-file&amp;gt;index.html&amp;lt;/welcome-file&amp;gt; &amp;lt;welcome-file&amp;gt;index.htm&amp;lt;/welcome-file&amp;gt; &amp;lt;welcome-file&amp;gt;index.jsp&amp;lt;/welcome-file&amp;gt; &amp;lt;/welcome-file-list&amp;gt; &amp;lt;servlet&amp;gt; &amp;lt;servlet-name&amp;gt;springMVC&amp;lt;/servlet-name&amp;gt; &amp;lt;servlet-class&amp;gt;org.springframework.web.servlet.DispatcherServlet&amp;lt;/servlet-class&amp;gt; &amp;lt;init-param&amp;gt; &amp;lt;param-name&amp;gt;contextConfigLocation&amp;lt;/param-name&amp;gt; &amp;lt;param-value&amp;gt;classpath:springmvc.xml&amp;lt;/param-value&amp;gt; &amp;lt;/init-param&amp;gt; &amp;lt;load-on-startup&amp;gt;1&amp;lt;/load-on-startup&amp;gt; &amp;lt;/servlet&amp;gt; &amp;lt;servlet-mapping&amp;gt; &amp;lt;servlet-name&amp;gt;springMVC&amp;lt;/servlet-name&amp;gt; &amp;lt;url-pattern&amp;gt;*.action&amp;lt;/url-pattern&amp;gt; &amp;lt;/servlet-mapping&amp;gt; &amp;lt;/web-app&amp;gt; Servlet是Java Web的核心，Spring MVC也不例外，Spring MVC里的前端控制器DispatcherServlet就是一个Servlet。 配置DispatcherServlet servlet-name可以自定义。我这里叫做springMVC
init-param的param-name可以通过查看源码的方式看到contextConfigLocation
param-value是Spring MVC配置文件的路径
我这里是在工程名下和src同级的新建了一个文件夹config,在config里新建了一个xml文件springmvc.xml
Spring MVC的主要配置会在springmvc.xml里
&amp;lt;load-on-startup&amp;gt;1&amp;lt;/load-on-startup&amp;gt;
这个表示启动级别为1，当Tomcat启动时，应用也随之启动.
2.配置servlet-mapping
*.action表示所有以action结尾的URL请求都交给DispatcherServlet,虽然方便，但不利于实现RESTful
/ 表示全部请求都交由DispatcherServlet,此种配置可以实现RESTful,但会拦截静态资源文件,css/js/img。">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2016-02-04T15:37:15+08:00">
    <meta property="article:modified_time" content="2016-02-04T15:37:15+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">J2EE开发 Spring MVC配置详解(非注解方式和注解方式)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>首先，确保自己的开发环境正确</p> 
<p>1.JDK 1.7+Spring3.x+Tomcat</p> 
<p>2.JDK 1.8+Spring4.x+Tomcat</p> 
<p><br> </p> 
<p>不能用JDK 1.8去编译Spring 3.x的版本开发，不然你会发现WEB-INF下的classes是空的。没有编译后的字节码文件</p> 
<p>不能用JDK 1.8去编译Spring 3.x的版本开发，不然你会发现WEB-INF下的classes是空的。没有编译后的字节码文件<br> </p> 
<p>不能用JDK 1.8去编译Spring 3.x的版本开发，不然你会发现WEB-INF下的classes是空的。没有编译后的字节码文件</p> 
<p><br> </p> 
<p>Spring 框架下载地址</p> 
<p><a target="_blank" href="http://repo.spring.io/release/org/springframework/spring/" rel="nofollow noopener noreferrer">http://repo.spring.io/release/org/springframework/spring/</a></p> 
<p><br> </p> 
<p>我写这篇博文的时候选择的是4.2.4版本</p> 
<p><br> </p> 
<p>接下来说非注解的具体配置</p> 
<p><br> </p> 
<p><br> </p> 
<p>一。首先是web.xml应用总入口的配置</p> 
<p>web.xml<br> </p> 
<p></p> 
<pre><code class="language-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" id="WebApp_ID" version="2.5"&gt;
  &lt;display-name&gt;TxHelperServer&lt;/display-name&gt;
  &lt;welcome-file-list&gt;
    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;
    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;
    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
  &lt;/welcome-file-list&gt;
 
  &lt;servlet&gt;
  	&lt;servlet-name&gt;springMVC&lt;/servlet-name&gt;
  	&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
  		&lt;init-param&gt;
  			&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
  			&lt;param-value&gt;classpath:springmvc.xml&lt;/param-value&gt;
  		&lt;/init-param&gt;
  	&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
  &lt;/servlet&gt;
  
  &lt;servlet-mapping&gt;
  	&lt;servlet-name&gt;springMVC&lt;/servlet-name&gt;
  	&lt;url-pattern&gt;*.action&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
	
&lt;/web-app&gt;</code></pre> 
<br> Servlet是Java Web的核心，Spring MVC也不例外，Spring MVC里的前端控制器DispatcherServlet就是一个Servlet。 
<p></p> 
<p><br> </p> 配置DispatcherServlet 
<p>servlet-name可以自定义。我这里叫做springMVC</p> 
<p>init-param的param-name可以通过查看源码的方式看到contextConfigLocation</p> 
<p>param-value是Spring MVC配置文件的路径</p> 
<p>我这里是在工程名下和src同级的新建了一个文件夹config,在config里新建了一个xml文件springmvc.xml</p> 
<p>Spring MVC的主要配置会在springmvc.xml里</p> 
<p><br> </p> 
<p><img src="https://images2.imgbox.com/93/6d/zhTToy7A_o.png" alt=""></p> 
<p><span class="tag"><br> </span></p> 
<p><span class="tag">&lt;</span><span class="tag-name">load-on-startup</span><span class="tag">&gt;</span>1<span class="tag">&lt;/</span><span class="tag-name">load-on-startup</span><span class="tag">&gt;</span><br> 这个表示启动级别为1，当Tomcat启动时，应用也随之启动.<br> </p> 
<p><br> </p> 
<p>2.配置servlet-mapping</p> 
<p>*.action表示所有以action结尾的URL请求都交给DispatcherServlet,虽然方便，但不利于实现RESTful</p> 
<p><br> </p> 
<p>/ 表示全部请求都交由DispatcherServlet,此种配置可以实现RESTful,但会拦截静态资源文件,css/js/img。</p> 
<p>出现这个问题的根本原因是因为，*.css *.js这些资源的URL也满足/的匹配，所以也交由DispatcherServlet来处理，但在后续的URL映射配置中，我们并没有给静态资源文件URL也配置对应的类，所以就会出现找不到URL映射的报错。</p> 
<p>但如果是*.action或者*.do的话，这些.css .js不会被匹配到，自然就不会交给DispatcherServlet来处理。<br> </p> 
<p>解决这个问题方案是激活Tomcat的defaultServlet来处理静态文件</p> 
<p>配置时加上如下</p> 
<p></p> 
<pre><code class="language-html">&lt;servlet-mapping&gt;  
            &lt;servlet-name&gt;default&lt;/servlet-name&gt;  
            &lt;url-pattern&gt;*.css&lt;/url-pattern&gt;  
    &lt;/servlet-mapping&gt;
    &lt;servlet-mapping&gt;  
            &lt;servlet-name&gt;default&lt;/servlet-name&gt;  
            &lt;url-pattern&gt;*.gif&lt;/url-pattern&gt;  
    &lt;/servlet-mapping&gt;
    &lt;servlet-mapping&gt;  
            &lt;servlet-name&gt;default&lt;/servlet-name&gt;  
            &lt;url-pattern&gt;*.jpg&lt;/url-pattern&gt;  
    &lt;/servlet-mapping&gt;  
    &lt;servlet-mapping&gt;  
            &lt;servlet-name&gt;default&lt;/servlet-name&gt;  
            &lt;url-pattern&gt;*.js&lt;/url-pattern&gt;  
    &lt;/servlet-mapping&gt;  
    &lt;servlet-mapping&gt; 
            &lt;servlet-name&gt;default&lt;/servlet-name&gt; 
            &lt;url-pattern&gt;*.html&lt;/url-pattern&gt; 
    &lt;/servlet-mapping&gt;</code></pre> 
<br> 关于这个问题的解决方案，我这里只给出了这一种我采用的，还有其他的方案可以参考博文 
<p></p> 
<p><a target="_blank" href="http://blog.csdn.net/hello5orld/article/details/9407905" rel="noopener noreferrer">http://blog.csdn.net/hello5orld/article/details/9407905</a></p> 
<p>同时感谢解决方案原作者。</p> 
<p><br> </p> 
<p><br> </p> 
<p>二.配置springmvc.xml（非注解方式）</p> 
<p>(1)springmvc.xml</p> 
<p></p> 
<pre><code class="language-html">&lt;beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mvc="http://www.springframework.org/schema/mvc"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
		http://www.springframework.org/schema/beans/spring-beans-4.2.xsd 
		http://www.springframework.org/schema/mvc 
		http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd 
		http://www.springframework.org/schema/context 
		http://www.springframework.org/schema/context/spring-context-4.2.xsd 
		http://www.springframework.org/schema/aop 
		http://www.springframework.org/schema/aop/spring-aop-4.2.xsd 
		http://www.springframework.org/schema/tx 
		http://www.springframework.org/schema/tx/spring-tx-4.2.xsd "&gt;
		
	&lt;!--1.配置自己写的Controller  --&gt;
	&lt;bean name="/userLogin.action" class="csu.lzw.ssm.controller.LoginController" /&gt;
	
	
	
	&lt;!--配置处理器映射器  --&gt;
	&lt;bean
		class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping" /&gt;
		
		
	&lt;!--配置处理器适配器  --&gt;
	&lt;bean
		class="org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter" /&gt;
		
	&lt;!--配置视图解析器  --&gt;
	&lt;bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"/&gt;

&lt;/beans&gt;</code></pre> 
<p></p> 
<p>1.处理器映射器<br> 如果没有明确声明任何处理器映射，spring会默认使用BeanNameUrlHandlerMapping，我这里为了说明还是显式的配置了一下。</p> 
<p>BeanNameUrlHandlerMapping这个类的作用是将配置的URL与对应的类映射起来。</p> 
<p>2.处理器适配器</p> 
<p>我们自己写的Controller都要去实现Controller接口，handleRequest方法。</p> 
<p>这个</p> 
<pre><code class="language-html">SimpleControllerHandlerAdapter</code></pre>适配器能执行实现 
<span style="color:black; background:lightgrey">Controller</span> 
<span style="color:black">接口的自己写的Controller。</span> 
<br> 
<p></p> 
<p>3.视图解析器</p> 
<p></p> 
<pre><code class="language-html">InternalResourceViewResolver</code></pre>这个解析器解析jsp页面中的Jstl标签，渲染Model数据，返回给用户. 
<p></p> 
<p>所以在开发的时候，lib文件夹下要有jstl相关的jar包,不然会报错</p> 
<p><br> </p> 
<p>(2)关于处理器映射器非注解的还有一种配置方式，是另一个处理器映射器.</p> 
<p></p> 
<pre><code class="language-html">&lt;beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mvc="http://www.springframework.org/schema/mvc"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
		http://www.springframework.org/schema/beans/spring-beans-4.2.xsd 
		http://www.springframework.org/schema/mvc 
		http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd 
		http://www.springframework.org/schema/context 
		http://www.springframework.org/schema/context/spring-context-4.2.xsd 
		http://www.springframework.org/schema/aop 
		http://www.springframework.org/schema/aop/spring-aop-4.2.xsd 
		http://www.springframework.org/schema/tx 
		http://www.springframework.org/schema/tx/spring-tx-4.2.xsd "&gt;
		
	&lt;!--1.配置自己写的Controller  --&gt;
	&lt;bean id="LoginController" class="csu.lzw.ssm.controller.LoginController" /&gt;
	
	&lt;!--另一种非注解的处理器映射器  --&gt;
	&lt;bean
		class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping"&gt;
		&lt;property name="mappings"&gt;
			&lt;props&gt;
				&lt;prop key="/userLogin.action"&gt;LoginController&lt;/prop&gt;
			&lt;/props&gt;
		&lt;/property&gt;
	&lt;/bean&gt;
	
		
	&lt;!--配置处理器适配器  --&gt;
	&lt;bean
		class="org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter" /&gt;
		
	&lt;!--配置视图解析器  --&gt;
	&lt;bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"/&gt;

&lt;/beans&gt;</code></pre> 
<p></p> 
<p>大多数配置情况下都用这个映射器，方法也很简单，给每一个自己写的Controller一个id,然后对应URL的key就可以了。<br> </p> 
<pre><code class="language-html">SimpleUrlHandlerMapping</code></pre> 
<p></p> 
<p><br> </p> 
<p>(3)另一种处理器适配器</p> 
<p>HttpRequestHandlerAdapter.<br> </p> 
<p>要求编写的Controller实现 <span style="color:black; background:lightgrey">HttpRequestHandler</span><span style="color:black">接口。</span></p> 
<p><span style="color:black">第一种适配器实现Controller接口的handleRequest方法返回值是ModelAndView，可以理解成jsp视图地址和将要填充渲染的Model数据结构体吧</span></p> 
<p><span style="color:black">而现在这一种实现<span style="color:black; background:lightgrey">HttpRequestHandler</span>接口的handlerRequest方法是void的，意味着要通过参数里的HttpServletRequest对象类似与早期开发Servlet的样式进行跳转和设置属性键值传递数据.</span></p> 
<p><span style="color:black">但这一种在一些场合一些需求也是有用武之地的，比如当需要返回json字符串的时候。</span></p> 
<p><span style="color:black"></span></p> 
<p align="left"><span style="color:#3F7F5F">使用此方法可以通过修改</span><span style="color:#3F7F5F">response</span><span style="color:#3F7F5F">，设置响应的数据格式，比如响应</span><u><span style="color:#3F7F5F">json</span></u><span style="color:#3F7F5F">数据</span></p> 
<p align="left"><span style="color:#3F7F5F">/*</span></p> 
<p align="left"><span style="color:#3F7F5F">      </span>response.setCharacterEncoding("<u>utf</u>-8");</p> 
<p align="left"><span style="color:#3F7F5F">      </span>response.setContentType("application/<u>json</u>;<u>charset</u>=<u>utf</u>-8");</p> 
<p><span style="color:#3F7F5F">      </span>response.getWriter().write("<u>json</u><span style="color:#3F7F5F">字符串");*/</span></p> 
<br> 
<p>基本上非注解的配置就说完了。</p> 
<p><br> </p> 
<p>最后上一个我测试用的LoginController类,实现了Controller接口使用SimpleControllerHandlerAdapter适配器配置</p> 
<p>LoginController.java</p> 
<p></p> 
<pre><code class="language-java">package csu.lzw.ssm.controller;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.springframework.http.HttpRequest;
import org.springframework.web.HttpRequestHandler;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.web.servlet.mvc.Controller;

public class LoginController implements Controller {

	@Override
	public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception {
		// TODO Auto-generated method stub
		System.out.println("login ok");
		return new ModelAndView("/WEB-INF/main.jsp");
	}

}
</code></pre> 
<br> 
<p>最后，实际上，在配置文件里只需要配置自己写的Controller就行了，其他的Spring会采用默认的映射器，适配器，视图解析器。</p> 
<p>在/org/springframework/web/servlet/DispatcherServlet.properties文件下。</p> 
<p>文件内容如下</p> 
<p></p> 
<pre><code class="language-plain"># Default implementation classes for DispatcherServlet's strategy interfaces.
# Used as fallback when no matching beans are found in the DispatcherServlet context.
# Not meant to be customized by application developers.

org.springframework.web.servlet.LocaleResolver=org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver

org.springframework.web.servlet.ThemeResolver=org.springframework.web.servlet.theme.FixedThemeResolver

org.springframework.web.servlet.HandlerMapping=org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,\
	org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping

org.springframework.web.servlet.HandlerAdapter=org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,\
	org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,\
	org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter

org.springframework.web.servlet.HandlerExceptionResolver=org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerExceptionResolver,\
	org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver,\
	org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver

org.springframework.web.servlet.RequestToViewNameTranslator=org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator

org.springframework.web.servlet.ViewResolver=org.springframework.web.servlet.view.InternalResourceViewResolver

org.springframework.web.servlet.FlashMapManager=org.springframework.web.servlet.support.SessionFlashMapManager</code></pre> 
<br> 可以看到默认的映射器，适配器，视图解析器 
<p></p> 
<p>也就是配置文件完全可以这样配置</p> 
<p></p> 
<pre><code class="language-html">&lt;beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mvc="http://www.springframework.org/schema/mvc"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
		http://www.springframework.org/schema/beans/spring-beans-4.2.xsd 
		http://www.springframework.org/schema/mvc 
		http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd 
		http://www.springframework.org/schema/context 
		http://www.springframework.org/schema/context/spring-context-4.2.xsd 
		http://www.springframework.org/schema/aop 
		http://www.springframework.org/schema/aop/spring-aop-4.2.xsd 
		http://www.springframework.org/schema/tx 
		http://www.springframework.org/schema/tx/spring-tx-4.2.xsd "&gt;
		
	&lt;!--1.配置自己写的Controller  --&gt;
	&lt;bean name="/userLogin.action" class="csu.lzw.ssm.controller.LoginController" /&gt;
	
&lt;/beans&gt;</code></pre> 
<br> 
<p>三.配置springmvc.xml（注解方式）</p> 
<p><br> </p> 
<p>是用注解方式必须保证映射器和适配器都采用注解包下的，必须配套使用，不能一个注解一个非注解</p> 
<p><br> </p> 
<p>org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping <br> </p> 
<p>注解映射器</p> 
<p></p> 
<p>org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.class</p> 
<p>注解适配器</p> 
<p><br> </p> 
<p>可以使用mvc标签替代上面两个。</p> 
<p></p> 
<p align="left"><span style="color:#3F5FBF">&lt;!--</span><span style="color:#3F5FBF">使用</span><span style="color:#3F5FBF"> mvc:annotation-driven</span><span style="color:#3F5FBF">代替上边注解映射器和注解适配器配置</span></p> 
<p align="left"><span style="color:#3F5FBF">   </span>mvc:annotation-driven<span style="color:#3F5FBF">默认加载很多的参数绑定方法，</span></p> 
<p align="left"><span style="color:#3F5FBF">   </span><span style="color:#3F5FBF">比如</span><u><span style="color:#3F5FBF">json</span></u><span style="color:#3F5FBF">转换解析器就默认加载了，如果使用</span><span style="color:#3F5FBF">mvc:annotation-driven</span><span style="color:#3F5FBF">不用配置上边的</span><span style="color:#3F5FBF">RequestMappingHandlerMapping</span><span style="color:#3F5FBF">和</span><span style="color:#3F5FBF">RequestMappingHandlerAdapter</span></p> 
<p align="left"><span style="color:#3F5FBF">   </span><span style="color:#3F5FBF">实际开发时使用</span><span style="color:#3F5FBF">mvc:annotation-driven</span></p> 
<p align="left"><span style="color:#3F5FBF">   </span> --&gt;</p> 
<p><span style="color:black">   </span><span style="color:#3F5FBF">&lt;!--&lt;mvc:annotation-driven&gt;&lt;/mvc:annotation-driven&gt; --&gt;</span></p> 
<p><span style="color:#3F5FBF"><br> </span></p> 
<p>context:component-scan为设置注解扫描包，将包下的Controller转为bean</p> 
<p><span style="color:#3F5FBF"><br> </span></p> 
<p>springmvc.xml</p> 
<p></p> 
<pre><code class="language-html">&lt;beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mvc="http://www.springframework.org/schema/mvc"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
		http://www.springframework.org/schema/beans/spring-beans-4.2.xsd 
		http://www.springframework.org/schema/mvc 
		http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd 
		http://www.springframework.org/schema/context 
		http://www.springframework.org/schema/context/spring-context-4.2.xsd 
		http://www.springframework.org/schema/aop 
		http://www.springframework.org/schema/aop/spring-aop-4.2.xsd 
		http://www.springframework.org/schema/tx 
		http://www.springframework.org/schema/tx/spring-tx-4.2.xsd "&gt;
		
	&lt;mvc:annotation-driven&gt;&lt;/mvc:annotation-driven&gt;  
	
       &lt;!-- 把标记了@Controller注解的类转换为bean --&gt;     
    &lt;context:component-scan base-package="csu.lzw.ssm.controller" /&gt;     
	
&lt;/beans&gt;</code></pre> 
<br> 
<br> 
<p></p> 
<p>自己写注解的Controll<span style="color:#3F5FBF">er</span></p> 
<p><br> </p> 
<pre><code class="language-java">package csu.lzw.ssm.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;

@Controller
public class LoginController{

	@RequestMapping("/userLogin")
	public ModelAndView userLogin() throws Exception {
		// TODO Auto-generated method stub
		System.out.println("login ok");
		return new ModelAndView("/WEB-INF/main.jsp");
	}

}
</code></pre> 
<br> 
<p></p> 
<p><br> </p> 
<p><br> </p> 
<p><br> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a7b6e52af24e57c86e353425613de4fc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JQuery form表单提交</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/829f562145cf006fcf801b4a8e172566/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java session 每次请求都会产生新的sessionId</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>