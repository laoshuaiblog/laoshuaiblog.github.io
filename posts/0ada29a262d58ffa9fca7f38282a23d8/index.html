<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>设置 DevMgr_Show_NonPresent_Devices 令未连接的历史设备在 Windows 设备管理器中现形... - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/0ada29a262d58ffa9fca7f38282a23d8/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="设置 DevMgr_Show_NonPresent_Devices 令未连接的历史设备在 Windows 设备管理器中现形...">
  <meta property="og:description" content=" 转自：http://blogs.itecn.net/blogs/alexis/archive/2011/07/07/How-to-show-NonPresent-Devices-in-Device-Manager.aspx
Windows 设备管理器通常只会显示已经连接至计算机的设备，不会显示未连接至计算机的设备。如果我们 希望显示那些以前曾经连接过、但目前没有连接至计算机的历史硬件设备，可以在 CMD 命令提示符中输入 并执行：
SETDevmgr_show_nonpresent_devices=1 在 Windows 7/Vista 中需要以管理员权限运行命令提示符。而且需要注意的是，在命令提示符中执行 SET Devmgr_show_nonpresent_devices=1 只是一个暂时性设置，此功能在命令提示符关闭后就会自动失效。 如果我们希望一劳永逸，长期在设备管理器中显示历史设备记录，可以在控制面板中打开“系统”属性， 点击“高级系统设置”，切换至“高级”选项卡，再点击“环境变量”，然后在“用户变量”中新建变量 Devmgr_show_nonpresent_devices，并将其值设置为 1 即可。 或者，我们还可以下载使用微软网站提供的 Fixit 50606 工具帮助设置此变量： http://go.microsoft.com/?linkid=9763244 然后我们打开设备管理器，在“查看”菜单中选择“显示隐藏的设备”，即可在设备管理器中查看已经连接 及未连接的所有硬件设备，包括任何曾经在计算机中使用过哪怕仅一次的历史硬件设备。其中，已经连接至 计算机的设备将以实色图标显示，未连接至计算机的历史设备将以暗灰色图标显示。例如，经常向他人借用 闪存盘的用户，可能会在“通用串行总线控制器”中看到几十个以暗灰色图标显示的 USB Mass Storage Device，这些均是以前曾经连接过的闪存盘留下的历史记录。只有当前已经连接至计算机的闪存盘，才会 以实色图标显示。 那么，在设备管理器中显示这些连接过的历史设备记录有什么用处呢？它可以帮我们处理一些驱动程序配置 方面的 故障。例如： 1. 某些驱动程序曾经安装失败的硬件设备可能会在设备管理器中显示为带有问号的未知设备，或者显示为 Unknown Device 等。由于存在错误的历史驱动配置，Windows 在每次连接这些设备后都会自动沿用之前 错误的驱动配置，这可能会影响我们重新安装正确的驱动程序。如果我们用在设备管理器中显示历史设备的 方法，在重新连接设备之前在设备管理器中显示并删除有问题的设备配置，可以令 Windows 恢复至从来 没有连接过这些设备的初始状态。这样下一次再连接这些设备时，Windows 就不会再沿用之前错误的驱动 配置了，而是提示我们重新配置正确的驱动。 2. 如果我们需要为计算机更换一种完全不同规格的设备，最好也在拔出旧设备之后用在设备管理器中显示并 删除历史设备的方法删除旧设备配置，以确保新设备的正常运行。例如，假如我们之前使用 nVIDIA 显卡， 现在需要更换 ATi 显卡，最好在连接新显卡之后在设备管理器中将已不存在的 nVIDIA 显卡删除，然后卸载 全部 nVIDIA 显示驱动程序，以确保 ATi 显卡的正常运行及 ATi 显示驱动程序的顺利安装。 3. 有时我们出于一些原因可能会为部分设备更换接口，每一次更换接口都会引起 Windows 重新配置驱动， 并在设备管理器中将设备重新显示为 # 加数字后缀的设备名称，更换接口的次数越多，# 后面的数字后缀 就 越大。特别如果是网络适配器的话，还可能会引起“网络连接”中生成一堆带有数字后缀的“本地连接” 图标。其实，这都是因为同一件设备在更换接口前的配置占用了设备历史记录，因为这些历史记录的存在， Windows 才会将更换接口后的设备视作新的设备，并添加 # 加数字后缀以示区别。如果我们在多次更换 接口后希望去掉设备名称的数字后缀，就可以用在设备管理器中显示并删除历史设备的方法删除更换接口 之前的设备历史记录，令 Windows 恢复至从来没有连接过这些设备的初始状态。这样下一次再连接这些 设备时，Windows 就不会再因为历史记录的存在而为设备名称添加 # 及数字后缀了。 ">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2011-09-30T15:30:00+08:00">
    <meta property="article:modified_time" content="2011-09-30T15:30:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">设置 DevMgr_Show_NonPresent_Devices 令未连接的历史设备在 Windows 设备管理器中现形...</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>转自：http://blogs.itecn.net/blogs/alexis/archive/2011/07/07/How-to-show-NonPresent-Devices-in-Device-Manager.aspx<br></h3> 
Windows 设备管理器通常只会显示已经连接至计算机的设备，不会显示未连接至计算机的设备。如果我们 
<div> 
 希望显示那些以前曾经连接过、但目前没有连接至计算机的历史硬件设备，可以在 CMD 命令提示符中输入 
</div> 
<div> 
 并执行：<br><br> SETDevmgr_show_nonpresent_devices=1 
</div> 
<div></div> 
<div> 
 在 Windows 7/Vista 中需要以管理员权限运行命令提示符。而且需要注意的是，在命令提示符中执行 SET 
</div> 
<div> 
 Devmgr_show_nonpresent_devices=1 只是一个暂时性设置，此功能在命令提示符关闭后就会自动失效。 
</div> 
<div> 
 如果我们希望一劳永逸，长期在设备管理器中显示历史设备记录，可以在控制面板中打开“系统”属性， 
</div> 
<div> 
 点击“高级系统设置”，切换至“高级”选项卡，再点击“环境变量”，然后在“用户变量”中新建变量 
</div> 
<div> 
 Devmgr_show_nonpresent_devices，并将其值设置为 1 即可。 
</div> 
<div></div> 
<div> 
 <div> 
  或者，我们还可以下载使用微软网站提供的 Fixit 50606 工具帮助设置此变量： 
 </div> 
 <div></div> 
 <div> 
  <a href="http://go.microsoft.com/?linkid=9763244" rel="nofollow">http://go.microsoft.com/?linkid=9763244</a> 
 </div> 
</div> 
<div></div> 
<div> 
 然后我们打开设备管理器，在“查看”菜单中选择“显示隐藏的设备”，即可在设备管理器中查看已经连接 
</div> 
<div> 
 及未连接的所有硬件设备，包括任何曾经在计算机中使用过哪怕仅一次的历史硬件设备。其中，已经连接至 
</div> 
<div> 
 计算机的设备将以实色图标显示，未连接至计算机的历史设备将以暗灰色图标显示。例如，经常向他人借用 
</div> 
<div> 
 闪存盘的用户，可能会在“通用串行总线控制器”中看到几十个以暗灰色图标显示的 USB Mass  
 Storage 
</div> 
<div> 
 Device，这些均是以前曾经连接过的闪存盘留下的历史记录。只有当前已经连接至计算机的闪存盘，才会 
</div> 
<div> 
 以实色图标显示。 
</div> 
<div></div> 
<div> 
 那么，在设备管理器中显示这些连接过的历史设备记录有什么用处呢？它可以帮我们处理一些驱动程序配置 
</div> 
<div> 
 方面的 
 故障。例如： 
</div> 
<div></div> 
<div> 
 1. 某些驱动程序曾经安装失败的硬件设备可能会在设备管理器中显示为带有问号的未知设备，或者显示为 
</div> 
<div> 
 Unknown Device 等。由于存在错误的历史驱动配置，Windows 在每次连接这些设备后都会自动沿用之前 
</div> 
<div> 
 错误的驱动配置，这可能会影响我们重新安装正确的驱动程序。如果我们用在设备管理器中显示历史设备的 
</div> 
<div> 
 方法，在重新连接设备之前在设备管理器中显示并删除有问题的设备配置，可以令 Windows 恢复至从来 
</div> 
<div> 
 没有连接过这些设备的初始状态。这样下一次再连接这些设备时，Windows 就不会再沿用之前错误的驱动 
</div> 
<div> 
 配置了，而是提示我们重新配置正确的驱动。 
</div> 
<div></div> 
<div> 
 2. 如果我们需要为计算机更换一种完全不同规格的设备，最好也在拔出旧设备之后用在设备管理器中显示并 
</div> 
<div> 
 删除历史设备的方法删除旧设备配置，以确保新设备的正常运行。例如，假如我们之前使用 nVIDIA 显卡， 
</div> 
<div> 
 现在需要更换 ATi 显卡，最好在连接新显卡之后在设备管理器中将已不存在的 nVIDIA 显卡删除，然后卸载 
</div> 
<div> 
 全部 nVIDIA 显示驱动程序，以确保 ATi 显卡的正常运行及 ATi 显示驱动程序的顺利安装。 
</div> 
<div></div> 
<div> 
 3. 有时我们出于一些原因可能会为部分设备更换接口，每一次更换接口都会引起 Windows 重新配置驱动， 
</div> 
<div> 
 并在设备管理器中将设备重新显示为 # 加数字后缀的设备名称，更换接口的次数越多，# 后面的数字后缀 
</div> 
<div> 
 就 
 越大。特别如果是网络适配器的话，还可能会引起“网络连接”中生成一堆带有数字后缀的“本地连接” 
</div> 
<div> 
 图标。其实，这都是因为同一件设备在更换接口前的配置占用了设备历史记录，因为这些历史记录的存在， 
</div> 
<div> 
 Windows 才会将更换接口后的设备视作新的设备，并添加 # 加数字后缀以示区别。如果我们在多次更换 
</div> 
<div> 
 接口后希望去掉设备名称的数字后缀，就可以用在设备管理器中显示并删除历史设备的方法删除更换接口 
</div> 
<div> 
 之前的设备历史记录，令 Windows 恢复至从来没有连接过这些设备的初始状态。这样下一次再连接这些 
</div> 
<div> 
 设备时，Windows 就不会再因为历史记录的存在而为设备名称添加 # 及数字后缀了。 
</div> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e0c6cf79931c54c837ab5b0518093cc4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">NoMethodError: undefined method `init&#39; for Mysql:Class</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dca0c4fdb7993ad147fc5b59c7867614/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">负数-补码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>