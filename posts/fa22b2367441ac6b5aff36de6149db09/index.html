<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Controller层通用返回类型之ResponseResult详解 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/fa22b2367441ac6b5aff36de6149db09/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="Controller层通用返回类型之ResponseResult详解">
  <meta property="og:description" content="JAVA开发大家都知道有经典三层，Controller, Service, Dao层.
Controller层是为了返回给用户查看的，因此返回体的定义是必不可少的。
废话不多说，直接上代码：
public class ResponseResult&amp;lt;T&amp;gt; implements Serializable { private static final long serialVersionUID = 958295628567280402L; /** * 结果编码 */ private int code; /** * 返回值 */ @ConvDict(type = Const.DICT_DATATYPE_CLASS) private T data; /** * 错误提示 */ private String msg; /** * 默认响应成功 */ public ResponseResult() { code = ResultCode.SUCCESS; } /** * 正常响应成功 * * @param data 响应数据 */ public ResponseResult(T data) { this(ResultCode.SUCCESS, data, null); } /** * 设置响应结果 * * @param code 响应码 * @param data 响应数据 */ public ResponseResult(int code, T data, String msg) { this.">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-04-28T15:36:38+08:00">
    <meta property="article:modified_time" content="2022-04-28T15:36:38+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Controller层通用返回类型之ResponseResult详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>JAVA开发大家都知道有经典三层，Controller, Service, Dao层.</p> 
<p>Controller层是为了返回给用户查看的，因此返回体的定义是必不可少的。</p> 
<p>废话不多说，直接上代码：</p> 
<pre><code class="language-java">
public class ResponseResult&lt;T&gt; implements Serializable {

    private static final long serialVersionUID = 958295628567280402L;

    /**
     * 结果编码
     */
    private int code;

    /**
     * 返回值
     */
    @ConvDict(type = Const.DICT_DATATYPE_CLASS)
    private T data;

    /**
     * 错误提示
     */
    private String msg;


    /**
     * 默认响应成功
     */
    public ResponseResult() {
        code = ResultCode.SUCCESS;
    }

    /**
     * 正常响应成功
     *
     * @param data 响应数据
     */
    public ResponseResult(T data) {
        this(ResultCode.SUCCESS, data, null);
    }

    /**
     * 设置响应结果
     *
     * @param code 响应码
     * @param data 响应数据
     */
    public ResponseResult(int code, T data, String msg) {
        this.code = code;
        this.msg = msg;
        this.data = data;
    }

    public ResponseResult(int code,String msg) {
        this.code = code;
        this.msg = msg;
    }
    /**
      * @Method: success
      * @Description: 默认执行成功
      * @Params: []
      * @History:
     **/
    public static &lt;T&gt; ResponseResult&lt;T&gt; success() {
        return new ResponseResult&lt;T&gt;();
    }

    /**
      * @Method: success
      * @Description:  默认执行成功带结果
      * @Params: [data]
      * @History:
     **/
    public static &lt;T&gt; ResponseResult&lt;T&gt; success(T data) {
        return new ResponseResult&lt;T&gt;(data);
    }

    /**
      * @Method: fail
      * @Description:  默认执行失败
      * @Params: []
      * @History:
     **/
    public static &lt;T&gt; ResponseResult&lt;T&gt; fail() {
        return new ResponseResult&lt;T&gt;();
    }

    /**
      * @Method: fail
      * @Description:  默认执行失败带消息
      * @Params: [msg]
      * @History:
     **/
    public static &lt;T&gt; ResponseResult&lt;T&gt; fail(String msg) {
        return new ResponseResult&lt;T&gt;(ErrorCodeEnums.SYSTEM_EXCEPTION.getCode(), msg);
    }


    public static &lt;T&gt; boolean isSuccess(ResponseResult&lt;T&gt; result) {
        return 0 == result.getCode();
    }

    public static &lt;T&gt; boolean isFail(ResponseResult&lt;T&gt; result) {
        return !isSuccess(result);
    }

    public int getCode() {
        return code;
    }

    public void setCode(int code) {
        this.code = code;
    }

    public T getData() {
        return data;
    }

    public void setData(T data) {
        this.data = data;
    }

    public String getMsg() {
        return msg;
    }

    public void setMsg(String msg) {
        this.msg = msg;
    }

    @Override
    public String toString() {
        return "ResponseResult{" +
                "code=" + code +
                ", data=" + data +
                ", msg='" + msg + '\'' +
                '}';
    }
}
</code></pre> 
<p>错误枚举类</p> 
<pre><code class="language-java">
public enum ErrorCodeEnums {

    SYSTEM_EXCEPTION("SYSTEM_EXCEPTION", "系统异常", ResultCode.SYSTEM_ERROR),
    INTERFACE_EXCEPTION("INTERFACE_EXCEPTION", "接口异常", ResultCode.SYSTEM_ERROR),
    PARAM_VALIDATE_EXCEPTION("PARAM_VALIDATE_EXCEPTION", "参数校验异常", ResultCode.PARAM_VALIDATE_ERROR),
    USER_NOT_LOGIN_EXCEPTION("USER_NOT_LOGIN_EXCEPTION", "用户未登录", ResultCode.NOT_LOGIN_ERROR),
    USER_REPEAT_EXCEPTION("USER_REPEAT_EXCEPTION", "用户表存在重复用户信息", ResultCode.NOT_LOGIN_ERROR),
    USER_NOT_LOGINNAME_EXCEPTION("USER_NOT_LOGINNAME_EXCEPTION", "登录账号不能为空", 
    EXCEL_EXPORT_EXCEPTION("EXCEL_EXPORT_EXCEPTION", "EXCEL导出异常", ResultCode.EXCEL_OPERATE_ERROR),
    EXCEL_IMPORT_EXCEPTION("EXCEL_IMPORT_EXCEPTION", "EXCEL导入异常", ResultCode.EXCEL_OPERATE_ERROR),
    MSG_ILLEGAL_ACCESS_EXCEPTION("MSG_ILLEGAL_ACCESS_EXCEPTION", "非法访问!", ResultCode.EXCEL_OPERATE_ERROR),
    MSG_BEANS_EXCEPTION("MSG_BEANS_EXCEPTION", "bean转化异常!", ResultCode.EXCEL_OPERATE_ERROR),
    MSG_PATH_EXCEPTION("MSG_PATH_EXCEPTION", "未找到路径异常!", ResultCode.EXCEL_OPERATE_ERROR),    WORKPROJECT_BEGINTIMEAFTERENDTIME_EXCEPTION("WORKPLAN_BEGINTIMEAFTERENDTIME_EXCEPTION", "开工时间不能大于等于竣工时间", ResultCode.EXCEL_OPERATE_ERROR),
    WORKPLAN_PHONE_EXCEPTION("WORKPLAN_PHONE_EXCEPTION", "手机号不能为空", ResultCode.EXCEL_OPERATE_ERROR),
    WORKPLAN_PHONE_WITH_PARAM_EXCEPTION("WORKPLAN_PHONE_WITH_PARAM_EXCEPTION", "{0}手机号不能为空", ResultCode.EXCEL_OPERATE_ERROR),
    WORKPLAN_SPECIALCHAR_EXCEPTION("WORKPLAN_SPECIALCHAR_EXCEPTION", "{0}必须为汉字/英文/数字,当前不合法值为:{1}", ResultCode.EXCEL_OPERATE_ERROR),
    COMMON_PHONESIZE_EXCEPTION("COMMON_PHONESIZE_EXCEPTION", "手机号码长度须为11位", ResultCode.EXCEL_OPERATE_ERROR),
    COMMON_PHONESIZE_WITH_PARAM_EXCEPTION("COMMON_PHONESIZE_WITH_PARAM_EXCEPTION", "{0}手机号码长度须为11位", ResultCode.EXCEL_OPERATE_ERROR);

    /**
     * 错误名字
     */
    private String name;

    /**
     * 错误描述
     */
    private String desc;

    /**
     * 结果编码
     */
    private int code;

    ErrorCodeEnums(String name, String desc, int code) {
        this.name = name;
        this.desc = desc;
        this.code = code;
    }

    public String getName() {
        return name;
    }

    public String getDesc() {
        return desc;
    }

    public int getCode() {
        return code;
    }
}


</code></pre> 
<p>结果编码：</p> 
<pre><code class="language-java">
public interface ResultCode {

    /**
     * 成功
     */
    int SUCCESS = 0;

    /**
     * 系统异常
     */
    int SYSTEM_ERROR = 1;

    /**
     * 参数校验失败
     */
    int PARAM_VALIDATE_ERROR = 2;

    /**
     * 用户未登录
     */
    int NOT_LOGIN_ERROR = 3;

    /**
     * 数据库操作失败
     */
    int DB_OPERATE_ERROR = 4;

    /**
     * Excel操作失败
     */
    int EXCEL_OPERATE_ERROR = 5;

    /**
     * Redis操作失败
     */
    int REDIS_OPERATE_ERROR = 6;

}
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1e61feaa7cedf64c914f128fe21695ec/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">idea中使用Git将本地项目提交到gitee仓库中</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6a8a1af29bf36d18d8a9ae07fc5823cb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">pandas进阶--Dataframe的drop_duplicates方法(数据去重)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>