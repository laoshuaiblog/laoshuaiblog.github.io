<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>若依微服务跑起来-微服务小白入门（1） - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/624d2a2fc27a918e38518979e929ab26/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="若依微服务跑起来-微服务小白入门（1）">
  <meta property="og:description" content="背景 若依的基本框架系列，已经构建起来，请参照 小白入门系列 - 鸡毛掸子
这些东西理解，并且实际板砖以后，有必要对现在流行的一些概念做一些升级，现在我们就进入到所谓的cloud版本，其实，前面的概念如果比较清晰，这里就是概念多一些，很多都是人家造好的轮子，直接怼就行。
关键是理解人家的思想和这些场景何时会用到，用到的时候深入也不晚，看一张让人晕的图，这个里面的模块一个个理顺了，这个系列就基本目标达到了。
技术梗概 与若依单体版的相对比，多了要给很重要的主框架
Spring Cloud Hoxton.SR9 这个框架有个初步认识
SpringCloud框架 1、介绍
Spring Cloud是一系列框架的有序集合。它利用Spring Boot的开发便利性巧妙地简化了分布式系统基础设施的开发， 如服务发现注册、配置中心、消息总线、负载均衡、断路器、数据监控等，都可以用Spring Boot的开发风格做到一键启动和部署。 Spring Cloud并没有重复制造轮子，它只是将目前各家公司开发的比较成熟、经得起实际考验的服务框架组合起来， 通过Spring Boot风格进行再封装屏蔽掉了复杂的配置和实现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包。
2、优点
把模块拆分，使用接口通信，降低模块之间的耦合度。
把项目拆分成若干个子项目，不同的团队负责不同的子项目。
增加功能时只需要再增加一个子项目，调用其他系统的接口就可以。
可以灵活的进行分布式部署。
环境部署 前置配置 JDK &amp;gt;= 1.8 (推荐1.8版本) Mysql &amp;gt;= 5.7.0 (推荐5.7版本) 5.6试验没问题 Redis &amp;gt;= 3.0 必须安装 Maven &amp;gt;= 3.0 Node &amp;gt;= 12 nacos &amp;gt;= 2.0.4 (ruoyi-cloud &amp;lt; 3.0 需要下载nacos &amp;gt;= 1.4.x版本) sentinel &amp;gt;= 1.6.0 需要启动redis，nocos配置容易出问题；
下载ruoyi的源码
1、前往Gitee下载页面(https://gitee.com/y_project/RuoYi-Cloud(opens new window))下载解压到工作目录
2、idea 打开pom">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-21T09:49:29+08:00">
    <meta property="article:modified_time" content="2024-03-21T09:49:29+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">若依微服务跑起来-微服务小白入门（1）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3 id="qBdxy">背景</h3> 
<p id="uae8840cc">若依的基本框架系列，已经构建起来，请参照 <a href="http://www.duster.ink/tech/java/xiaobairumen" rel="nofollow" title="小白入门系列 - 鸡毛掸子">小白入门系列 - 鸡毛掸子</a></p> 
<p id="u0a60e4d0"></p> 
<p class="img-center"><img alt="" height="463" id="u1b348699" src="https://images2.imgbox.com/0a/63/sZovzQY9_o.png" width="580"></p> 
<p id="u3ab18a53">这些东西理解，并且实际板砖以后，有必要对现在流行的一些概念做一些升级，现在我们就进入到所谓的cloud版本，其实，前面的概念如果比较清晰，这里就是概念多一些，很多都是人家造好的轮子，直接怼就行。</p> 
<p id="uaafc57b4">关键是理解人家的思想和这些场景何时会用到，用到的时候深入也不晚，看一张让人晕的图，这个里面的模块一个个理顺了，这个系列就基本目标达到了。</p> 
<p id="u730e6d4d"></p> 
<p class="img-center"><img alt="" height="1080" id="u51ecdab9" src="https://images2.imgbox.com/73/22/KY9i697s_o.png" width="1200"></p> 
<h3 id="prpJO">技术梗概</h3> 
<p id="u65076801">与若依单体版的相对比，多了要给很重要的主框架</p> 
<ul><li id="u1a7f5022">Spring Cloud Hoxton.SR9</li></ul> 
<p id="uf975095a">这个框架有个初步认识</p> 
<h5 id="nzsle">SpringCloud框架</h5> 
<p id="u606fa0c5">1、介绍<br> Spring Cloud是一系列框架的有序集合。它利用Spring Boot的开发便利性巧妙地简化了分布式系统基础设施的开发， 如服务发现注册、配置中心、消息总线、负载均衡、断路器、数据监控等，都可以用Spring Boot的开发风格做到一键启动和部署。 Spring Cloud并没有重复制造轮子，它只是将目前各家公司开发的比较成熟、经得起实际考验的服务框架组合起来， 通过Spring Boot风格进行再封装屏蔽掉了复杂的配置和实现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包。</p> 
<p id="u2b4b2cd3">2、优点<br> 把模块拆分，使用接口通信，降低模块之间的耦合度。<br> 把项目拆分成若干个子项目，不同的团队负责不同的子项目。<br> 增加功能时只需要再增加一个子项目，调用其他系统的接口就可以。<br> 可以灵活的进行分布式部署。</p> 
<h3 id="yr8nI">环境部署</h3> 
<h4 id="nv03o">前置配置</h4> 
<pre id="cA6OA"><code>JDK &gt;= 1.8 (推荐1.8版本)
Mysql &gt;= 5.7.0 (推荐5.7版本)  5.6试验没问题
Redis &gt;= 3.0  必须安装
Maven &gt;= 3.0
Node &gt;= 12
nacos &gt;= 2.0.4 (ruoyi-cloud &lt; 3.0 需要下载nacos &gt;= 1.4.x版本) 
sentinel &gt;= 1.6.0</code></pre> 
<p id="u1b2c9389"></p> 
<p id="u1607f5b6">需要启动redis，nocos配置容易出问题；</p> 
<p id="u8c6c58cd">下载ruoyi的源码</p> 
<p id="u0f23a444">1、前往Gitee下载页面(<a href="https://gitee.com/y_project/RuoYi-Cloud" rel="nofollow" title="https://gitee.com/y_project/RuoYi-Cloud(opens new window)">https://gitee.com/y_project/RuoYi-Cloud(opens new window)</a>)下载解压到工作目录<br> 2、idea 打开pom<br> 3、创建数据库ry-cloud并导入数据脚本ry_2021xxxx.sql（必须），quartz.sql（可选）<br> 4、创建数据库ry-config并导入数据脚本ry_config_2021xxxx.sql（必须）<br> 5、配置nacos持久化，修改conf/application.properties文件，增加支持mysql数据源配置</p> 
<p id="u8ec57007">下载 nacos-server，这个地方多啰嗦两句，这个nacos第一次接触的话，最容易出现问题，启动不了，很烦的，多从配置上找原因，或者读配置文件分析:</p> 
<p id="u4e3946e1">配置文件application.properties是在下载的nacos-server包conf目录下。<br> 最新RuoYi-Cloud版本&gt;=3.0.0需要下载的nacos-server必须&gt;=2.x.x版本。<br> 默认配置单机模式，nacos集群/多集群部署模式参考 (<a href="https://nacos.io/zh-cn/docs/deployment.html" rel="nofollow" title="Nacos支持三种部署模式(opens new window)">Nacos支持三种部署模式(opens new window)</a>)</p> 
<p id="u921fb1da">修改对应nacos对应的配置，主要是数据库部分</p> 
<p id="uef2670ea">修改 application.properties 位于noacos的conf目录下</p> 
<p id="uc5ead9c4">Connect URL of DB: 需要修改对应的数据链接</p> 
<p id="u53957e65"></p> 
<p id="u6c80e1cc">容易出现的错误</p> 
<p id="u4ad70b35">name 'sysConfigServiceImpl': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.ruoyi.system.mapper.SysConfigMapper.selectConfigList</p> 
<p id="u7ef766a1">————————————————</p> 
<p id="uce2867a6">一般是配置mysql错误，nacos上面几个配置mysql的地方，配置中心，有的地方mysql没有配置</p> 
<h4 id="tLISM">启动 注意端口问题</h4> 
<ol><li id="u65548397">mysql启动 数据库配置好</li><li id="ub0adc89e">redis启动</li><li id="ufc18f77d">nacos启动，看默认地址能否登录</li><li id="u0bda7c7b">启动后端三个模块</li></ol> 
<ul><li id="u7f56f7b5">RuoYiGatewayApplication （网关模块 必须）</li><li id="u0338f7ce">RuoYiAuthApplication （认证模块 必须）</li><li id="u5dca8159">RuoYiSystemApplication （系统模块 必须）</li></ul> 
<ol><li id="u3c581459">启动前端 ，浏览器运行，</li><li id="u2dd0da76">以上都可以的话，基本环境就搭建起来了。</li></ol> 
<p id="u3cb4ff96"></p> 
<p class="img-center"><img alt="" height="497" id="u4d11ffc1" src="https://images2.imgbox.com/ed/4d/hLLbPrIc_o.png" width="1200"></p> 
<h4 id="QFWfD">部署</h4> 
<p id="u76a2f10d">暂时在开发环境跑就可以，部署部分略</p> 
<h3 id="x4tZf">项目基本结构</h3> 
<pre id="xP9U9"><code>com.ruoyi     
├── ruoyi-ui              // 前端框架 [80]
├── ruoyi-gateway         // 网关模块 [8080]
├── ruoyi-auth            // 认证中心 [9200]
├── ruoyi-api             // 接口模块
│       └── ruoyi-api-system                          // 系统接口
├── ruoyi-common          // 通用模块
│       └── ruoyi-common-core                         // 核心模块
│       └── ruoyi-common-datascope                    // 权限范围
│       └── ruoyi-common-datasource                   // 多数据源
│       └── ruoyi-common-log                          // 日志记录
│       └── ruoyi-common-redis                        // 缓存服务
│       └── ruoyi-common-seata                        // 分布式事务
│       └── ruoyi-common-security                     // 安全模块
│       └── ruoyi-common-swagger                      // 系统接口
├── ruoyi-modules         // 业务模块
│       └── ruoyi-system                              // 系统模块 [9201]
│       └── ruoyi-gen                                 // 代码生成 [9202]
│       └── ruoyi-job                                 // 定时任务 [9203]
│       └── ruoyi-file                                // 文件服务 [9300]
├── ruoyi-visual          // 图形化管理模块
│       └── ruoyi-visual-monitor                      // 监控中心 [9100]
├──pom.xml</code></pre> 
<p id="ud7e679c9">可以看出，和以前基本是大同小异，主要是框架引入微服务，多了与之相关的模块，接下来就过一遍这些东西。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e6254de9cd6dafaf3acd169e682b9dee/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">凯特信安云签解决方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/34d41e0abd971959e0f377b4e67f34cb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Amazon SageMaker &#43; Stable Diffusion 搭建文本生成图像模型</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>