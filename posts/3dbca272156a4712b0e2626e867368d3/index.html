<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ES6-模块化介绍 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/3dbca272156a4712b0e2626e867368d3/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="ES6-模块化介绍">
  <meta property="og:description" content="文章目录 模块化定义模块的好处没有模块化系统带来的影响模块化的优点 模块化规范及对应的产品ES6模块化的语法ES6暴露模块export分别暴露统一暴露默认暴露 ES6暴露引入模块import通用导入方式解构赋值形式简便形式（只针对默认暴露） 模块化引入模块代码在项目中的使用Babel简介Babel使用 ES6模块化第三方模块ES6模块和CommonJS模块的区别模块的异步加载和同步加载 模块化定义 模块化是指将一个大的程序文件,拆分成许多小的文件，一个小文件就是一个模块。
然后各模块即可以相互引入，
模块的好处 没有模块化系统带来的影响 引入方式
没有模块化之前js代码的引入方式是通过&amp;lt;script src=&#34;&#34;&amp;gt;标签来引入到同一个html文件中。
&amp;lt;script src=&#34;lib.js&#34;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;!-- 第三方库 --&amp;gt; &amp;lt;script src=&#34;utils.js&#34;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;script src=&#34;app.js&#34;&amp;gt;&amp;lt;/script&amp;gt; 并且两个js之前是不恒互相引入的
命名空间的问题：
当我们引入多个js文件，不同的js文件可能会有相同的变量名字，那么后引入的就会覆盖先引入的。即所有的js文件都是再全局空间进行定义的，每个js文件没有自己私有的命名空间。
依赖关系
如果按两个js文件之间有依赖关系，必须保证引入的顺序。如果文件A依赖于文件B，那么在引入时，就需要先引入文件B，再引入文件A。如果文件之间的依赖关系很复杂，这样的引入顺序就非常难以维护。
eg：没有模块化的文件引入
a.js:
function a (){ console.log(&#34;我是a中的函数&#34;) } b.js:
b = 100 a() text.html
&amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html lang=&#34;en&#34;&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta charset=&#34;UTF-8&#34;&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;body&amp;gt; &amp;lt;script type=&#39;text/javascript&#39; src=&#39;./a.js&#39;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;script type=&#39;text/javascript&#39; src=&#39;b.js&#39;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;script type=&#39;text/javascript&#39;&amp;gt; &amp;lt;/script&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; 浏览器输出：
我是a中的函数 如果先引入b.js再引入a.js，就会报错 a未定义
使用模块化之后，就可以在b.js文件中引入a.js文件，避免了依赖引入的问题，同时可以确保依赖加载的顺序是先加载a.js，再加载b.js
模块化的优点 防止命名冲突，每个模块都有自己的命名空间代码复用，每个模块可以被其他多个模块引用高维护性，修改一个模块其他引用该模块的地方都改变确保引入顺序的正确性，使用模块化之后一般都是在自己的中引入所依赖的模块，所以避免了依赖顺序的引入问题 模块化规范及对应的产品 模块化规范产品CommonJSNodeJS、Browserify（前端打包工具）AMDrequireJSCMDseaJS ES6模块化的语法 模块功能主要由两个命令构成:export和 import">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-27T15:14:29+08:00">
    <meta property="article:modified_time" content="2024-03-27T15:14:29+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ES6-模块化介绍</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">模块化定义</a></li><li><a href="#_4" rel="nofollow">模块的好处</a></li><li><ul><li><a href="#_5" rel="nofollow">没有模块化系统带来的影响</a></li><li><a href="#_57" rel="nofollow">模块化的优点</a></li></ul> 
  </li><li><a href="#_64" rel="nofollow">模块化规范及对应的产品</a></li><li><a href="#ES6_71" rel="nofollow">ES6模块化的语法</a></li><li><ul><li><a href="#ES6export_108" rel="nofollow">ES6暴露模块export</a></li><li><ul><li><a href="#_109" rel="nofollow">分别暴露</a></li><li><a href="#_118" rel="nofollow">统一暴露</a></li><li><a href="#_154" rel="nofollow">默认暴露</a></li></ul> 
   </li><li><a href="#ES6import_200" rel="nofollow">ES6暴露引入模块import</a></li><li><ul><li><a href="#_201" rel="nofollow">通用导入方式</a></li><li><a href="#_209" rel="nofollow">解构赋值形式</a></li><li><a href="#_234" rel="nofollow">简便形式（只针对默认暴露）</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_245" rel="nofollow">模块化引入</a></li><li><a href="#_266" rel="nofollow">模块代码在项目中的使用</a></li><li><ul><li><a href="#Babel_268" rel="nofollow">Babel简介</a></li><li><a href="#Babel_274" rel="nofollow">Babel使用</a></li></ul> 
  </li><li><a href="#ES6_300" rel="nofollow">ES6模块化第三方模块</a></li><li><a href="#ES6CommonJS_308" rel="nofollow">ES6模块和CommonJS模块的区别</a></li><li><a href="#_316" rel="nofollow">模块的异步加载和同步加载</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>模块化定义</h2> 
<p>模块化是指将一个大的程序文件,拆分成许多<mark>小的文件</mark>，一个小文件就是一个模块。<br> 然后各模块即可以相互引入，</p> 
<h2><a id="_4"></a>模块的好处</h2> 
<h3><a id="_5"></a>没有模块化系统带来的影响</h3> 
<ul><li> <p>引入方式<br> 没有模块化之前js代码的引入方式是通过<code>&lt;script src=""&gt;</code>标签来引入到同一个html文件中。</p> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lib.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- 第三方库 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utils.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p>并且两个js之前是不恒互相引入的</p> </li><li> <p>命名空间的问题：<br> 当我们引入多个js文件，不同的js文件可能会有相同的变量名字，那么后引入的就会覆盖先引入的。即所有的js文件都是再全局空间进行定义的，每个js文件没有自己私有的命名空间。</p> </li><li> <p>依赖关系<br> 如果按两个js文件之间有依赖关系，必须保证引入的顺序。如果文件A依赖于文件B，那么在引入时，就需要先引入文件B，再引入文件A。如果文件之间的依赖关系很复杂，这样的引入顺序就非常难以维护。<br> eg：没有模块化的文件引入<br> a.js:</p> <pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">a</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"我是a中的函数"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <p>b.js:</p> <pre><code class="prism language-js">b <span class="token operator">=</span> <span class="token number">100</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <p>text.html</p> <pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>./a.js<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>b.js<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p>浏览器输出：</p> <pre><code class="prism language-javascript">我是a中的函数
</code></pre> <p>如果先引入b.js再引入a.js，就会报错 <code>a未定义</code><br> 使用模块化之后，就可以在<code>b.js</code>文件中引入<code>a.js</code>文件，避免了依赖引入的问题，同时可以确保依赖加载的顺序是先加载<code>a.js</code>，再加载<code>b.js</code></p> </li></ul> 
<h3><a id="_57"></a>模块化的优点</h3> 
<ul><li>防止命名冲突，每个模块都有自己的命名空间</li><li>代码复用，每个模块可以被其他多个模块引用</li><li>高维护性，修改一个模块其他引用该模块的地方都改变</li><li>确保引入顺序的正确性，使用模块化之后一般都是在自己的中引入所依赖的模块，所以避免了依赖顺序的引入问题</li></ul> 
<h2><a id="_64"></a>模块化规范及对应的产品</h2> 
<table><thead><tr><th>模块化规范</th><th>产品</th></tr></thead><tbody><tr><td>CommonJS</td><td>NodeJS、Browserify（前端打包工具）</td></tr><tr><td>AMD</td><td>requireJS</td></tr><tr><td>CMD</td><td>seaJS</td></tr></tbody></table> 
<h2><a id="ES6_71"></a>ES6模块化的语法</h2> 
<p>模块功能主要由两个命令构成:export和 import</p> 
<ul><li><code>export</code>命令用于规定模块的对外接口</li><li><code>import</code>命令用于输入其他模块提供的功能（导入功能）</li></ul> 
<p>eg：<br> m1.js:</p> 
<pre><code class="prism language-js"><span class="token comment">// export将功能暴露出去</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">"孙悟空"</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">wuqi</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我的武器是金箍棒'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>html:</p> 
<p>注意script设置<code>type="module"</code></p> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>模块化<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">// 将m1.js中所有暴露的内容全都存在变量m1中</span>
        <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> m1 <span class="token keyword">from</span> <span class="token string">"./m1.js"</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m1<span class="token punctuation">)</span>
        
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>输出：<br> <img src="https://images2.imgbox.com/96/02/8TqMSq7H_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="ES6export_108"></a>ES6暴露模块export</h3> 
<h4><a id="_109"></a>分别暴露</h4> 
<p>在要暴露的数据前面添加<code>export</code>，就是上面的例子</p> 
<pre><code class="prism language-js"><span class="token comment">// export将功能暴露出去</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">"孙悟空"</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">wuqi</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我的武器是金箍棒'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_118"></a>统一暴露</h4> 
<p>暴露也可以写成一行<br> 格式：<code>export{要暴露的变量名}</code><br> m2.js:</p> 
<pre><code class="prism language-js"><span class="token comment">// export将功能暴露出去</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">"猪八戒"</span>
<span class="token keyword">function</span> <span class="token function">wuqi</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我的武器是铁耙子'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span><span class="token punctuation">{<!-- --></span>name<span class="token punctuation">,</span>wuqi<span class="token punctuation">}</span>
</code></pre> 
<p>html</p> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>模块化<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">// 将m1.js中所有暴露的内容全都存在变量m1中</span>
        <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> m1 <span class="token keyword">from</span> <span class="token string">"./m1.js"</span>
        <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> m2 <span class="token keyword">from</span> <span class="token string">"./m2.js"</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m2<span class="token punctuation">)</span>
        
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d2/2c/tmnmBZHf_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_154"></a>默认暴露</h4> 
<p>默认暴露只能暴露一个对象。<br> 格式：</p> 
<pre><code class="prism language-js"><span class="token comment">// 默认暴露</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    要暴露的数据（对象格式）
<span class="token punctuation">}</span>
</code></pre> 
<p>该种方法的返回值是一个default对象，调用里面属性的时候的时候需要添加<code>.default</code><br> eg:<br> m3.js</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 默认暴露</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"猪八戒"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">wuqi</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我的武器是铁耙子'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>html:</p> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>模块化<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">// 将m1.js中所有暴露的内容全都存在变量m1中</span>
        <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> m1 <span class="token keyword">from</span> <span class="token string">"./m1.js"</span>
        <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> m2 <span class="token keyword">from</span> <span class="token string">"./m2.js"</span>
        <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> m3 <span class="token keyword">from</span> <span class="token string">"./m3.js"</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m3<span class="token punctuation">)</span>
        m3<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">wuqi</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><img src="https://images2.imgbox.com/10/81/s1kRVGIr_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="ES6import_200"></a>ES6暴露引入模块import</h3> 
<h4><a id="_201"></a>通用导入方式</h4> 
<p>格式：<code>import * as 变量名 from "js文件地址"</code><br> 就是上面使用的方式，该方式可以应对所有暴露方式<br> eg：</p> 
<pre><code class="prism language-javascript">  <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> m1 <span class="token keyword">from</span> <span class="token string">"./m1.js"</span>
</code></pre> 
<h4><a id="_209"></a>解构赋值形式</h4> 
<ul><li> <p>应对<strong>分别暴露、统一暴露</strong><br> 格式：<code>import {解构赋值的变量名} from "js文件地址"</code><br> <code>解构赋值的变量名</code>对应着js暴露出去的变量</p> <pre><code class="prism language-javascript">	<span class="token comment">//分别暴露</span>
    <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>name<span class="token punctuation">,</span>wuqi<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./m1.js"</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>wuqi<span class="token punctuation">)</span>
    <span class="token comment">// 统一暴露     </span>
    <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>name <span class="token keyword">as</span> zhubajie<span class="token punctuation">,</span>wuqi <span class="token keyword">as</span> tiepazi<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./m2.js"</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zhubajie<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tiepazi<span class="token punctuation">)</span>
        
</code></pre> <p><img src="https://images2.imgbox.com/c7/b4/x3xVE4O8_o.png" alt="在这里插入图片描述"></p> </li><li> <p>应对<strong>默认暴露</strong></p> <pre><code class="prism language-javascript">    <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span><span class="token keyword">default</span> <span class="token keyword">as</span> m3<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./m3.js"</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m3<span class="token punctuation">)</span>
</code></pre> <p><img src="https://images2.imgbox.com/86/79/zcFKoeB5_o.png" alt="在这里插入图片描述"></p> </li></ul> 
<h4><a id="_234"></a>简便形式（只针对默认暴露）</h4> 
<p>简便形式只针对默认暴露：<br> 格式：<code>import 变量名 from 'js地址'</code><br> EG:</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> m3 <span class="token keyword">from</span> <span class="token string">'./m3.js'</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m3<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a0/8b/OqwvKoWi_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_245"></a>模块化引入</h2> 
<p>之前我们模块的引入都是在script中写的，一般情况下我们习惯把所有的模块引入放到一个JS文件中，叫做入口文件，然后html再引入该文件<br> eg：<br> app.js</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 入口文件</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> m1 <span class="token keyword">from</span> <span class="token string">"./m1.js"</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> m2 <span class="token keyword">from</span> <span class="token string">"./m2.js"</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> m3 <span class="token keyword">from</span> <span class="token string">"./m3.js"</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m2<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m3<span class="token punctuation">)</span>
</code></pre> 
<p>html引入（不要忘记type设置成module，因为main.js是一个模块化文件，所以引入的时候需要添加<code>type=module</code>来指明这是一个模块化文件）</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./app.js<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>输出：<br> <img src="https://images2.imgbox.com/6f/f1/PuEoaeG4_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_266"></a>模块代码在项目中的使用</h2> 
<p>由于ES6语法较新，浏览器不能直接理解，所以要将ES6语法转化成较低版本的语法，共浏览器理解。我们就需要使用Babel工具来帮助我们转化。</p> 
<h3><a id="Babel_268"></a>Babel简介</h3> 
<p>babel是js的一款编译器可以将比较新的js语法转换成ES5语法。<br> 官网：<a href="https://babel.docschina.org/" rel="nofollow">https://babel.docschina.org/</a></p> 
<p>转完之后将代码进行打包，页面在进行引入就可以解决兼容性问题</p> 
<h3><a id="Babel_274"></a>Babel使用</h3> 
<ul><li> <p>安装以下工具</p> 
  <ul><li>babel-cli（babel命令行）</li><li>babel-preset-env（将比较新的js语法转换成ES5语法）</li><li>browserify(webpack)（打包工具）<br> 安装语句：<br> <code>npm init -yes</code> (初始化)<br> <code>npm i babel-cli babel-preset-env browserify -D</code>（安装）</li></ul> </li><li> <p>进行转换<br> 转换命令：<br> <code>npx babel 要转换的文件目录 -d 要生成的文件目录 --presets=babel-preset-env</code><br> eg：</p> <pre><code class="prism language-javascript">npx babel src<span class="token operator">/</span>js <span class="token operator">-</span>d dist<span class="token operator">/</span>js
</code></pre> </li><li> <p>打包<br> <code> npx browserify 要打包的文件地址 -o 要生成的文件目录/要生成的文件.js</code><br> eg：</p> <pre><code class="prism language-javascript">npx browserify dist<span class="token operator">/</span>js<span class="token operator">/</span>app<span class="token punctuation">.</span>js <span class="token operator">-</span>o dist<span class="token operator">/</span>bundle<span class="token punctuation">.</span>js
</code></pre> <p>html在引入的时候就引入<code>打包好的</code>文件。</p> </li></ul> 
<h2><a id="ES6_300"></a>ES6模块化第三方模块</h2> 
<p>以jquery为例</p> 
<ul><li>下载juery包:<code>npm i jquery</code></li><li>使用juery包:<br> 再js文件中引入：<code>import $ from 'jquery';</code> //等价于 <code>const $ = require("jquery");</code><br> 这样再js文件中就可以使用jQuery语法编写语句了。</li></ul> 
<h2><a id="ES6CommonJS_308"></a>ES6模块和CommonJS模块的区别</h2> 
<ul><li>导入导出模块的方式不同：CommonJS使用require（导入）和module.exports/exports（导出），而ES6模块使用import（导入）和export（导出）。</li><li>加载机制不同：CommonJS模块是<code>在运行时加载</code>，而ES6模块是在<code>编译时就解析完成依赖关系</code>。</li><li>兼容性：由于Node.js的广泛应用，CommonJS模块兼容性相对较好，但需要使用工具如<code>Webpack</code>和<code>Babel</code>进行打包构建才能应用在浏览器端。ES6模块对于新版浏览器兼容性较好，旧版浏览器则需要借助<code>Babel</code>进行转译。</li><li>引用不同：CommonJS模块导出module.exports的值实际上是一个值的拷贝，就算原对象改变，导出的值不会改变；import得到的是一个值的引用，原对象改变，导出的值也会改变。</li><li>使用场景：ES6模块可以在html文件中使用<code>&lt;script&gt;</code>标签引用，但是需要添加<code>type = module</code>属性，这会告诉浏览器你的脚本是一个JavaScript模块，而非一个传统的全局作用域的脚本，type="module"的脚本默认采用异步加载（相当于在<code>&lt;script&gt;</code>标签上加了一个async属性）。</li></ul> 
<h2><a id="_316"></a>模块的异步加载和同步加载</h2> 
<p>参见： <a href="https://blog.csdn.net/mantou_riji/article/details/137072904">https://blog.csdn.net/mantou_riji/article/details/137072904</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4800f76d2d76647e249c033e126cdbb9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">每日一题——LeetCode1748.唯一元素的和</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b8a6cb72ba4ac4c77960dcc9169e4005/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【零基础C语言】动态内存管理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>