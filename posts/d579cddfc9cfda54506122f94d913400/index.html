<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>uniapp 离线打包成安卓apk实战 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/d579cddfc9cfda54506122f94d913400/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="uniapp 离线打包成安卓apk实战">
  <meta property="og:description" content="uniapp 离线打包实战 最近在做app,需要离线打包，跟着官网弄了一上午，个人觉得官网的不够详细，所以写个博客记录一下
打开hbuild =&amp;gt;发行=&amp;gt;原生app本地打包=&amp;gt;安卓本地打包指南，
如上图，下载Android Studio，以及app离线sdk,这个安卓离线sdk一会我们会用到，下载的同时点击链接去申请appkey
登录开发者中心，账号就是登录hbulidx的账号
登录成功后，如果你发现你的应用里没有当前的项目，那么可能是你项目的appid不对，你可以点击下方这个文件，重新获取下
然后返回开发者中心刷新就能看到你的项目，接着
点击应用名称，在应用管理界面选择离线打包Key管理，根据需要选择对应平台，输入包名和SHA1，确认无误点击保存，即可获取到对应平台的App ，如下图
这里的Android 包名和iOS BundleId是你自己自定义的，SHA1证书需要我们自己生成，生成步骤可以按照官网说的
打开cmd步骤在桌面 Windows&#43;R,输入cmd,回车即打开cmd命令行，打开以后输入‘d:’,回车，在输入第二行命令，然后执行依次执行上方的语句，证书密码和别名需要记住，后面还会需要
这里的口令就是你上面的密码，然后你就会看到你的SHA1密码，复制下来填入Android 证书签名SHA1，点击保存，你就会得到一个App Key，得到以后，我们先将应用生成app资源，点击发行=&amp;gt;原生app本地打包=&amp;gt;生成本地打包app资源，点击以后会生成unpackage，在unpackage=&amp;gt;resources下就是一个文件夹名为你的appId的文件夹，复制这个文件夹，打开你下载的Android 离线SDK，找到HBuilder-HelloUniApp这个项目（你可以先在Android Studio打包下这个项目看看）
将Android-SDK@3.1.13.80836_20210517\HBuilder-HelloUniApp\app\src\main\assets\apps这个路径下的文件夹替换成你刚刚复制的文件夹，然后用Android Studio 打开HBuilder-HelloUniApp这个项目，将刚才生成的test.keystore复制到app主目录下
然后在这填写你的appid,
打开AndroidManifest.xml
在最下方有
&amp;lt;meta-data android:name=&#34;dcloud_appkey&#34; android:value=&#34;替换为自己申请的Appkey&#34; /&amp;gt; 替换成你申请的Appkey
然后打开app目录下的build.gradle
修改signingConfigs 这里面的内容
这里的keyAlias就是这里的别名，keyPassword和storePassword就是秘钥库口令，storeFile file就是刚才复制到目录下的test.keystore的路径
在这里可以给你的apk换图片以及改app名字，
在这之后
应该就大功告成了，觉得有用的希望给个三连，你的鼓励是我分享最大的动力，也欢迎大家多沟通交流，共同进步，嘿嘿">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2021-05-28T15:52:11+08:00">
    <meta property="article:modified_time" content="2021-05-28T15:52:11+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">uniapp 离线打包成安卓apk实战</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="uniapp__0"></a>uniapp 离线打包实战</h3> 
<p>最近在做app,需要离线打包，跟着官网弄了一上午，个人觉得官网的不够详细，所以写个博客记录一下<br> 打开<strong>hbuild =&gt;发行=&gt;原生app本地打包=&gt;安卓本地打包指南</strong>，<img src="https://images2.imgbox.com/60/ec/GBBbzSVv_o.png" alt="在这里插入图片描述"><br> 如上图，下载Android Studio，以及app离线sdk,这个安卓离线sdk一会我们会用到，下载的同时点击<strong>链接</strong>去申请appkey<br> 登录开发者中心，账号就是登录hbulidx的账号<br> <img src="https://images2.imgbox.com/03/ec/pQ6udNrZ_o.png" alt="在这里插入图片描述"><br> 登录成功后，如果你发现你的应用里没有当前的项目，那么可能是你项目的appid不对，你可以点击下方这个文件，重新获取下<br> <img src="https://images2.imgbox.com/31/00/hMlBPkQi_o.png" alt="在这里插入图片描述"><br> 然后返回开发者中心刷新就能看到你的项目，接着<img src="https://images2.imgbox.com/58/01/UXbYlqeK_o.png" alt="在这里插入图片描述"><br> 点击应用名称，在应用管理界面选择离线打包Key管理，根据需要选择对应平台，输入包名和SHA1，确认无误点击保存，即可获取到对应平台的App ，如下图<br> <img src="https://images2.imgbox.com/3a/a7/c8dF9muG_o.png" alt="在这里插入图片描述"><br> 这里的Android 包名和iOS BundleId是你自己自定义的，SHA1证书需要我们自己生成，生成步骤可以按照官网说的<br> <img src="https://images2.imgbox.com/52/34/fGLQz1yS_o.png" alt="在这里插入图片描述"><br> 打开cmd步骤在桌面 Windows+R,输入cmd,回车即打开cmd命令行，打开以后输入‘<strong>d:</strong>’,回车，在输入第二行命令，然后执行依次执行上方的语句，证书密码和别名需要记住，后面还会需要<br> <img src="https://images2.imgbox.com/e1/e5/bN7ZAhQI_o.png" alt="在这里插入图片描述"></p> 
<p>这里的口令就是你上面的密码，然后你就会看到你的SHA1密码，复制下来填入Android 证书签名SHA1，点击保存，你就会得到一个App Key，得到以后，我们先将应用生成app资源，点击<strong>发行=&gt;原生app本地打包=&gt;生成本地打包app资源</strong>，点击以后会生成unpackage，在<strong>unpackage=&gt;resources</strong>下就是一个文件夹名为你的appId的文件夹，<strong>复制</strong>这个文件夹，打开你下载的Android 离线SDK，找到HBuilder-HelloUniApp这个项目（你可以先在Android Studio打包下这个项目看看）<img src="https://images2.imgbox.com/c6/f9/RMOYtLrw_o.png" alt="在这里插入图片描述"><br> 将<strong>Android-SDK@3.1.13.80836_20210517\HBuilder-HelloUniApp\app\src\main\assets\apps</strong>这个路径下的文件夹<strong>替换成你刚刚复制的文件夹</strong>，然后用Android Studio 打开<strong>HBuilder-HelloUniApp</strong>这个项目，将刚才生成的test.keystore复制到app主目录下<br> <img src="https://images2.imgbox.com/cf/49/tJZlYKHA_o.png" alt="在这里插入图片描述"><br> 然后在这填写你的appid,<img src="https://images2.imgbox.com/3e/45/1SkeKbPA_o.png" alt="在这里插入图片描述"><br> 打开AndroidManifest.xml<br> <img src="https://images2.imgbox.com/17/e9/tfOoGPT3_o.png" alt="在这里插入图片描述"></p> 
<p>在最下方有</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>meta<span class="token operator">-</span>data
      android<span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">"dcloud_appkey"</span>
      android<span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"替换为自己申请的Appkey"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> 
<p>替换成你申请的Appkey<br> 然后打开app目录下的build.gradle<br> <img src="https://images2.imgbox.com/f6/bc/XWJ42bDb_o.png" alt="在这里插入图片描述"></p> 
<p>修改signingConfigs 这里面的内容<br> <img src="https://images2.imgbox.com/8c/7c/9WZgQSVD_o.png" alt="在这里插入图片描述">这里的keyAlias就是这里的别名，keyPassword和storePassword就是秘钥库口令，storeFile file就是刚才复制到目录下的test.keystore的路径<img src="https://images2.imgbox.com/1d/30/K00JhYr1_o.png" alt="在这里插入图片描述"><br> 在这里可以给你的apk换图片以及改app名字，<br> <img src="https://images2.imgbox.com/78/c8/K4Rt5C3J_o.png" alt="在这里插入图片描述"><br> 在这之后<img src="https://images2.imgbox.com/20/bd/zgF5iRNl_o.png" alt="在这里插入图片描述"></p> 
<p>应该就大功告成了，觉得有用的希望给个三连，你的鼓励是我分享最大的动力，也欢迎大家多沟通交流，共同进步，嘿嘿</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3b12d1df075f2c915b7643afb9b271e9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">android点击另一个app,Android 怎么从一个APP中打开另外一个APP</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0235f810d4f262ba801fdea2f2bfc385/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关闭visual studio右键的在此处打开，非reg，可还原，手动操作</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>