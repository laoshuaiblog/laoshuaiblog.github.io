<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>终于搞懂了vue 的 render 函数（一） -_-||| - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/05b91d74a87cb97150b4cc2929799cb8/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="终于搞懂了vue 的 render 函数（一） -_-|||">
  <meta property="og:description" content="文章目录 render 函数作用render 函数讲解render 函数的返回值（VNode）render 函数的参数（createElement）createElement 函数的返回值（VNode）createElement 函数的参数（三个）结合代码 第二篇传送门：终于搞懂了vue 的 render 函数（二）(๑•̀ㅂ•́)و✧
vue渲染函数文档第一遍看的晕晕乎乎的，再看看写写终于清晰了。建议配合文档阅读，本文也是根据文档加上自己的理解。
注：本文代码都是在单文件组件中编写。代码地址
render 函数作用 render 函数 跟 template 一样都是创建 html 模板的，但是有些场景中用 template 实现起来代码冗长繁琐而且有大量重复，这时候就可以用 render 函数。
官网例子：子组件想要根据父组件传递的 level 值（1-6）来决定渲染标签 h 几。具体代码可以看文档。
render 函数讲解 render 函数即渲染函数，它是个函数，它的参数也是个函数——即 createElement，我们重点来说 createElement 参数。
render 函数的返回值（VNode） VNode（即：虚拟节点），也就是我们要渲染的节点。
render 函数的参数（createElement） createElement 是 render 函数 的参数，它本身也是个函数，并且有三个参数。
createElement 函数的返回值（VNode） createElement 函数的返回值是 VNode（即：虚拟节点）。
createElement 函数的参数（三个） 一个 HTML 标签字符串，组件选项对象，或者解析上述任何一种的一个 async 异步函数。类型：{String | Object | Function}。必需。一个包含模板相关属性的数据对象你可以在 template 中使用这些特性。类型：{Object}。可选。子虚拟节点 (VNodes)，由 createElement() 构建而成，也可以使用字符串来生成“文本虚拟节点”。类型：{String | Array}。可选。 结合代码 /** * render: 渲染函数 * 参数: createElement * 参数类型: Function */ render: function (createElement) { let _this = this[&#39;$options&#39;].">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2018-10-11T20:32:18+08:00">
    <meta property="article:modified_time" content="2018-10-11T20:32:18+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">终于搞懂了vue 的 render 函数（一） -_-|||</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#render__7" rel="nofollow">render 函数作用</a></li><li><a href="#render__13" rel="nofollow">render 函数讲解</a></li><li><ul><li><a href="#render_VNode_17" rel="nofollow">render 函数的返回值（VNode）</a></li><li><a href="#render_createElement_21" rel="nofollow">render 函数的参数（createElement）</a></li><li><ul><li><a href="#createElement_VNode_25" rel="nofollow">createElement 函数的返回值（VNode）</a></li><li><a href="#createElement__29" rel="nofollow">createElement 函数的参数（三个）</a></li><li><a href="#_35" rel="nofollow">结合代码</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<p><strong>第二篇传送门：</strong><a href="https://blog.csdn.net/sansan_7957/article/details/107186076">终于搞懂了vue 的 render 函数（二）(๑•̀ㅂ•́)و✧</a></p> 
<hr> 
<p>vue渲染函数文档第一遍看的晕晕乎乎的，再看看写写终于清晰了。建议配合<a href="https://cn.vuejs.org/v2/guide/render-function.html" rel="nofollow">文档</a>阅读，本文也是根据文档加上自己的理解。</p> 
<p>注：本文代码都是在单文件组件中编写。<a href="https://github.com/muuma/vue-render">代码地址</a></p> 
<h2><a id="render__7"></a>render 函数作用</h2> 
<p><code>render 函数</code> 跟 <code>template</code> 一样都是创建 html 模板的，但是有些场景中用 <code>template</code> 实现起来代码冗长繁琐而且有大量重复，这时候就可以用 <code>render 函数</code>。</p> 
<p>官网例子：子组件想要根据父组件传递的 <code>level</code> 值（1-6）来决定渲染标签 <code>h 几</code>。具体代码可以看文档。</p> 
<h2><a id="render__13"></a>render 函数讲解</h2> 
<p><code>render 函数</code>即渲染函数，它是个函数，它的参数也是个函数——即 <code>createElement</code>，我们重点来说 <code>createElement 参数</code>。</p> 
<ol><li> <h3><a id="render_VNode_17"></a>render 函数的返回值（VNode）</h3> <p>VNode（即：虚拟节点），也就是我们要渲染的节点。</p> </li><li> <h3><a id="render_createElement_21"></a>render 函数的参数（createElement）</h3> <p><code>createElement</code> 是 <code>render 函数</code> 的参数，它本身也是个函数，并且有三个参数。</p> 
  <ol><li> <h4><a id="createElement_VNode_25"></a>createElement 函数的返回值（VNode）</h4> <p>createElement 函数的返回值是 VNode（即：虚拟节点）。</p> </li><li> <h4><a id="createElement__29"></a>createElement 函数的参数（三个）</h4> 
    <ol><li>一个 HTML 标签字符串，组件选项对象，或者解析上述任何一种的一个 async 异步函数。类型：{String | Object | Function}。<strong>必需</strong>。</li><li>一个包含模板相关属性的数据对象你可以在 template 中使用这些特性。类型：{Object}。可选。</li><li>子虚拟节点 (VNodes)，由 <code>createElement()</code> 构建而成，也可以使用字符串来生成“文本虚拟节点”。类型：{String | Array}。可选。</li></ol> </li><li> <h4><a id="_35"></a>结合代码</h4> <pre><code> /**
  * render: 渲染函数
  * 参数: createElement
  * 参数类型: Function
 */
 render: function (createElement) {
   let _this = this['$options'].parent	// 我这个是在 .vue 文件的 components 中写的，这样写才能访问this
   let _header = _this.$slots.header   	// $slots: vue中所有分发插槽，不具名的都在default里
 
   /**
    * createElement 本身也是一个函数，它有三个参数
    * 返回值: VNode，即虚拟节点
    * 1. 一个 HTML 标签字符串，组件选项对象，或者解析上述任何一种的一个 async 异步函数。必需参数。{String | Object | Function} - 就是你要渲染的最外层标签
    * 2. 一个包含模板相关属性的数据对象你可以在 template 中使用这些特性。可选参数。{Object} - 1中的标签的属性
    * 3. 子虚拟节点 (VNodes)，由 `createElement()` 构建而成，也可以使用字符串来生成“文本虚拟节点”。可选参数。{String | Array} - 1的子节点，可以用 createElement() 创建，文本节点直接写就可以
    */
   return createElement(       
     // 1. 要渲染的标签名称：第一个参数【必需】      
     'div',   
     // 2. 1中渲染的标签的属性，详情查看文档：第二个参数【可选】
     {
       style: {
         color: '#333',
         border: '1px solid #ccc'
       }
     },
     // 3. 1中渲染的标签的子元素数组：第三个参数【可选】
     [
       'text',   // 文本节点直接写就可以
       _this.$slots.default,  // 所有不具名插槽，是个数组
       createElement('div', _header)   // createElement()创建的VNodes
     ]
   )
 }
</code></pre> </li></ol> </li></ol> 
<p>可以看下控制台中打印出来的 <code>$slots</code><br> <img src="https://images2.imgbox.com/40/32/HCqBUYIG_o.png" alt="在这里插入图片描述"><br> ⚠️ 从 2.6.0 开始，官方文档推荐使用作用域插槽访问所有 <code>$slots</code>，具体见<a href="https://blog.csdn.net/sansan_7957/article/details/107186076">终于搞懂了vue 的 render 函数（二）(๑•̀ㅂ•́)و✧</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ab1889c9015163a5d7b2e11c180f6f7e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">win10 以管理员权限打开命令提示窗口cmd</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ebf3a54f377fc1eded693e017f3ceb54/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">IIDEA主题更换(快速切换)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>