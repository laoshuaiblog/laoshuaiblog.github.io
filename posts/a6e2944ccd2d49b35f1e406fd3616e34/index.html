<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>用纯客户端JavaScript来写一个有趣的爬虫 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/a6e2944ccd2d49b35f1e406fd3616e34/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="用纯客户端JavaScript来写一个有趣的爬虫">
  <meta property="og:description" content="拿JavaScript写爬虫，听起来貌似有些不靠谱？
爬虫，大多人对于爬虫的理解都停留在使用后端语言如Python写的爬虫。但是实际上，使用客户端JavaScript有诸多后端爬虫所无法拥有的优势：
可以方便的分享给其他人用，只要对方电脑里有浏览器
由于跑在客户端，几乎可以无视对方网站的反爬虫机制
可以拥有完善的UI，无开发基础的小白也可以随意使用
这东西应该怎么启动？ 而“客户端JavaScript爬虫如何运行”问题，回答这个问题非常简单，大致有3种运行JavaScript的代码：
存浏览器书签，以javascript:打头，点击即可运行
复制到浏览器console中按回车
有个浏览器扩展叫做“油猴子”
这里我们主要看下第三种，油猴脚本方式运行。
或许你听说过油猴扩展，他在Firefox叫做Greasemonkey在Chrome叫做Tampermonkey，你可以轻松的在浏览器的扩展商店找到它。而关于其本身有何作用，一句话
按照规则，在不同的URL额外运行一段JavaScript代码
请参考下面的例子：
// ==UserScript== // @name Pxer // @include http://www.pixiv.net* // ==/UserScript== javascript:void((function() { document.documentElement.appendChild( document.createElement(&#39;script&#39;) ).src=&#39;http://pxer-app.pea3nut.org/jsonp.js?&#39;&#43;(&#43;new Date); })()); ==UserScript==是油猴脚本的规则，上面的规则告诉油猴：
当浏览器打开http://www.pixiv.net*的页面时，执行下面的脚本
而脚本的内容则是：通过jsonp的方式向页面引入一个js文件。
这就可以做很多事了。（不是坏事哦~）
优势，还是非常多的 上图是一个二次元插画交流站pixiv.net。图中显示“Pxer 7”的那一个长条是原本不存在与原网站中的，而是通过油猴脚本自动载入JavaScript脚本来创建的。
若想访问图中的原始链接可以点击这里，可能你需要先在pixiv.net注册一个账号
通过油猴脚本自动载入，你可以做到：
在完全不影响原网站使用的情况下，利用强大的JavaScript向用户提供额外的功能
再结合一开始提到的优点：
可以给任何人使用！哪怕是无开发基础的小白
不会被封杀！由真实用户操作，封账号、IP、验证码等反爬虫策略你觉得会对客户端爬虫有效吗？
利用HTML&#43;CSS，构建一个漂亮的UI完美融入原网站，简直不能再简单~
突然莫名的感觉很无敌有木有？
说了这么多，来个实际实现的例子 空说无凭，来看一个实际的客户端JavaScript爬虫开源项目 —— Pxer
Github：https://github.com/pea3nut/Pxer
项目官网：http://pxer.pea3nut.org/
Pxer是一个纯客户端JavaScript编写的爬虫，无需任何配置即可直接在浏览器端运行。
Pxer最大作用是将pixiv.net网站（类似于花瓣网）中的图片作品快速的抓取下来。它不是简单的检索img标签，而是通过一定的算法和Ajax请求来完成更为复杂的功能。
关于项目的详细描述，可以参考项目官网和Github项目主页
良好的jsDOC格式注释和详细的文档都已经为你准备好了~~
https://github.com/pea3nut/Pxer
让JavaScript来的更猛烈些~~">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2017-04-02T10:42:09+08:00">
    <meta property="article:modified_time" content="2017-04-02T10:42:09+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">用纯客户端JavaScript来写一个有趣的爬虫</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="article fmt article__content"> 
 <p>拿JavaScript写爬虫，听起来貌似有些不靠谱？</p> 
 <p>爬虫，大多人对于爬虫的理解都停留在使用后端语言如Python写的爬虫。但是实际上，使用客户端JavaScript有诸多后端爬虫所无法拥有的优势：</p> 
 <ul><li><p>可以方便的分享给其他人用，只要对方电脑里有浏览器</p></li><li><p>由于跑在客户端，几乎可以无视对方网站的反爬虫机制</p></li><li><p>可以拥有完善的UI，无开发基础的小白也可以随意使用</p></li></ul> 
 <h3>这东西应该怎么启动？</h3> 
 <p>而“客户端JavaScript爬虫如何运行”问题，回答这个问题非常简单，大致有3种运行JavaScript的代码：</p> 
 <ul><li><p>存浏览器书签，以<code>javascript:</code>打头，点击即可运行</p></li><li><p>复制到浏览器console中按回车</p></li><li><p>有个浏览器扩展叫做“油猴子”</p></li></ul> 
 <p>这里我们主要看下第三种，油猴脚本方式运行。</p> 
 <p>或许你听说过油猴扩展，他在Firefox叫做<code>Greasemonkey</code>在Chrome叫做<code>Tampermonkey</code>，你可以轻松的在浏览器的扩展商店找到它。而关于其本身有何作用，一句话</p> 
 <blockquote> 
  <p>按照规则，在不同的URL额外运行一段JavaScript代码</p> 
 </blockquote> 
 <p>请参考下面的例子：</p> 
 <pre><code class="javascript">// ==UserScript==
// @name          Pxer
// @include       http://www.pixiv.net*
// ==/UserScript==
javascript:void((function() {
    
    document.documentElement.appendChild(
        document.createElement('script')
    ).src='http://pxer-app.pea3nut.org/jsonp.js?'+(+new Date);

})());</code></pre> 
 <p><code>==UserScript==</code>是油猴脚本的规则，上面的规则告诉油猴：</p> 
 <blockquote> 
  <p>当浏览器打开<code>http://www.pixiv.net*</code>的页面时，执行下面的脚本</p> 
 </blockquote> 
 <p>而脚本的内容则是：通过jsonp的方式向页面引入一个js文件。</p> 
 <p><strong>这就可以做很多事了。</strong>（不是坏事哦~）</p> 
 <h3>优势，还是非常多的</h3> 
 <p><span class="img-wrap"><img src="https://images2.imgbox.com/0b/a6/OnqvyJTK_o.png" alt="图片描述" title="图片描述"></span></p> 
 <p>上图是一个二次元插画交流站pixiv.net。图中显示“Pxer 7”的那一个长条是原本不存在与原网站中的，而是通过油猴脚本自动载入JavaScript脚本来创建的。</p> 
 <blockquote> 
  <p>若想访问图中的原始链接可以<a href="http://www.pixiv.net/member.php?id=6147118" rel="nofollow">点击这里</a>，可能你需要先在pixiv.net注册一个账号</p> 
 </blockquote> 
 <p>通过油猴脚本自动载入，你可以做到：</p> 
 <blockquote> 
  <p>在<strong>完全不影响</strong>原网站使用的情况下，利用强大的JavaScript向用户提供<strong>额外</strong>的功能</p> 
 </blockquote> 
 <p>再结合一开始提到的优点：</p> 
 <ul><li><p>可以给任何人使用！哪怕是无开发基础的小白</p></li><li><p>不会被封杀！由真实用户操作，封账号、IP、验证码等反爬虫策略你觉得会对客户端爬虫有效吗？</p></li><li><p>利用HTML+CSS，构建一个漂亮的UI完美融入原网站，简直不能再简单~</p></li></ul> 
 <p>突然莫名的感觉很无敌有木有？</p> 
 <h3>说了这么多，来个实际实现的例子</h3> 
 <p>空说无凭，来看一个实际的客户端JavaScript爬虫开源项目 —— Pxer</p> 
 <ul><li><p>Github：<a href="https://github.com/pea3nut/Pxer">https://github.com/pea3nut/Pxer</a></p></li><li><p>项目官网：<a href="http://pxer.pea3nut.org/" rel="nofollow">http://pxer.pea3nut.org/</a></p></li></ul> 
 <p>Pxer是一个纯客户端JavaScript编写的爬虫，无需任何配置即可直接在浏览器端运行。</p> 
 <p><span class="img-wrap"><img src="https://images2.imgbox.com/4b/ba/eHlFrxX8_o.gif" alt="图片描述" title="图片描述"></span></p> 
 <p>Pxer最大作用是将pixiv.net网站（类似于花瓣网）中的图片作品快速的抓取下来。它不是简单的检索img标签，而是通过一定的算法和Ajax请求来完成更为复杂的功能。</p> 
 <p>关于项目的详细描述，可以参考<a href="http://pxer.pea3nut.org/" rel="nofollow">项目官网</a>和<a href="https://github.com/pea3nut/Pxer">Github项目主页</a></p> 
 <p>良好的jsDOC格式<strong>注释</strong>和详细的<strong>文档</strong>都已经为你准备好了~~</p> 
 <ul><li><p><a href="https://github.com/pea3nut/Pxer">https://github.com/pea3nut/Pxer</a></p></li></ul> 
 <p>让JavaScript来的更猛烈些~~</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0b506b7cb954462aaa87f93156679970/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux怎么取消软链接</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bc32a3495404bf3f2c29c8c9d980dc0c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">什么是BSP?</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>