<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>numpy教程04---ndarray的索引 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/c23d93f3b251a607ca151c5b94b5192b/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="numpy教程04---ndarray的索引">
  <meta property="og:description" content="文章目录 欢迎关注公众号【Python开发实战】，免费领取Python学习电子书！工具-numpy一维ndarray与常规数组的区别多维ndarray花式索引更高维数组省略号布尔索引np.ix_ 欢迎关注公众号【Python开发实战】，免费领取Python学习电子书！ 工具-numpy numpy是使用Python进行数据科学的基础库。numpy以一个强大的N维数组对象为中心，它还包含有用的线性代数，傅里叶变换和随机数函数。
一维ndarray 导入numpy
import numpy as np 一维ndarray的访问和常规的Python数组类似。
a = np.array([1, 5, 3, 19, 13, 7, 3]) a[3] 输出：
19 a[2:5] 输出：
array([ 3, 19, 13]) a[2:-1] 输出：
array([ 3, 19, 13, 7]) a[:2] 输出：
array([1, 5]) a[2::2] 输出：
array([ 3, 13, 3]) a[::-1] 输出：
array([ 3, 7, 13, 19, 3, 5, 1]) 当然，也可以修改ndarray的元素。
a[3] = 999 a 输出：
array([ 1, 5, 3, 999, 13, 7, 3]) 也可以修改一个ndarray的切片。">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-04-26T11:42:54+08:00">
    <meta property="article:modified_time" content="2022-04-26T11:42:54+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">numpy教程04---ndarray的索引</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#PythonPython_1" rel="nofollow">欢迎关注公众号【Python开发实战】，免费领取Python学习电子书！</a></li><li><a href="#numpy_4" rel="nofollow">工具-numpy</a></li><li><ul><li><a href="#ndarray_8" rel="nofollow">一维ndarray</a></li><li><a href="#_116" rel="nofollow">与常规数组的区别</a></li><li><a href="#ndarray_213" rel="nofollow">多维ndarray</a></li><li><a href="#_293" rel="nofollow">花式索引</a></li><li><a href="#_335" rel="nofollow">更高维数组</a></li><li><a href="#_396" rel="nofollow">省略号</a></li><li><a href="#_450" rel="nofollow">布尔索引</a></li><li><a href="#npix__498" rel="nofollow">np.ix_</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="PythonPython_1"></a>欢迎关注公众号【Python开发实战】，免费领取Python学习电子书！</h2> 
<h2><a id="numpy_4"></a>工具-numpy</h2> 
<p>numpy是使用Python进行数据科学的基础库。numpy以一个强大的N维数组对象为中心，它还包含有用的线性代数，傅里叶变换和随机数函数。</p> 
<h3><a id="ndarray_8"></a>一维ndarray</h3> 
<p>导入numpy</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
</code></pre> 
<p>一维ndarray的访问和常规的Python数组类似。</p> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>19
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([ 3, 19, 13])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([ 3, 19, 13,  7])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([1, 5])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([ 3, 13,  3])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([ 3,  7, 13, 19,  3,  5,  1])
</code></pre> 
<p>当然，也可以修改ndarray的元素。</p> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">999</span>
a
</code></pre> 
<p>输出：</p> 
<pre><code>array([  1,   5,   3, 999,  13,   7,   3])
</code></pre> 
<p>也可以修改一个ndarray的切片。</p> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">997</span><span class="token punctuation">,</span> <span class="token number">998</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">]</span>
a
</code></pre> 
<p>输出：</p> 
<pre><code>array([  1,   5, 997, 998, 999,   7,   3])
</code></pre> 
<h3><a id="_116"></a>与常规数组的区别</h3> 
<p>与常规Python数组相反，如果将一个值赋给一个ndarray切片，则整个切片里的元素都会被赋值为这个值，这是由于广播机制。</p> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
a
</code></pre> 
<p>输出：</p> 
<pre><code>array([ 1,  5, -1, -1, -1,  7,  3])
</code></pre> 
<p>另外，不能以这种方式增加或缩小ndarray。</p> 
<pre><code class="prism language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token keyword">except</span> ValueError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</code></pre> 
<p>输出：</p> 
<pre><code>cannot copy sequence with size 6 to array axis with dimension 3
</code></pre> 
<p>也不能删除元素。</p> 
<pre><code class="prism language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token keyword">del</span> a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span> 
<span class="token keyword">except</span> ValueError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</code></pre> 
<p>输出：</p> 
<pre><code>cannot delete array elements
</code></pre> 
<p>值得注意的是，ndarray切片实际上是同一数据缓冲区上的视图。这就意味着，如果创建一个切片并对其进行修改，也将会修改原始的ndarray。</p> 
<pre><code class="prism language-python">a_slice <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span>
a_slice<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000</span>
a   <span class="token comment"># 原始ndarray也被修改！</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([   1,    5,   -1, 1000,   -1,    7,    3])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2000</span>
a_slice  <span class="token comment"># 修改切片也会修改原始ndarray！</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([  -1, 2000,   -1,    7])
</code></pre> 
<p>如果想复制ndarray的数据，需要使用copy方法。</p> 
<pre><code class="prism language-python">another_slice <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
another_slice<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3000</span>
a     <span class="token comment"># 原始ndarray不变</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([   1,    5,   -1, 2000,   -1,    7,    3])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4000</span>
another_slice    <span class="token comment"># 修改原始ndarray不会影响切片的副本</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([  -1, 3000,   -1,    7])
</code></pre> 
<h3><a id="ndarray_213"></a>多维ndarray</h3> 
<p>多维ndarray的访问也是类似的方式，通过为每个轴提供索引或切片的形式，不同轴之间的索引或切片用逗号分隔。</p> 
<pre><code class="prism language-python">b <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
b
</code></pre> 
<p>输出：</p> 
<pre><code>array([[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11],
       [12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23],
       [24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35],
       [36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47]])
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>   <span class="token comment"># 第1行 第2列</span>
</code></pre> 
<p>输出：</p> 
<pre><code>14
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span>  <span class="token comment"># 第1行的所有列元素</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23])
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>   <span class="token comment"># 第1列的所有行元素</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([ 1, 13, 25, 37])
</code></pre> 
<p>注意！注意下面两个结果间的细微差别。</p> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23])
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([[12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]])
</code></pre> 
<p>第一个结果是将第1行作为一个形状为（12，）的一维数组返回，第二个结果是将第1行作为形状为（1，12）的二维数组返回。</p> 
<h3><a id="_293"></a>花式索引</h3> 
<p>还可以指定感兴趣的索引列表，被称为花式索引。</p> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([[ 2,  3,  4],
       [26, 27, 28]])
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([[11,  2, 11],
       [23, 14, 23],
       [35, 26, 35],
       [47, 38, 47]])
</code></pre> 
<p>如果提供多个索引数组，将会得到一个一维ndarray，其中包含指定坐标处元素的值。</p> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span>   <span class="token comment"># 返回由b[-1, 5] b[2, 9] b[-1, 1] b[2, 9]组成的一维数组</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([41, 33, 37, 33])
</code></pre> 
<h3><a id="_335"></a>更高维数组</h3> 
<p>对于更高维数组，上面的索引方式也满足。</p> 
<pre><code class="prism language-python">c <span class="token operator">=</span> b<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
c
</code></pre> 
<p>输出：</p> 
<pre><code>array([[[ 0,  1,  2,  3,  4,  5],
        [ 6,  7,  8,  9, 10, 11]],

       [[12, 13, 14, 15, 16, 17],
        [18, 19, 20, 21, 22, 23]],

       [[24, 25, 26, 27, 28, 29],
        [30, 31, 32, 33, 34, 35]],

       [[36, 37, 38, 39, 40, 41],
        [42, 43, 44, 45, 46, 47]]])
</code></pre> 
<pre><code class="prism language-python">c<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>34
</code></pre> 
<pre><code class="prism language-python">c<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([27, 33])
</code></pre> 
<p>如果省略某些轴的坐标，则会返回这些轴中的所有元素。</p> 
<pre><code class="prism language-python">c<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([30, 31, 32, 33, 34, 35])
</code></pre> 
<h3><a id="_396"></a>省略号</h3> 
<p>也可以使用一个省略号<code>...</code>，表示将所有未指定的轴的元素全部包含在内。</p> 
<pre><code class="prism language-python">c<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>   <span class="token comment"># 相当于c[2, :, :]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([[24, 25, 26, 27, 28, 29],
       [30, 31, 32, 33, 34, 35]])
</code></pre> 
<pre><code class="prism language-python">c<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>   <span class="token comment"># 相当于c[2, 1, :]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([30, 31, 32, 33, 34, 35])
</code></pre> 
<pre><code class="prism language-python">c<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>    <span class="token comment"># 相当于c[2, :, 3]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([27, 33])
</code></pre> 
<pre><code class="prism language-python">c<span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>   <span class="token comment"># 相当于c[:, :, 3]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([[ 3,  9],
       [15, 21],
       [27, 33],
       [39, 45]])
</code></pre> 
<h3><a id="_450"></a>布尔索引</h3> 
<p>还可以在一个轴上提供一系列布尔值，来指定要访问的索引。</p> 
<pre><code class="prism language-python">d <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
d
</code></pre> 
<p>输出：</p> 
<pre><code>array([[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11],
       [12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23],
       [24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35],
       [36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47]])
</code></pre> 
<pre><code class="prism language-python">rows_on <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
b<span class="token punctuation">[</span>rows_on<span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span>   <span class="token comment"># 相当于b[(0, 2), :]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11],
       [24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35]])
</code></pre> 
<pre><code class="prism language-python">cols_on <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span>
b<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> cols_on<span class="token punctuation">]</span>   <span class="token comment"># 相当于b[:, (1, 4, 7, 10)]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([[ 1,  4,  7, 10],
       [13, 16, 19, 22],
       [25, 28, 31, 34],
       [37, 40, 43, 46]])
</code></pre> 
<h3><a id="npix__498"></a>np.ix_</h3> 
<p>不能以上面那种方式在多个轴上使用布尔索引，但是可以使用<code>np.ix_</code>函数来解决。</p> 
<pre><code class="prism language-python">d<span class="token punctuation">[</span>np<span class="token punctuation">.</span>ix_<span class="token punctuation">(</span>rows_on<span class="token punctuation">,</span> cols_on<span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([[ 1,  4,  7, 10],
       [25, 28, 31, 34]])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>ix_<span class="token punctuation">(</span>rows_on<span class="token punctuation">,</span> cols_on<span class="token punctuation">)</span>
</code></pre> 
<p>输出：</p> 
<pre><code>(array([[0],
        [2]], dtype=int64), array([[ 1,  4,  7, 10]], dtype=int64))
</code></pre> 
<p>如果使用与ndarray形状相同的布尔数组，会得到一个一维数组，该数组包含所有坐标为True的元素值，通常与条件运算符一起使用。</p> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span>b <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">]</span>
</code></pre> 
<p>输出：</p> 
<pre><code>array([ 1,  4,  7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46])
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d293d09a089ebca8b177645ce80c8bd2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">本关任务：编程求以a、b、c为边长的三角形的面积area。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1e61feaa7cedf64c914f128fe21695ec/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">idea中使用Git将本地项目提交到gitee仓库中</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>