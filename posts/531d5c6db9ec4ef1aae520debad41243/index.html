<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ES6—Module 的语法 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/531d5c6db9ec4ef1aae520debad41243/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="ES6—Module 的语法">
  <meta property="og:description" content="export命令 ES6 模块的设计思想是尽量的静态化，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。
模块功能主要由两个命令构成：export和import。export命令用于规定模块的对外接口，import命令用于输入其他模块提供的功能。
一个模块就是一个独立的文件。该文件内部的所有变量，外部无法获取。如果你希望外部能够读取模块内部的某个变量，就必须使用export关键字输出该变量。下面是一个 JS 文件，里面使用export命令输出变量。
//profile.js //分别暴露 /* export let firstName = &#34;li&#34;; export let lastName = &#34;siyu&#34;; export function birthdy() { console.log(&#34;hello world&#34;); } */ //统一暴露(优先使用) let firstName = &#34;li&#34;; let lastName = &#34;siyu&#34;; function birthdy() { console.log(&#34;hello world&#34;); } export { firstName, lastName, birthdy }; 通常情况下，export输出的变量就是本来的名字，但是可以使用as关键字重命名。
function v1(a, b) { return a * b; } function v2(a, b) { return a - b; } export { v1 as streamV1, v2 as streamV2, v2 as streamVersion }; 重命名后，v2可以用不同的名字输出两次。">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-23T10:10:05+08:00">
    <meta property="article:modified_time" content="2024-03-23T10:10:05+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ES6—Module 的语法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>export命令</h2> 
<p>ES6 模块的设计思想是尽量的静态化，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。</p> 
<p>模块功能主要由两个命令构成：<code>export</code>和<code>import</code>。<code>export</code>命令用于规定模块的对外接口，<code>import</code>命令用于输入其他模块提供的功能。</p> 
<p>一个模块就是一个独立的文件。该文件内部的所有变量，外部无法获取。如果你希望外部能够读取模块内部的某个变量，就必须使用<code>export</code>关键字输出该变量。下面是一个 JS 文件，里面使用<code>export</code>命令输出变量。</p> 
<pre><code class="language-javascript">//profile.js
//分别暴露
/* export let firstName = "li";
export let lastName = "siyu";
export function birthdy() {
  console.log("hello world");
} */

//统一暴露(优先使用)
let firstName = "li";
let lastName = "siyu";
function birthdy() {
  console.log("hello world");
}
export { firstName, lastName, birthdy };</code></pre> 
<p>通常情况下，export输出的变量就是本来的名字，但是可以使用as关键字重命名。</p> 
<pre><code class="language-javascript">function v1(a, b) {
  return a * b;
}
function v2(a, b) {
  return a - b;
}
export { v1 as streamV1, v2 as streamV2, v2 as streamVersion };</code></pre> 
<p>重命名后，v2可以用不同的名字输出两次。</p> 
<p>需要特别注意的是，export命令规定的是对外的接口，必须与模块内部的变量建立一一对应关系。</p> 
<pre><code class="language-javascript">//写法一
export let m = 1;
//写法二
let p = 2;
export { p };
//写法三：
let q = 3;
export { q as n };</code></pre> 
<p>另外，export语句输出的接口，与其对应的值是动态绑定关系，即通过该接口，可以取到模块内部实时的值。</p> 
<pre><code class="language-javascript">export var foo = "bar";
setTimeout(() =&gt; {
  foo = "baz";
}, 500);</code></pre> 
<p>上面代码输出变量foo，值为bar，500 毫秒之后变成baz。</p> 
<p>最后，export命令可以出现在模块的任何位置，只要处于模块顶层就可以。如果处于块级作用域内，就会报错</p> 
<pre><code class="language-javascript">function fool() {
    export default 'bar' // SyntaxError
  }
  fool()</code></pre> 
<p>上面代码中，export语句放在函数之中，结果报错。</p> 
<h2>import命令</h2> 
<p>使用export命令定义了模块的对外接口以后，其他 JS 文件就可以通过import命令加载这个模块。</p> 
<pre><code class="language-javascript">&lt;script type="module"&gt;
      
      import { firstName, lastName } from "./profiles.js";
      function setName() {
        return firstName + " " + lastName;
      }
      console.log(setName());
    &lt;/script&gt;</code></pre> 
<p>上面代码的<code>import</code>命令，用于加载<code>profile.js</code>文件，并从中输入变量。<code>import</code>命令接受一对大括号，里面指定要从其他模块导入的变量名。大括号里面的变量名，必须与被导入模块（<code>profile.js</code>）对外接口的名称相同。</p> 
<p>如果想为输入的变量重新取一个名字，<code>import</code>命令要使用<code>as</code>关键字，将输入的变量重命名。</p> 
<pre><code class="language-javascript">&lt;script type="module"&gt;
      
      import { firstName as first, lastName } from "./profiles.js";
      function setName() {
        return first + " " + lastName;
      }
      console.log(setName());
    &lt;/script&gt;</code></pre> 
<p>除了指定加载某个输出值，还可以使用整体加载，即用星号（*）指定一个对象，所有输出值都加载在这个对象上面。</p> 
<pre><code class="language-javascript">import * as name from "./profiles.js";
      //可以使用"./profiles.js"，中所有export出来的变量
      console.log(name.m);</code></pre> 
<h2>export default命令</h2> 
<p>从前面的例子可以看出，使用<code>import</code>命令的时候，用户需要知道所要加载的变量名或函数名，否则无法加载。但是，用户肯定希望快速上手，未必愿意阅读文档，去了解模块有哪些属性和方法。</p> 
<p>为了给用户提供方便，让他们不用阅读文档就能加载模块，就要用到<code>export default</code>命令，为模块指定默认输出。</p> 
<pre><code class="language-javascript">// export-default.js
export default function () {
  console.log('foo');
}</code></pre> 
<p>上面代码是一个模块文件<code>export-default.js</code>，它的默认输出是一个函数。</p> 
<p>其他模块加载该模块时，<code>import</code>命令可以为该匿名函数指定任意名字。</p> 
<pre><code class="language-javascript">// import-default.js
import customName from './export-default';
customName(); // 'foo'</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e7fc70f5b9c4c55e7d15a2800e7a654b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Springboot&#43;vue的高校实习管理系统（有报告）。Javaee项目，springboot vue前后端分离项目。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/34bbd785a0f69866afbe344a65c4046f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Stable Diffusion实现光影字效果</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>