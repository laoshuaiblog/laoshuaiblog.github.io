<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>一篇文章入门Shell编程 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/8724617ab6e28a692e680b0762840c89/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="一篇文章入门Shell编程">
  <meta property="og:description" content="一、初始Shell shell 是一个命令行解释器，它接收应用程序/用户命令，然后调用操作系统内核。
shell 还是一个功能相当强大的编程语言，易编写，易调试，灵活性强。
Linux提供的Shell解析器有：
/bin/sh
/bin/bash
/sbin/nologin
/bin/dash
/bin/tcsh
/bin/csh
Centos默认的解析器是bash
/bin/bash
二、Shell脚本入门 1.shell脚本文件后缀.sh
2.脚本格式： 脚本以#!/bin/bash开头（指定解析器）
3.脚本的常用执行方式：
采用bash或sh&#43;脚本的相对路径或绝对路径（不用赋予脚本&#43;x权限）采用输入脚本的绝对路径或相对路径执行脚本（必须具有可执行权限&#43;x） （a）首先要赋予XX.sh 脚本的&#43;x权限（b）执行脚本 4.shell脚本的多命令处理
举个栗子：创建一个banzhang.txt,在banzhang.txt文件中增加“I love cls”。
touch batch.sh
vi batch.sh
在batch.sh中输入如下内容
#!/bin/bash
cd /home/atguigu
touch cls.txt
echo &#34;I love cls&#34; &amp;gt;&amp;gt;cls.txt
三、shell中的变量 一、系统变量 1. 常用系统变量
$HOME、$PWD、$SHELL、$USER等
（1）查看系统变量的值 ： $HOME （2）显示当前Shell中所有变量：$set 二、自定义变量 1．基本语法 （1）定义变量：变量=值 （2）撤销变量：unset 变量（3）声明静态变量：readonly变量，注意：不能unset 2．变量定义规则 （1）变量名称可以由字母、数字和下划线组成，但是不能以数字开头，环境变量名建议大写。（2）等号两侧不能有空格（3）在bash中，变量默认类型都是字符串类型，无法直接进行数值运算。（4）变量的值如果有空格，需要使用双引号或单引号括起来。 举个栗子：
(5)可把变量提升为全局环境变量，可供其他Shell程序使用
语法: export 变量名
【注意用户权限，用管理员才能操作】
三、特殊变量$n，$*、$@、$？ （一）$n 1．基本语法
$n （功能描述：n为数字，$0代表该脚本名称，$1-$9代表第一到第九个参数，十以上的参数，十以上的参数需要用大括号包含，如${10}）
举个栗子：输出该脚本文件名称、输入参数1和输入参数2 的值">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-07T18:28:49+08:00">
    <meta property="article:modified_time" content="2024-02-07T18:28:49+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">一篇文章入门Shell编程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、初始Shell </h2> 
<p>shell 是一个命令行解释器，它接收应用程序/用户命令，然后调用操作系统内核。</p> 
<p><img alt="" height="584" src="https://images2.imgbox.com/a6/30/slb0Rwpf_o.png" width="891"></p> 
<p>shell 还是一个功能相当强大的编程语言，易编写，易调试，灵活性强。</p> 
<blockquote> 
 <p style="margin-left:21pt;">Linux提供的Shell解析器有：</p> 
 <p style="margin-left:21pt;"><span style="color:#ff0000;">/bin/sh</span></p> 
 <p style="margin-left:21pt;"><span style="color:#ff0000;">/bin/bash</span></p> 
 <p style="margin-left:21pt;">/sbin/nologin</p> 
 <p style="margin-left:21pt;">/bin/dash</p> 
 <p style="margin-left:21pt;">/bin/tcsh</p> 
 <p style="margin-left:21pt;">/bin/csh</p> 
 <p style="margin-left:.0001pt;text-align:justify;">Centos默认的解析器是bash</p> 
 <p style="margin-left:21pt;">/bin/bash</p> 
</blockquote> 
<h2 style="background-color:transparent;margin-left:.0001pt;text-align:justify;">二、Shell脚本入门</h2> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>1.shell脚本文件后缀.sh</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>2.脚本格式： 脚本以<span style="color:#ff0000;">#!/bin/bash</span>开头（指定解析器）</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="92" src="https://images2.imgbox.com/e8/e3/3gGeW5jN_o.png" width="349"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>3.脚本的常用执行方式：</strong></p> 
<ol><li style="margin-left:.0001pt;text-align:left;">采用bash或sh+脚本的相对路径或绝对路径（不用赋予脚本+x权限）</li><li style="margin-left:.0001pt;text-align:left;"><img alt="" height="113" src="https://images2.imgbox.com/4d/1e/LLuEWShC_o.png" width="798"></li><li style="margin-left:.0001pt;text-align:left;">采用输入脚本的绝对路径或相对路径执行脚本<span style="color:#ff0000;">（</span><span style="color:#ff0000;">必须</span><span style="color:#ff0000;">具有可执行权限</span><span style="color:#ff0000;">+x</span><span style="color:#ff0000;">）</span></li></ol> 
<ul><li style="margin-left:.0001pt;text-align:left;">（a）首先要赋予XX.sh 脚本的+x权限</li><li style="margin-left:.0001pt;text-align:justify;">（b）执行脚本</li></ul> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="82" src="https://images2.imgbox.com/32/c6/uhYo367C_o.png" width="749"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>4.shell脚本的多命令处理</strong></p> 
<blockquote> 
 <p style="margin-left:.0001pt;text-align:justify;">举个栗子：创建一个banzhang.txt,在banzhang.txt文件中增加“I love cls”。</p> 
 <p style="margin-left:31.5pt;">touch batch.sh</p> 
 <p style="margin-left:31.5pt;">vi batch.sh</p> 
 <p style="margin-left:31.5pt;">在batch.sh中输入如下内容</p> 
 <p style="margin-left:31.5pt;">#!/bin/bash</p> 
 <p style="margin-left:31.5pt;">cd /home/atguigu</p> 
 <p style="margin-left:31.5pt;">touch cls.txt</p> 
 <p style="margin-left:31.5pt;">echo "I love cls" &gt;&gt;cls.txt</p> 
 <p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="434" src="https://images2.imgbox.com/a4/f6/7QqYMSHv_o.png" width="782"></p> 
 <p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="202" src="https://images2.imgbox.com/d3/fe/cbMSLT9M_o.png" width="728"></p> 
 <p style="margin-left:.0001pt;text-align:justify;"></p> 
</blockquote> 
<h2 style="margin-left:.0001pt;text-align:justify;">三、shell中的变量</h2> 
<h3 style="margin-left:.0001pt;text-align:justify;">一、系统变量</h3> 
<p>1. 常用系统变量</p> 
<p style="margin-left:.0001pt;text-align:justify;">$HOME、$PWD、$SHELL、$USER等</p> 
<h4 style="margin-left:.0001pt;text-align:justify;">（1）查看系统变量的值 ： $HOME</h4> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="48" src="https://images2.imgbox.com/21/99/3kLmMi2l_o.png" width="594"></p> 
<h4 style="margin-left:.0001pt;text-align:justify;">（2）显示当前Shell中所有变量：$set</h4> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="276" src="https://images2.imgbox.com/8c/87/LI7jBgtp_o.png" width="1200"></p> 
<h3 style="margin-left:.0001pt;text-align:justify;">二、自定义变量</h3> 
<h5>1．基本语法</h5> 
<ul><li style="margin-left:.0001pt;text-align:justify;">（1）定义变量：变量=值 </li><li style="margin-left:.0001pt;text-align:justify;">（2）撤销变量：unset 变量</li><li style="margin-left:.0001pt;text-align:justify;">（3）声明静态变量：readonly变量，注意：不能unset</li></ul> 
<h4>2．变量定义规则</h4> 
<ul><li style="margin-left:.0001pt;text-align:justify;">（1）变量名称可以由字母、数字和下划线组成，但是不能以数字开头，<span style="color:#ff0000;">环境</span><span style="color:#ff0000;">变量名</span><span style="color:#ff0000;">建议</span><span style="color:#ff0000;">大写</span>。</li><li style="margin-left:.0001pt;text-align:justify;"><span style="color:#ff0000;">（2）等号两侧不能有空格</span></li><li style="margin-left:.0001pt;text-align:justify;">（3）在bash中，变量默认类型都是字符串类型，无法直接进行数值运算。</li><li style="margin-left:.0001pt;text-align:justify;">（4）变量的值如果有空格，需要使用双引号或单引号括起来。</li></ul> 
<p style="margin-left:.0001pt;">举个栗子：<img alt="" height="769" src="https://images2.imgbox.com/e0/7b/kdBQQWTS_o.png" width="1120"></p> 
<p style="margin-left:.0001pt;text-align:left;">(5)可把变量提升为全局环境变量，可供其他Shell程序使用</p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">语法: export 变量名</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">【注意用户权限，用管理员才能操作】</span></p> 
<h3 style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">三、特殊变量</span><strong>$n，$*</strong><strong>、$@、$</strong><strong>？</strong></h3> 
<h4 style="margin-left:.0001pt;text-align:left;"><strong>（一）$n</strong></h4> 
<h4 style="margin-left:.0001pt;text-align:left;"></h4> 
<p>1．基本语法</p> 
<p style="margin-left:.0001pt;text-align:justify;">$n （功能描述：n为数字，$0代表该脚本名称，$1-$9代表第一到第九个参数，十以上的参数，十以上的参数需要用大括号包含，如${10}）</p> 
<p style="margin-left:.0001pt;text-align:justify;">举个栗子：输出该脚本文件名称、输入参数1和输入参数2 的值</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="428" src="https://images2.imgbox.com/79/0d/lnUsABg3_o.png" width="708"></p> 
<h4 style="margin-left:.0001pt;text-align:justify;">（二）$*、$@</h4> 
<p>1．基本语法</p> 
<ul><li style="margin-left:.0001pt;text-align:justify;">$* （功能描述：这个变量代表命令行中所有的参数，$*把所有的参数看成一个整体）</li><li style="margin-left:.0001pt;text-align:justify;">$@ （功能描述：这个变量也代表命令行中所有的参数，不过$@把每个参数区分对待）</li></ul> 
<p style="margin-left:.0001pt;text-align:justify;">举个栗子：打印输入的所有参数</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="443" src="https://images2.imgbox.com/a9/66/hkdxBp95_o.png" width="844"></p> 
<h4 style="text-align:justify;"><strong>（三）$</strong><strong>？</strong></h4> 
<p>1．基本语法</p> 
<p style="margin-left:.0001pt;text-align:justify;">$？ （功能描述：最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了。）</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="206" src="https://images2.imgbox.com/c1/44/goi5Ir3J_o.png" width="874"></p> 
<h2 style="margin-left:.0001pt;text-align:justify;">四、运算符</h2> 
<h3>（一）基本语法</h3> 
<ul><li style="margin-left:.0001pt;text-align:justify;">（1）“$((运算式))”或“$[运算式]”</li><li style="margin-left:.0001pt;text-align:justify;">（2）expr  + , - , \*,  /,  %    加，减，乘，除，取余</li></ul> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#ff0000;">注意</span><span style="color:#ff0000;">：</span><span style="color:#ff0000;">expr运算符间要有空格</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0d0016;">举个栗子：</span>（1）计算3+2的值。（2）计算3-2的值。（3）计算（2+3）X4的值</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="371" src="https://images2.imgbox.com/a2/77/AJuvdmmf_o.png" width="842"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h3 style="text-align:justify;"><strong>（二）条件判断</strong></h3> 
<h3></h3> 
<h5>1．基本语法</h5> 
<p style="margin-left:.0001pt;text-align:justify;">[ condition ]（<span style="color:#ff0000;">注意condition前后要有空格</span>）</p> 
<p style="margin-left:.0001pt;text-align:justify;">注意：条件非空即为true，[ atguigu ]返回true，[] 返回false。</p> 
<h4>2. 常用判断条件</h4> 
<h5 style="margin-left:.0001pt;text-align:justify;">（1）两个整数之间比较</h5> 
<ul><li style="margin-left:.0001pt;text-align:justify;">= 字符串比较</li><li style="margin-left:.0001pt;text-align:justify;">-lt 小于（less than） -le 小于等于（less equal）</li><li style="margin-left:.0001pt;text-align:justify;">-eq 等于（equal） -gt 大于（greater than）</li><li style="margin-left:.0001pt;text-align:justify;">-ge 大于等于（greater equal） -ne 不等于（Not equal）</li></ul> 
<h5 style="margin-left:.0001pt;text-align:justify;">（2）按照文件权限进行判断</h5> 
<ul><li style="margin-left:.0001pt;text-align:justify;">-r 有读的权限（read） -w 有写的权限（write）</li><li style="margin-left:.0001pt;text-align:justify;">-x 有执行的权限（execute）</li></ul> 
<h5 style="margin-left:.0001pt;text-align:justify;">（3）按照文件类型进行判断</h5> 
<ul><li style="margin-left:.0001pt;text-align:justify;">-f 文件存在并且是一个常规的文件（file）</li><li style="margin-left:.0001pt;text-align:justify;">-e 文件存在（existence） -d 文件存在并是一个目录（directory）</li></ul> 
<h5 style="margin-left:.0001pt;text-align:justify;">（4）多条件判断</h5> 
<p style="margin-left:.0001pt;text-align:justify;">（&amp;&amp; 表示前一条命令执行成功时，才执行后一条命令，|| 表示上一条命令执行失败后，才执行下一条命令）</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="154" src="https://images2.imgbox.com/b1/7e/KTnticzo_o.png" width="942"></p> 
<h2 style="margin-left:.0001pt;text-align:justify;">五、流程控制</h2> 
<h3 style="text-align:justify;"><strong>（一） if 判断</strong></h3> 
<h5>1．基本语法</h5> 
<blockquote> 
 <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">if</span> <span style="color:#000000;">[ 条件判断式 ];then </span></p> 
 <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">  程序 </span></p> 
 <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">fi </span></p> 
 <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">或者 </span></p> 
 <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">if [ 条件判断式 ] </span></p> 
 <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">  then </span></p> 
 <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">    程序 </span></p> 
 <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">fi</span></p> 
</blockquote> 
<h5 style="background-color:transparent;margin-left:.0001pt;text-align:justify;">2.注意事项：</h5> 
<ul><li style="margin-left:.0001pt;text-align:justify;">（1）[ 条件判断式 ]，中括号和条件判断式之间必须有空格</li><li style="margin-left:.0001pt;text-align:justify;">（2）<span style="color:#ff0000;">if后要有空格</span></li></ul> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0d0016;">举个栗子:</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">（1）输入一个数字，如果是1，则输出banzhang zhen shuai，如果是2，则输出cls zhen mei，如果是其它，什么也不输出。</p> 
<p style="margin-left:21pt;"><img alt="" height="511" src="https://images2.imgbox.com/92/a2/ubmGqY5P_o.png" width="659"></p> 
<blockquote> 
 <p style="margin-left:21pt;">#!/bin/bash</p> 
 <p style="margin-left:21pt;">if [ $1 -eq "1" ]</p> 
 <p style="margin-left:21pt;">then</p> 
 <p style="margin-left:21pt;">        echo "banzhang zhen shuai"</p> 
 <p style="margin-left:21pt;">elif [ $1 -eq "2" ]</p> 
 <p style="margin-left:21pt;">then</p> 
 <p style="margin-left:21pt;">        echo "cls zhen mei"</p> 
 <p style="margin-left:21pt;">fi</p> 
</blockquote> 
<h3 style="text-align:justify;"><strong>（二）case 语句</strong></h3> 
<h5>1．基本语法</h5> 
<blockquote> 
 <p style="margin-left:.0001pt;text-align:justify;">case $变量名 in</p> 
 <p style="margin-left:.0001pt;text-align:justify;">  "值1"）</p> 
 <p style="margin-left:.0001pt;text-align:justify;">    如果变量的值等于值1，则执行程序1</p> 
 <p style="margin-left:.0001pt;text-align:justify;">    ;;</p> 
 <p style="margin-left:.0001pt;text-align:justify;">  "值2"）</p> 
 <p style="margin-left:.0001pt;text-align:justify;">    如果变量的值等于值2，则执行程序2</p> 
 <p style="margin-left:.0001pt;text-align:justify;">    ;;</p> 
 <p style="margin-left:.0001pt;text-align:justify;">  …省略其他分支…</p> 
 <p style="margin-left:.0001pt;text-align:justify;">  *）</p> 
 <p style="margin-left:.0001pt;text-align:justify;">    如果变量的值都不是以上的值，则执行此程序</p> 
 <p style="margin-left:.0001pt;text-align:justify;">    ;;</p> 
 <p style="margin-left:.0001pt;text-align:justify;">esac</p> 
</blockquote> 
<h5 style="margin-left:.0001pt;text-align:justify;">2.注意事项：</h5> 
<ol><li>case行尾必须为单词“in”，每一个模式匹配必须以右括号“）”结束。</li><li>双分号“<strong><strong>;;</strong></strong>”表示命令序列结束，相当于java中的break。</li><li>最后的“*）”表示默认模式，相当于java中的default。</li></ol> 
<p>举个栗子:</p> 
<p style="margin-left:.0001pt;text-align:justify;">（1）输入一个数字，如果是1，则输出banzhang，如果是2，则输出cls，如果是其它，输出renyao。</p> 
<blockquote> 
 <p>!/bin/bash<br> case $1 in<br> "1")<br>         echo "banzhang"<br> ;;</p> 
 <p>"2")<br>         echo "cls"<br> ;;<br> *)<br>         echo "renyao"<br> ;;<br> esac</p> 
</blockquote> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="617" src="https://images2.imgbox.com/38/37/lRwJRufL_o.png" width="793"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h3 style="text-align:justify;"><strong>（三）for 循环</strong></h3> 
<h5>1．基本语法1</h5> 
<blockquote> 
 <p style="margin-left:.0001pt;text-align:justify;">for (( 初始值;循环控制条件;变量变化 ))</p> 
 <p style="margin-left:.0001pt;text-align:justify;">  do</p> 
 <p style="margin-left:.0001pt;text-align:justify;">    程序</p> 
 <p style="margin-left:.0001pt;text-align:justify;">  done</p> 
</blockquote> 
<p style="margin-left:.0001pt;text-align:justify;">举个栗子:从1加到100</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="396" src="https://images2.imgbox.com/ca/fc/Lm4BC77q_o.png" width="556"></p> 
<h5>2.基本语法2</h5> 
<blockquote> 
 <p style="margin-left:.0001pt;text-align:justify;">for 变量 in 值1 值2 值3…</p> 
 <p style="margin-left:.0001pt;text-align:justify;">  do</p> 
 <p style="margin-left:.0001pt;text-align:justify;">    程序</p> 
 <p style="margin-left:.0001pt;text-align:justify;">  done</p> 
</blockquote> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="435" src="https://images2.imgbox.com/d5/a2/b4Sl791t_o.png" width="615"></p> 
<h4 style="margin-left:.0001pt;text-align:left;">比较$*和$@区别</h4> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>（a）$*和$@都表示传递给函数或脚本的所有参数，不被双引号“”包含时，都以$1 $2 …$n的形式输出所有参数。</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="623" src="https://images2.imgbox.com/67/35/DGcdPTho_o.png" width="637"></p> 
<p style="margin-left:.0001pt;text-align:left;"><strong>（b）当它们被双引号“”包含时，“$*”会将所有的参数作为一个整体，以“$1 $2 …$n”的形式输出所有参数；“$@”会将各个参数分开，以“$1” “$2”…”$n”的形式输出所有参数。</strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="606" src="https://images2.imgbox.com/fb/c0/Jpf233jL_o.png" width="926"></p> 
<h3 style="background-color:transparent;text-align:justify;"><strong>（四）while 循环</strong></h3> 
<h5>1．基本语法</h5> 
<blockquote> 
 <p style="margin-left:.0001pt;text-align:justify;">while [ 条件判断式 ]</p> 
 <p style="margin-left:.0001pt;text-align:justify;">  do</p> 
 <p style="margin-left:.0001pt;text-align:justify;">    程序</p> 
 <p style="margin-left:.0001pt;text-align:justify;">  done</p> 
</blockquote> 
<p style="margin-left:.0001pt;text-align:justify;">举个栗子:从1加到100</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="439" src="https://images2.imgbox.com/14/d7/9gnpcXbN_o.png" width="527"></p> 
<h2 style="text-align:justify;"><strong> 六、</strong><strong>read读取控制台输入</strong></h2> 
<h5>1．基本语法</h5> 
<blockquote> 
 <p style="margin-left:.0001pt;text-align:justify;">read(选项)(参数)</p> 
 <p style="margin-left:.0001pt;text-align:justify;">选项：</p> 
 <p style="margin-left:.0001pt;text-align:justify;">-p：指定读取值时的提示符；</p> 
 <p style="margin-left:.0001pt;text-align:justify;">-t：指定读取值时等待的时间（秒）。</p> 
 <p style="margin-left:.0001pt;text-align:justify;">参数</p> 
 <p style="margin-left:.0001pt;text-align:justify;">变量：指定读取值的变量名</p> 
</blockquote> 
<p style="margin-left:.0001pt;text-align:justify;">举个栗子：提示7秒内，读取控制台输入的名称</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="311" src="https://images2.imgbox.com/e0/26/tY2IBvcs_o.png" width="874"></p> 
<h2 style="text-align:justify;"><strong>七、函数</strong></h2> 
<h3 style="text-align:justify;"><strong>（一）系统函数</strong></h3> 
<h4>1．basename基本语法</h4> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>basename [string / pathname] [suffix]   （功能描述：basename命令会删掉所有的前缀包括最后一个（‘/’）字符，然后将字符串显示出来。</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">选项：</p> 
<p style="margin-left:.0001pt;text-align:justify;">suffix为后缀，如果suffix被指定了，basename会将pathname或string中的suffix去掉。</p> 
<p style="margin-left:.0001pt;text-align:justify;">举个栗子：</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="153" src="https://images2.imgbox.com/63/20/NVFrRhuG_o.png" width="941"></p> 
<h4 style="margin-left:.0001pt;text-align:justify;">2.dirname基本语法</h4> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>dirname 文件绝对路径 （功能描述：从给定的包含绝对路径的文件名中去除文件名（非目录的部分），然后返回剩下的路径（目录的部分））</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="57" src="https://images2.imgbox.com/32/64/PQExfMeU_o.png" width="950"></p> 
<h3 style="text-align:justify;"><strong>自定义函数</strong></h3> 
<h5>1．基本语法</h5> 
<blockquote> 
 <p style="margin-left:.0001pt;text-align:justify;">[ function ] funname[()]</p> 
 <p style="margin-left:.0001pt;text-align:justify;">{<!-- --></p> 
 <p style="margin-left:.0001pt;text-align:justify;">Action;</p> 
 <p style="margin-left:.0001pt;text-align:justify;">[return int;]</p> 
 <p style="margin-left:.0001pt;text-align:justify;">}</p> 
 <p style="margin-left:.0001pt;text-align:justify;">funname</p> 
</blockquote> 
<h4>2．经验技巧</h4> 
<ul><li style="margin-left:.0001pt;text-align:justify;">（1）必须在调用函数地方之前，先声明函数，shell脚本是逐行运行。不会像其它语言一样先编译。</li><li style="margin-left:.0001pt;text-align:justify;">（2）函数返回值，只能通过$?系统变量获得，可以显示加：return返回，如果不加，将以最后一条命令运行结果，作为返回值。return后跟数值n(0-255)</li></ul> 
<p style="margin-left:.0001pt;text-align:justify;">举个栗子：计算两个输入参数的和</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="529" src="https://images2.imgbox.com/66/3f/vvfcryNp_o.png" width="590"></p> 
<h2 style="text-align:justify;"><strong>八、Shell</strong><strong>工具（重点）</strong></h2> 
<h2></h2> 
<h3 style="text-align:justify;"><strong>（一）cut</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">cut的工作就是“剪”，具体的说就是在文件中负责剪切数据用的。cut 命令从文件的每一行剪切字节、字符和字段并将这些字节、字符和字段输出。</p> 
<h4>1.基本用法</h4> 
<p style="margin-left:.0001pt;text-align:justify;">cut [选项参数]  filename</p> 
<p style="margin-left:.0001pt;text-align:justify;">说明：默认分隔符是制表符</p> 
<h4>2.选项参数说明</h4> 
<table border="1" cellspacing="0" style="margin-left:33.75pt;width:382.75pt;"><tbody><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">选项参数</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">功能</p> </td></tr><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">-f</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">列号，提取第几列</p> </td></tr><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">-d</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">分隔符，按照指定分隔符分割列</p> </td></tr></tbody></table> 
<p>举个栗子：</p> 
<blockquote> 
 <p>准备数据 cut.txt</p> 
 <p><img alt="" height="187" src="https://images2.imgbox.com/30/3e/vVR38Ngl_o.png" width="309"></p> 
 <p><img alt="" height="813" src="https://images2.imgbox.com/89/bf/RmyBusrG_o.png" width="1009"></p> 
 <p style="margin-left:.0001pt;text-align:justify;">（5）切割ifconfig 后打印的IP地址</p> 
 <p style="margin-left:31.5pt;">ifconfig eth0 | grep "inet addr" | cut -d: -f 2 | cut -d" " -f1</p> 
</blockquote> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h3 style="text-align:justify;"><strong>（二）sed</strong></h3> 
<ul><li style="margin-left:.0001pt;text-align:justify;">sed是一种<span style="color:#ff0000;">流</span>编辑器，它一次处理一行内容。处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”，接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的</li><li style="margin-left:.0001pt;text-align:justify;">内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。<span style="color:#ff0000;">文件内容并没有改变</span>，除非你使用重定向存储输出。</li><li style="margin-left:.0001pt;text-align:justify;"> <h4>1.基本用法</h4> </li><li style="margin-left:.0001pt;text-align:justify;"> <p><strong>sed [选项参数]  ‘command’  filename</strong></p> </li><li style="margin-left:.0001pt;text-align:justify;"> <p>（1）选项参数说明</p> </li></ul> 
<table border="1" cellspacing="0" style="margin-left:33.75pt;width:382.75pt;"><tbody><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">选项参数</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">功能</p> </td></tr><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">-e</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">直接在指令列模式上进行sed的动作编辑。</p> </td></tr></tbody></table> 
<p>（2）命令功能描述</p> 
<table border="1" cellspacing="0" style="margin-left:33.75pt;width:382.75pt;"><tbody><tr><td style="width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">命令</p> </td><td style="width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">功能描述</p> </td></tr><tr><td style="width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;"><em>a</em><em> </em></p> </td><td style="width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">新增，a的后面可以接字串，在下一行出现</p> </td></tr><tr><td style="width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">d</p> </td><td style="width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">删除</p> </td></tr><tr><td style="width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">s</p> </td><td style="width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">查找并替换</p> </td></tr></tbody></table> 
<p>举个栗子：</p> 
<blockquote> 
 <p>准备数据： sed.txt</p> 
 <p><img alt="" height="197" src="https://images2.imgbox.com/01/3e/tPc6nMZt_o.png" width="352"></p> 
 <p style="margin-left:.0001pt;text-align:justify;">（1）将“mei nv”这个单词插入到sed.txt第二行下，打印。</p> 
 <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#ff0000;">注意：</span><span style="color:#ff0000;">文件并没有</span><span style="color:#ff0000;">改变</span></p> 
 <p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="476" src="https://images2.imgbox.com/d5/29/qX6PMQg3_o.png" width="795"></p> 
 <p style="margin-left:.0001pt;text-align:justify;">（2）删除sed.txt文件所有包含wo的行</p> 
 <p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="393" src="https://images2.imgbox.com/33/9e/vHOhbetw_o.png" width="700"></p> 
 <p style="margin-left:.0001pt;text-align:justify;">（3）将sed.txt文件中wo替换为ni</p> 
 <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#ff0000;">注意</span><span style="color:#ff0000;">：‘g’</span><span style="color:#ff0000;">表示global，全部替换</span></p> 
 <p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="252" src="https://images2.imgbox.com/a4/63/avmc0WYs_o.png" width="721"></p> 
 <p style="margin-left:.0001pt;text-align:justify;">（4）将sed.txt文件中的第二行删除并将wo替换为ni</p> 
 <p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="212" src="https://images2.imgbox.com/0d/93/N8QnHe6y_o.png" width="881"></p> 
</blockquote> 
<h3 style="text-align:justify;"><strong> （三）</strong><strong>awk</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">一个强大的文本分析工具，把文件逐行的读入，以空格为默认分隔符将每行切片，切开的部分再进行分析处理。</p> 
<h4>1.基本用法</h4> 
<ul><li style="margin-left:.0001pt;text-align:justify;">awk [选项参数] ‘pattern1{action1}  pattern2{action2}...’ filename</li><li style="margin-left:.0001pt;text-align:justify;">pattern：表示AWK在数据中查找的内容，就是匹配模式</li><li style="margin-left:.0001pt;text-align:justify;">action：在找到匹配内容时所执行的一系列命令</li><li style="margin-left:.0001pt;text-align:justify;">（1）选项参数说明</li></ul> 
<table border="1" cellspacing="0" style="margin-left:33.75pt;"><tbody><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">选项参数</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">功能</p> </td></tr><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">-F</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">指定输入文件折分隔符</p> </td></tr><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">-v</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">赋值一个用户定义变量</p> </td></tr></tbody></table> 
<p>（2）awk的内置变量</p> 
<table border="1" cellspacing="0" style="margin-left:33.75pt;width:382.75pt;"><tbody><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">变量</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">说明</p> </td></tr><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">FILENAME</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">文件名</p> </td></tr><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">NR</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">已读的记录数</p> </td></tr><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">NF</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">浏览记录的域的个数（切割后，列的个数）</p> </td></tr></tbody></table> 
<p>举个栗子：</p> 
<blockquote> 
 <p>准备数据：sudo cp /etc/passwd ./</p> 
 <p style="margin-left:.0001pt;text-align:justify;">（1）搜索passwd文件以root关键字开头的所有行，并输出该行的第7列。</p> 
 <p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="91" src="https://images2.imgbox.com/a4/50/3hdGKhqM_o.png" width="898"></p> 
 <p style="margin-left:.0001pt;text-align:justify;">（2）搜索passwd文件以root关键字开头的所有行，并输出该行的第1列和第7列，中间以“，”号分割。</p> 
 <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#ff0000;">注意：只有匹配了</span><span style="color:#ff0000;">pattern</span><span style="color:#ff0000;">的行才会执行action</span></p> 
 <p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="57" src="https://images2.imgbox.com/15/1b/laWGzzUB_o.png" width="947"></p> 
 <p style="margin-left:.0001pt;text-align:justify;">（3）只显示/etc/passwd的第一列和第七列，以逗号分割，且在所有行前面添加列名user，shell在最后一行添加"dahaige，/bin/zuishuai"。</p> 
 <p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="776" src="https://images2.imgbox.com/0b/4c/MYlmT9Oo_o.png" width="1200"></p> 
 <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#ff0000;">注意：B</span><span style="color:#ff0000;">EGIN </span><span style="color:#ff0000;">在所有数据读取行之前执行；</span><span style="color:#ff0000;">END </span><span style="color:#ff0000;">在所有数据执行之后执行。</span></p> 
 <p style="margin-left:.0001pt;text-align:justify;">（4）将passwd文件中的用户id增加数值1并输出</p> 
 <p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="620" src="https://images2.imgbox.com/36/7e/KF0XMxE1_o.png" width="856"></p> 
 <p style="margin-left:.0001pt;text-align:justify;">（5）统计passwd文件名，每行的行号，每行的列数</p> 
 <p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="686" src="https://images2.imgbox.com/15/99/sk0uqSfP_o.png" width="1200"></p> 
 <p style="margin-left:.0001pt;text-align:justify;">(6)切割IP</p> 
 <p style="margin-left:.0001pt;text-align:justify;">fconfig eth0 | grep "inet addr" | awk -F: '{print $2}' | awk -F " " '{print $1}'</p> 
 <p style="margin-left:.0001pt;text-align:justify;">(7)查询sed.txt中空行所在的行号</p> 
 <p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="62" src="https://images2.imgbox.com/a1/19/8keVs8G5_o.png" width="750"></p> 
</blockquote> 
<h3 style="text-align:justify;"><strong>（四）sort</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">sort命令是在Linux里非常有用，它将文件进行排序，并将排序结果标准输出。</p> 
<h4>1.基本语法</h4> 
<p>sort(选项)(参数)</p> 
<table border="1" cellspacing="0" style="margin-left:33.75pt;width:382.75pt;"><tbody><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">选项</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">说明</p> </td></tr><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">-n</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">依照数值的大小排序</p> </td></tr><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">-r</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">以相反的顺序来排序</p> </td></tr><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">-t</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">设置排序时所用的分隔字符</p> </td></tr><tr><td style="vertical-align:top;width:70.9pt;"> <p style="margin-left:.0001pt;text-align:justify;">-k</p> </td><td style="vertical-align:top;width:311.85pt;"> <p style="margin-left:.0001pt;text-align:justify;">指定需要排序的列</p> </td></tr></tbody></table> 
<p style="margin-left:.0001pt;text-align:justify;">参数：指定待排序的文件列表</p> 
<p style="margin-left:.0001pt;text-align:justify;">举个栗子：</p> 
<blockquote> 
 <p style="margin-left:.0001pt;text-align:justify;">准备数据：</p> 
 <p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="186" src="https://images2.imgbox.com/96/0e/scxDrwUz_o.png" width="247"></p> 
 <p style="margin-left:.0001pt;text-align:justify;">（1）按照“：”分割后的第三列倒序排序</p> 
 <p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="283" src="https://images2.imgbox.com/52/c7/uYcnzsnN_o.png" width="727"></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3c7a5fcb64892deeca0a5bc686d2f90f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">qnx log写入文件 简单实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7ebc6091ed253e1da8a933bc1602ccc4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python中数字和字符串的最佳实践(下)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>