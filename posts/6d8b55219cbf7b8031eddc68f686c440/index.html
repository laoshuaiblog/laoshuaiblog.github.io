<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ajax提交返回boolean类型 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/6d8b55219cbf7b8031eddc68f686c440/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="ajax提交返回boolean类型">
  <meta property="og:description" content="function validateEnameExsit() {
var ename = $(&#34;#ename&#34;).val();
if($.trim(ename)==&#39;&#39;) {
$(&#34;#result&#34;).attr(&#39;color&#39;,&#39;#FF0000&#39;); $(&#34;#result&#34;).html(&#39;用户名不能为空&#39;);
return false;
}else{
$.ajax({ url : &#34;empManagerAction!validateEname.do&#34;,// 后台处理程序 type : &#34;post&#34;,// 数据发送方式 dataType : &#34;json&#34;,// 接受数据格式 data : &#34;employeeForm.ename=&#34;&#43;ename,// 要传递的数据
cache: false,//禁用缓存 // 回传函数
success : function(responsedata) {
if(responsedata==&#39;0&#39;){
$(&#34;#result&#34;).attr(&#39;color&#39;,&#39;B3E6DF&#39;); $(&#34;#result&#34;).html(&#39;恭喜!该用户名还未被注册!&#39;);
return true;
}else if(responsedata==&#39;1&#39;){
$(&#34;#result&#34;).attr(&#39;color&#39;,&#39;#FF0000&#39;);
$(&#34;#result&#34;).html(&#39;对不起!用户名已存在!&#39;);
return false;
}
}
});
}
}
解决方案很多，提供以下几个： 1 、在ajax方法外面定义临时遍历，接收boolean值也就是success中的值,这种方式需要同步才能接收到值 因为ajax不会等这个方法运行完了才执行下面的代码的，当然可以用setTimeout延时下 2 、可以把你的值放在$.dada()的缓存中保存；如：$( &#34;div&#34; ).data( &#34;temp&#34; , true);alert($( &#34;div&#34; ).data( &#34;temp&#34; )); 3 、可以设置在属性中保存，然后取到。如果不想要了还可以删掉 $(this).">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2013-08-26T13:19:06+08:00">
    <meta property="article:modified_time" content="2013-08-26T13:19:06+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ajax提交返回boolean类型</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>function validateEnameExsit() {<!-- --><br> var ename = $("#ename").val();<br> if($.trim(ename)=='') {<!-- --><br>     $("#result").attr('color','#FF0000'); <br> $("#result").html('用户名不能为空');<br> return false;<br> }else{<!-- --><br> $.ajax({ <br> url : "empManagerAction!validateEname.do",// 后台处理程序 <br> type : "post",// 数据发送方式 <br> dataType : "json",// 接受数据格式 <br> data : "employeeForm.ename="+ename,// 要传递的数据<br> cache: false,//禁用缓存 <br> // 回传函数<br> success : function(responsedata) {<!-- --><br> if(responsedata=='0'){<!-- --><br>     $("#result").attr('color','B3E6DF'); <br> $("#result").html('恭喜!该用户名还未被注册!');<br> return true;<br> }else if(responsedata=='1'){<!-- --><br> $("#result").attr('color','#FF0000');<br> $("#result").html('对不起!用户名已存在!');<br> return false;<br> }<br> }<br> });<br> }<br> }<br> <br> </p> 
<p> </p> 
<div class="line number4 index3 alt1"> 
 <code class="css plain">解决方案很多，提供以下几个： </code> 
</div> 
<div class="line number5 index4 alt2"> 
 <code class="css value">1</code> 
 <code class="css plain">、在ajax方法外面定义临时遍历，接收boolean值也就是success中的值,这种方式需要同步才能接收到值 </code> 
</div> 
<div class="line number6 index5 alt1"> 
 <code class="css spaces">   </code> 
 <code class="css plain">因为ajax不会等这个方法运行完了才执行下面的代码的，当然可以用setTimeout延时下 </code> 
</div> 
<div class="line number7 index6 alt2"> 
 <code class="css value">2</code> 
 <code class="css plain">、可以把你的值放在$.dada()的缓存中保存；如：$(</code> 
 <code class="css string">"div"</code> 
 <code class="css plain">).data(</code> 
 <code class="css string">"temp"</code> 
 <code class="css plain">, true);alert($(</code> 
 <code class="css string">"div"</code> 
 <code class="css plain">).data(</code> 
 <code class="css string">"temp"</code> 
 <code class="css plain">)); </code> 
</div> 
<div class="line number8 index7 alt1"> 
 <code class="css value">3</code> 
 <code class="css plain">、可以设置在属性中保存，然后取到。如果不想要了还可以删掉 </code> 
</div> 
<div class="line number9 index8 alt2"> 
 <code class="css plain">$(this).</code> 
 <code class="css value">attr</code> 
 <code class="css plain">(</code> 
 <code class="css string">"temp"</code> 
 <code class="css plain">, true); </code> 
</div> 
<div class="line number10 index9 alt1"> 
 <code class="css plain">var temp = false; </code> 
</div> 
<div class="line number11 index10 alt2"> 
 <code class="css plain">$.ajax({ </code> 
</div> 
<div class="line number12 index11 alt1"> 
 <code class="css spaces">    </code> 
 <code class="css value">url</code>  
 <code class="css plain">: </code> 
 <code class="css string">"empManagerAction!validateEname.do"</code> 
 <code class="css plain">,// 后台处理程序 </code> 
</div> 
<div class="line number13 index12 alt2"> 
 <code class="css spaces">    </code> 
 <code class="css plain">type : </code> 
 <code class="css string">"post"</code> 
 <code class="css plain">,// 数据发送方式 </code> 
</div> 
<div class="line number14 index13 alt1"> 
 <code class="css spaces">    </code> 
 <code class="css plain">dataType : </code> 
 <code class="css string">"json"</code> 
 <code class="css plain">,// 接受数据格式 </code> 
</div> 
<div class="line number15 index14 alt2"> 
 <code class="css spaces">    </code> 
 <code class="css plain">data : </code> 
 <code class="css string">"employeeForm.ename="</code> 
 <code class="css plain">+ename,// 要传递的数据 </code> 
</div> 
<div class="line number16 index15 alt1"> 
 <code class="css spaces">    </code> 
 <code class="css plain">cache: false,//禁用缓存 </code> 
</div> 
<div class="line number17 index16 alt2"> 
 <code class="css spaces">    </code> 
 <code class="css plain">// 回传函数 </code> 
</div> 
<div class="line number18 index17 alt1"> 
 <code class="css spaces">    </code> 
 <code class="css plain">success : function(responsedata) { </code> 
</div> 
<div class="line number19 index18 alt2"> 
 <code class="css spaces">        </code> 
 <code class="css plain">if(responsedata==</code> 
 <code class="css string">'0'</code> 
 <code class="css plain">){ </code> 
</div> 
<div class="line number20 index19 alt1"> 
 <code class="css spaces">            </code> 
 <code class="css plain">$(</code> 
 <code class="css string">"#result"</code> 
 <code class="css plain">).</code> 
 <code class="css value">attr</code> 
 <code class="css plain">(</code> 
 <code class="css string">'color'</code> 
 <code class="css plain">,</code> 
 <code class="css string">'B3E6DF'</code> 
 <code class="css plain">);  </code> 
</div> 
<div class="line number21 index20 alt2"> 
 <code class="css spaces">            </code> 
 <code class="css plain">$(</code> 
 <code class="css string">"#result"</code> 
 <code class="css plain">).html(</code> 
 <code class="css string">'恭喜!该用户名还未被注册!'</code> 
 <code class="css plain">); </code> 
</div> 
<div class="line number22 index21 alt1"> 
 <code class="css spaces">            </code> 
 <code class="css plain">//return true; </code> 
</div> 
<div class="line number23 index22 alt2"> 
 <code class="css spaces">            </code> 
 <code class="css plain">temp = true;//$(</code> 
 <code class="css string">"#result"</code> 
 <code class="css plain">).</code> 
 <code class="css value">attr</code> 
 <code class="css plain">(</code> 
 <code class="css string">"temp"</code> 
 <code class="css plain">, true); </code> 
</div> 
<div class="line number24 index23 alt1"> 
 <code class="css spaces">        </code> 
 <code class="css plain">}else if(responsedata==</code> 
 <code class="css string">'1'</code> 
 <code class="css plain">){ </code> 
</div> 
<div class="line number25 index24 alt2"> 
 <code class="css spaces">            </code> 
 <code class="css plain">$(</code> 
 <code class="css string">"#result"</code> 
 <code class="css plain">).</code> 
 <code class="css value">attr</code> 
 <code class="css plain">(</code> 
 <code class="css string">'color'</code> 
 <code class="css plain">,</code> 
 <code class="css string">'#FF0000'</code> 
 <code class="css plain">); </code> 
</div> 
<div class="line number26 index25 alt1"> 
 <code class="css spaces">            </code> 
 <code class="css plain">$(</code> 
 <code class="css string">"#result"</code> 
 <code class="css plain">).html(</code> 
 <code class="css string">'对不起!用户名已存在!'</code> 
 <code class="css plain">); </code> 
</div> 
<div class="line number27 index26 alt2"> 
 <code class="css spaces">            </code> 
 <code class="css plain">//return false; </code> 
</div> 
<div class="line number28 index27 alt1"> 
 <code class="css spaces">            </code> 
 <code class="css plain">temp = false;//$(</code> 
 <code class="css string">"#result"</code> 
 <code class="css plain">).</code> 
 <code class="css value">attr</code> 
 <code class="css plain">(</code> 
 <code class="css string">"temp"</code> 
 <code class="css plain">, false); </code> 
</div> 
<div class="line number29 index28 alt2"> 
 <code class="css spaces">        </code> 
 <code class="css plain">} </code> 
</div> 
<div class="line number30 index29 alt1"> 
 <code class="css spaces">    </code> 
 <code class="css plain">} </code> 
</div> 
<div class="line number31 index30 alt2"> 
 <code class="css plain">}); </code> 
</div> 
<div class="line number32 index31 alt1"> 
 <code class="css plain">alert($(</code> 
 <code class="css string">"#result"</code> 
 <code class="css plain">).</code> 
 <code class="css value">attr</code> 
 <code class="css plain">(</code> 
 <code class="css string">"temp"</code> 
 <code class="css plain">));//这样就可以取值了</code> 
</div> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e3fff4f37c84c674938937cdddbef8ac/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java去掉jsp标签内容的方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ae760172f2431aba9ef465d671ca1625/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">POJ1002 487-3279</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>