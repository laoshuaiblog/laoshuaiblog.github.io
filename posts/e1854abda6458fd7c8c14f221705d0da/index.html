<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SQLiteC/C&#43;&#43;接口详细介绍sqlite3_stmt类（九） - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/e1854abda6458fd7c8c14f221705d0da/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="SQLiteC/C&#43;&#43;接口详细介绍sqlite3_stmt类（九）">
  <meta property="og:description" content="返回：SQLite—系列文章目录 上一篇：SQLiteC/C&#43;&#43;接口详细介绍sqlite3_stmt类（八） 下一篇： SQLiteC/C&#43;&#43;接口详细介绍sqlite3_stmt类（十） 33、sqlite3_column_table_name 函数 `sqlite3_column_table_name` 用于返回结果集中指定列所属的表的名称。如果查询中列使用了 `AS` 语句为列指定了别名，则该函数返回的是别名指定的表的名称，而不是原始表的名称。返回值是UTF-8编码的字符串。
下面是 `sqlite3_column_table_name` 函数的详细原型：
const char *sqlite3_column_table_name( sqlite3_stmt*, /* Prepared statement */ int N /* Index of the column */ ); 函数参数说明：
- 第一个参数是sqlite3_stmt类型的已编译SQL语句对象，这个对象里面包含了查询结果。
- 第二个参数是int类型的，表示查询结果中指定的列索引，从0开始计数。
返回值是char *类型的指针，指向指定列所在的表名称的UTF-8编码的字符串。
下面是 `sqlite3_column_table_name` 函数的例子：
sqlite3_stmt *stmt; const char *query = &#34;SELECT u.name, p.name AS product_name FROM users u JOIN products p ON u.id=p.user_id WHERE u.id=?&#34;; sqlite3_prepare_v2(db, query, -1, &amp;amp;stmt, NULL); sqlite3_bind_int(stmt, 1, 1); int columnCount = sqlite3_column_count(stmt); for (int i = 0; i &amp;lt; columnCount; i&#43;&#43;) { const char *tableName = sqlite3_column_table_name(stmt, i); printf(&#34;">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-22T10:56:15+08:00">
    <meta property="article:modified_time" content="2024-03-22T10:56:15+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SQLiteC/C&#43;&#43;接口详细介绍sqlite3_stmt类（九）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4 style="text-align:center;">  返回：<a href="https://blog.csdn.net/lyfwwb/article/details/136665169" title="SQLite—系列文章目录">SQLite—系列文章目录</a>   </h4> 
<h4>上一篇：<a href="https://blog.csdn.net/lyfwwb/article/details/136895174" title="SQLiteC/C++接口详细介绍sqlite3_stmt类（八）">SQLiteC/C++接口详细介绍sqlite3_stmt类（八）</a></h4> 
<h4>下一篇： <a href="https://blog.csdn.net/lyfwwb/article/details/136895353" title="SQLiteC/C++接口详细介绍sqlite3_stmt类（十）">SQLiteC/C++接口详细介绍sqlite3_stmt类（十）</a></h4> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/53/cf/ceJ2G1MO_o.gif"></p> 
<h4> 33、sqlite3_column_table_name</h4> 
<p>函数 `sqlite3_column_table_name` 用于返回结果集中指定列所属的表的名称。如果查询中列使用了 `AS` 语句为列指定了别名，则该函数返回的是别名指定的表的名称，而不是原始表的名称。返回值是UTF-8编码的字符串。</p> 
<p>下面是 `sqlite3_column_table_name` 函数的详细原型：</p> 
<pre><code class="language-cpp">const char *sqlite3_column_table_name(
  sqlite3_stmt*,   /* Prepared statement */
  int N            /* Index of the column */
);</code></pre> 
<p>函数参数说明：</p> 
<p>- 第一个参数是sqlite3_stmt类型的已编译SQL语句对象，这个对象里面包含了查询结果。<br> - 第二个参数是int类型的，表示查询结果中指定的列索引，从0开始计数。</p> 
<p>返回值是char *类型的指针，指向指定列所在的表名称的UTF-8编码的字符串。</p> 
<p>下面是 `sqlite3_column_table_name` 函数的例子：</p> 
<pre><code class="language-cpp">sqlite3_stmt *stmt;
const char *query = "SELECT u.name, p.name AS product_name FROM users u JOIN products p ON u.id=p.user_id WHERE u.id=?";
sqlite3_prepare_v2(db, query, -1, &amp;stmt, NULL);
sqlite3_bind_int(stmt, 1, 1);
int columnCount = sqlite3_column_count(stmt);
for (int i = 0; i &lt; columnCount; i++) {
  const char *tableName = sqlite3_column_table_name(stmt, i);
  printf("Column %d Table Name: %s\n", i, tableName);
}</code></pre> 
<h4>34、sqlite3_column_table_name16 </h4> 
<p>函数 `sqlite3_column_table_name16` 与 `sqlite3_column_table_name` 类似，不同之处在于返回值是指定列所属的表的名称的UTF-16编码的字符串。</p> 
<p>下面是函数 `sqlite3_column_table_name16` 的详细原型：</p> 
<pre><code class="language-cpp">const void *sqlite3_column_table_name16(
  sqlite3_stmt*,   /* Prepared statement */
  int N            /* Index of the column */
);</code></pre> 
<p>函数参数说明：</p> 
<p>- 第一个参数是 sqlite3_stmt 类型的已编译 SQL 语句对象，这个对象里面包含了查询结果。<br> - 第二个参数是 int 类型的，表示查询结果中指定的列索引，从0开始计数。</p> 
<p>返回值是指定列所属的表的名称的 UTF-16 编码的字符串。</p> 
<p>下面是 `sqlite3_column_table_name16` 函数的例子：</p> 
<pre><code class="language-cpp">sqlite3_stmt *stmt;
const char *query = "SELECT u.name, p.name AS product_name FROM users u JOIN products p ON u.id=p.user_id WHERE u.id=?";
sqlite3_prepare_v2(db, query, -1, &amp;stmt, NULL);
sqlite3_bind_int(stmt, 1, 1);
int columnCount = sqlite3_column_count(stmt);
for (int i = 0; i &lt; columnCount; i++) {
  const void *tableName = sqlite3_column_table_name16(stmt, i);
  printf("Column %d Table Name: %ls\n", i, (const wchar_t*)tableName);
}</code></pre> 
<p>在打印结果时，可以将 UTF-16 编码的字符串转换为宽字符字符串。</p> 
<h4> 35、sqlite3_column_text  </h4> 
<p> 函数 `sqlite3_column_text` 用于返回结果集中指定列的文本值。该函数返回指定列的文本内容的UTF-8编码的字符串。</p> 
<p>下面是 `sqlite3_column_text` 函数的详细原型：</p> 
<pre><code class="language-cpp">const unsigned char *sqlite3_column_text(
  sqlite3_stmt*,   /* Prepared statement */
  int N            /* Index of the column */</code></pre> 
<p>函数参数说明：</p> 
<p>- 第一个参数是sqlite3_stmt类型的已编译SQL语句对象，这个对象里面包含了查询结果。<br> - 第二个参数是int类型的，表示查询结果中指定的列索引，从0开始计数。</p> 
<p>返回值是const unsigned char类型的指针，指向指定列的文本值的UTF-8编码的字符串。</p> 
<p>下面是 `sqlite3_column_text` 函数的例子：</p> 
<pre><code class="language-cpp">sqlite3_stmt *stmt;
const char *query = "SELECT name FROM users WHERE id=?";
sqlite3_prepare_v2(db, query, -1, &amp;stmt, NULL);
sqlite3_bind_int(stmt, 1, 1);
int columnCount = sqlite3_column_count(stmt);
for (int i = 0; i &lt; columnCount; i++) {
  const unsigned char *text = sqlite3_column_text(stmt, i);
  printf("Column %d Value: %s\n", i, text);
}</code></pre> 
<p>如果需要将UTF-8编码的字符串转换为宽字符字符串，可以使用相应的转换函数。</p> 
<p>- 将UTF-8编码的字符串转换为宽字符字符串，可以使用 `mbstowcs` 函数。<br> - 将宽字符字符串转换为UTF-8编码的字符串，可以使用 `wcstombs` 函数。</p> 
<h4>36、sqlite3_column_text16      </h4> 
<p>函数 `sqlite3_column_text16` 用于返回结果集中指定列的文本值，返回值是指定列的文本内容的 UTF-16 编码的字符串。</p> 
<p>下面是 `sqlite3_column_text16` 函数的详细原型：</p> 
<pre><code class="language-cpp">const void *sqlite3_column_text16(
  sqlite3_stmt*,   /* Prepared statement */
  int N            /* Index of the column */
);</code></pre> 
<p>函数参数说明：</p> 
<p>- 第一个参数是 sqlite3_stmt 类型的已编译 SQL 语句对象，这个对象里面包含了查询结果。<br> - 第二个参数是 int 类型的，表示查询结果中指定的列索引，从0开始计数。</p> 
<p>返回值是 const void 类型的指针，指向指定列的文本值的 UTF-16 编码的字符串。</p> 
<p>下面是函数 `sqlite3_column_text16` 的例子：</p> 
<pre><code class="language-cpp">sqlite3_stmt *stmt;
const char *query = "SELECT name FROM users WHERE id=?";
sqlite3_prepare_v2(db, query, -1, &amp;stmt, NULL);
sqlite3_bind_int(stmt, 1, 1);
int columnCount = sqlite3_column_count(stmt);
for (int i = 0; i &lt; columnCount; i++) {
  const void *text = sqlite3_column_text16(stmt, i);
  printf("Column %d Value: %ls\n", i, (const wchar_t*)text);
}</code></pre> 
<p>如果需要将UTF-16编码的字符串转换为宽字符字符串，可以直接将转换后的字符串打印出来。</p> 
<p>注意：并不是所有的系统都支持 wchar_t 类型，如果需要跨平台编写代码，可以使用带有 `_t` 后缀的标准 C 库函数替代宽字符函数，例如 `_wtoi`、`_wtoi64`、`_wtof`、`_wctomb`、`_wcstombs` 等函数都是宽字符函数的标准 C 版本。</p> 
<h4>37、sqlite3_column_type</h4> 
<p>函数 `sqlite3_column_text16` 用于返回结果集中指定列的文本值，返回值是指定列的文本内容的 UTF-16 编码的字符串。</p> 
<p>下面是 `sqlite3_column_text16` 函数的详细原型：</p> 
<pre><code class="language-cpp">const void *sqlite3_column_text16(
  sqlite3_stmt*,   /* Prepared statement */
  int N            /* Index of the column */
);</code></pre> 
<p>函数参数说明：</p> 
<p>- 第一个参数是 sqlite3_stmt 类型的已编译 SQL 语句对象，这个对象里面包含了查询结果。<br> - 第二个参数是 int 类型的，表示查询结果中指定的列索引，从0开始计数。</p> 
<p>返回值是 const void 类型的指针，指向指定列的文本值的 UTF-16 编码的字符串。</p> 
<p>下面是函数 `sqlite3_column_text16` 的例子：</p> 
<pre><code class="language-cpp">sqlite3_stmt *stmt;
const char *query = "SELECT name FROM users WHERE id=?";
sqlite3_prepare_v2(db, query, -1, &amp;stmt, NULL);
sqlite3_bind_int(stmt, 1, 1);
int columnCount = sqlite3_column_count(stmt);
for (int i = 0; i &lt; columnCount; i++) {
  const void *text = sqlite3_column_text16(stmt, i);
  printf("Column %d Value: %ls\n", i, (const wchar_t*)text);
}</code></pre> 
<p>如果需要将UTF-16编码的字符串转换为宽字符字符串，可以直接将转换后的字符串打印出来。</p> 
<p>注意：并不是所有的系统都支持 wchar_t 类型，如果需要跨平台编写代码，可以使用带有 `_t` 后缀的标准 C 库函数替代宽字符函数，例如 `_wtoi`、`_wtoi64`、`_wtof`、`_wctomb`、`_wcstombs` 等函数都是宽字符函数的标准 C 版本。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/63fe485def796d9dd7977c4dc0a80cb7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Ubuntu 安装 Carla仿真环境</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/39e59de54a99fcf71f6c5b9babbd09a0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">01-JavaScript基础语法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>