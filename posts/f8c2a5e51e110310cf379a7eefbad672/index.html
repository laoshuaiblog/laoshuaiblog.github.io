<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>arcgis 网络分析 生成可达范围/等时线 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/f8c2a5e51e110310cf379a7eefbad672/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="arcgis 网络分析 生成可达范围/等时线">
  <meta property="og:description" content="需求：生成从地铁站步行10分钟可达的范围面图层。
线图层预处理 在精度要求不是很高的情况下，可采用OSM路网，从中剔除不允许步行的道路类型：高速公路、快速路。
在路网图层中新增一个字段“步行时间”，用字段计算器，时间=距离/速度，算出这个数值。
生成网络数据集 在Arcmap中，customize - extensions，勾选network analyst，然后关闭这个对话框。这步是激活网络分析这个功能。
点catalog那个图标，从中选择路网图层（线图层），右键，new network dataset，输入网络数据集的名称，然后点击下一页。
这里有个小问题，如果对话框底部的下一页按钮被底下任务栏挡住显示不出来，就在电脑的设置里，系统-屏幕-缩放与布局，把大小设成100%，就能正常显示了。
然后应该是Do you want to model turns...就选yes，然后下一页。
点connectivity，选any vertex（我感觉应该是选这个，想了解具体内容可以查看官方文档，下同）
然后应该是Using Z... 选择None，然后下一页。
这里到了很关键的一步，要设置cost和restriction。如果你有单向交通的要求就在这里设置，我这里考虑到是步行就无所谓。但我的需求是10分钟可达性，也就是说cost是时间，所以我这里add new attribute，名称就起成time，类型是cost，单位是minutes。
双击新加的time那行，出来的框里有两行内容，一个from-to，一个to-from，这俩在type里都选field，value里选之前自己算好的时间字段。其实也可以这里用字段表达式：时间=距离/速度，但放在前面算好应该更方便。设置好了的话time这行前面的小感叹号应该会消失。
默认列出来的原来两个length和oneway我这里用不上就先删掉了。
下一页travel mode，我之前还自己设了一下，不过感觉设不设置都行，应该可以直接下一页。
下一页设置方向，你有设置方向的需求就去官方文档好好看下咋设，我这里就选no了。
下一页是summary，可以看一下之前设置的内容都对不对，然后finish。
然后弹出来对话框yes就好，就是确认建立网络数据集、把网络数据集加入图层。
服务区分析 customize - toolbars - network analyst，出现网络分析的工具框，点network analyst - new service area，会发现左侧table of contents栏里多出了一堆东西，这就对了。
点框里network analyst右边的小图标（一个窗口前面一个小旗子），也就是network analyst window，左侧又出现一栏，最上面有个facilities(0)，右键，load locations，load from里面选你要做可达性分析的那个点图层，我这里就选择地铁站图层。然后ok。发现facilities(0)里面的0变成了点图层里面的要素个数。
最左侧service area一栏，右上有个方形的小图标，点一下，出现layer properties对话框。点analysis settings。
impedance（阻抗）就选择刚才设置好的time(minutes)，default breaks我想做10分钟的等时线，就写10，你也可以同时做多个时间（比如5、10、15）的等时线。
对话框里的其他设置可以自己看一眼，应该不用改。确定。
layer properties里面的polygon generation里还有关于生成的面图层的形式设置，可以自己看看。
然后在network analyst里面点左数第4个小图标（solve），等时线就生成了，是个面图层。">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-11-07T19:38:45+08:00">
    <meta property="article:modified_time" content="2023-11-07T19:38:45+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">arcgis 网络分析 生成可达范围/等时线</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>需求：生成从地铁站步行10分钟可达的范围面图层。</p> 
<h2>线图层预处理</h2> 
<p>在精度要求不是很高的情况下，可采用OSM路网，从中剔除不允许步行的道路类型：高速公路、快速路。</p> 
<p>在路网图层中新增一个字段“步行时间”，用字段计算器，时间=距离/速度，算出这个数值。</p> 
<h2>生成网络数据集</h2> 
<p>在Arcmap中，customize - extensions，勾选network analyst，然后关闭这个对话框。这步是激活网络分析这个功能。</p> 
<p>点catalog那个图标，从中选择路网图层（线图层），右键，new network dataset，输入网络数据集的名称，然后点击下一页。</p> 
<p>这里有个小问题，如果对话框底部的下一页按钮被底下任务栏挡住显示不出来，就在电脑的设置里，系统-屏幕-缩放与布局，把大小设成100%，就能正常显示了。</p> 
<p>然后应该是Do you want to model turns...就选yes，然后下一页。</p> 
<p>点connectivity，选any vertex（我感觉应该是选这个，想了解具体内容可以查看官方文档，下同）</p> 
<p>然后应该是Using Z... 选择None，然后下一页。</p> 
<p>这里到了很关键的一步，要设置cost和restriction。如果你有单向交通的要求就在这里设置，我这里考虑到是步行就无所谓。但我的需求是10分钟可达性，也就是说cost是时间，所以我这里add new attribute，名称就起成time，类型是cost，单位是minutes。</p> 
<p>双击新加的time那行，出来的框里有两行内容，一个from-to，一个to-from，这俩在type里都选field，value里选之前自己算好的时间字段。其实也可以这里用字段表达式：时间=距离/速度，但放在前面算好应该更方便。设置好了的话time这行前面的小感叹号应该会消失。</p> 
<p>默认列出来的原来两个length和oneway我这里用不上就先删掉了。</p> 
<p>下一页travel mode，我之前还自己设了一下，不过感觉设不设置都行，应该可以直接下一页。</p> 
<p>下一页设置方向，你有设置方向的需求就去官方文档好好看下咋设，我这里就选no了。</p> 
<p>下一页是summary，可以看一下之前设置的内容都对不对，然后finish。</p> 
<p>然后弹出来对话框yes就好，就是确认建立网络数据集、把网络数据集加入图层。</p> 
<h2>服务区分析</h2> 
<p>customize - toolbars - network analyst，出现网络分析的工具框，点network analyst - new service area，会发现左侧table of contents栏里多出了一堆东西，这就对了。</p> 
<p>点框里network analyst右边的小图标（一个窗口前面一个小旗子），也就是network analyst window，左侧又出现一栏，最上面有个facilities(0)，右键，load locations，load from里面选你要做可达性分析的那个点图层，我这里就选择地铁站图层。然后ok。发现facilities(0)里面的0变成了点图层里面的要素个数。</p> 
<p>最左侧service area一栏，右上有个方形的小图标，点一下，出现layer properties对话框。点analysis settings。</p> 
<p>impedance（阻抗）就选择刚才设置好的time(minutes)，default breaks我想做10分钟的等时线，就写10，你也可以同时做多个时间（比如5、10、15）的等时线。</p> 
<p>对话框里的其他设置可以自己看一眼，应该不用改。确定。</p> 
<p>layer properties里面的polygon generation里还有关于生成的面图层的形式设置，可以自己看看。</p> 
<p>然后在network analyst里面点左数第4个小图标（solve），等时线就生成了，是个面图层。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cd14ef9fdcf80ed3cafa007ee0c87073/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">pyodbc连接gaussdb</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c7a2059065ec72e61c7136fb4aab9365/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">TMS320F28034学习笔记（一）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>