<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>æ·±åº¦æ¢è®¨ Golang ä¸­å¹¶å‘å‘é€ HTTP è¯·æ±‚çš„æœ€ä½³æŠ€æœ¯ - è€å¸…çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/3d9e0d0633e68c7c683b52d8be6b839d/">
  <meta property="og:site_name" content="è€å¸…çš„åšå®¢">
  <meta property="og:title" content="æ·±åº¦æ¢è®¨ Golang ä¸­å¹¶å‘å‘é€ HTTP è¯·æ±‚çš„æœ€ä½³æŠ€æœ¯">
  <meta property="og:description" content="ğŸ’‚ ä¸ªäººç½‘ç«™:ã€ æµ·æ‹¥ã€‘ã€ç¥çº§ä»£ç èµ„æºç½‘ç«™ã€‘ã€åŠå…¬ç¥å™¨ã€‘ğŸ¤Ÿ åŸºäºWebç«¯æ‰“é€ çš„ï¼šğŸ‘‰è½»é‡åŒ–å·¥å…·åˆ›ä½œå¹³å°ğŸ’… æƒ³å¯»æ‰¾å…±åŒå­¦ä¹ äº¤æµçš„å°ä¼™ä¼´ï¼Œè¯·ç‚¹å‡»ã€å…¨æ ˆæŠ€æœ¯äº¤æµç¾¤ã€‘ åœ¨ Golang é¢†åŸŸï¼Œå¹¶å‘å‘é€ HTTP è¯·æ±‚æ˜¯ä¼˜åŒ– Web åº”ç”¨ç¨‹åºçš„ä¸€é¡¹é‡è¦æŠ€èƒ½ã€‚æœ¬æ–‡æ¢è®¨äº†å®ç°æ­¤ç›®çš„çš„å„ç§æ–¹æ³•ï¼Œä»åŸºæœ¬çš„ goroutine åˆ°æ¶‰åŠé€šé“å’Œsync.WaitGroup çš„é«˜çº§æŠ€æœ¯ã€‚æˆ‘ä»¬å°†æ·±å…¥ç ”ç©¶å¹¶å‘ç¯å¢ƒä¸­æ€§èƒ½å’Œé”™è¯¯å¤„ç†çš„æœ€ä½³å®è·µï¼Œä¸ºä½ æä¾›æé«˜ Go åº”ç”¨ç¨‹åºé€Ÿåº¦å’Œå¯é æ€§çš„ç­–ç•¥ã€‚è®©æˆ‘ä»¬æ·±å…¥æ¢è®¨ Golang ä¸­å¹¶å‘ HTTP è¯·æ±‚çš„ä¸–ç•Œï¼
ä½¿ç”¨ Goroutines çš„åŸºæœ¬æ–¹æ³• å½“è°ˆåˆ°åœ¨ Golang ä¸­å®ç°å¹¶å‘æ—¶ï¼Œæœ€ç›´æ¥çš„æ–¹æ³•æ˜¯ä½¿ç”¨ goroutineã€‚è¿™äº›æ˜¯ Go ä¸­å¹¶å‘çš„æ„å»ºå—ï¼Œæä¾›äº†ä¸€ç§ç®€å•è€Œå¼ºå¤§çš„å¹¶å‘æ‰§è¡Œå‡½æ•°çš„æ–¹æ³•ã€‚
Goroutine å…¥é—¨ è¦å¯åŠ¨ä¸€ä¸ª goroutineï¼Œåªéœ€åœ¨å‡½æ•°è°ƒç”¨å‰åŠ ä¸Šgoå…³é”®å­—å³å¯ã€‚è¿™ä¼šå°†å‡½æ•°ä½œä¸º goroutine å¯åŠ¨ï¼Œä»è€Œå…è®¸ä¸»ç¨‹åºç»§ç»­ç‹¬ç«‹è¿è¡Œã€‚è¿™å°±åƒå¼€å§‹ä¸€é¡¹ä»»åŠ¡å¹¶ç»§ç»­å‰è¿›è€Œä¸ç­‰å¾…å®ƒå®Œæˆã€‚
ä¾‹å¦‚ï¼Œè€ƒè™‘å‘é€ HTTP è¯·æ±‚çš„åœºæ™¯ã€‚é€šå¸¸ï¼Œä½ ä¼šè°ƒç”¨ç±»ä¼¼ çš„å‡½æ•°sendRequest()ï¼Œå¹¶ä¸”ä½ çš„ç¨‹åºå°†ç­‰å¾…è¯¥å‡½æ•°å®Œæˆã€‚ä½¿ç”¨ goroutineï¼Œä½ å¯ä»¥åŒæ—¶æ‰§è¡Œæ­¤æ“ä½œï¼š
go sendRequest(&#34;http://example.com&#34;) å¤„ç†å¤šä¸ªè¯·æ±‚ å‡è®¾ä½ æœ‰ä¸€ä¸ª URL åˆ—è¡¨ï¼Œå¹¶ä¸”éœ€è¦å‘æ¯ä¸ª URL å‘é€ä¸€ä¸ª HTTP è¯·æ±‚ã€‚å¦‚æœæ²¡æœ‰ goroutineï¼Œä½ çš„ç¨‹åºå°†ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°å‘é€è¿™äº›è¯·æ±‚ï¼Œè¿™éå¸¸è€—æ—¶ã€‚ä½¿ç”¨ goroutineï¼Œä½ å‡ ä¹å¯ä»¥åŒæ—¶å‘é€å®ƒä»¬ï¼š
urls := []string{&#34;http://example.com&#34;, &#34;http://another.com&#34;, ...} for _, url := range urls { go sendRequest(url) } è¿™ä¸ªå¾ªç¯ä¸ºæ¯ä¸ª URL å¯åŠ¨ä¸€ä¸ªæ–°çš„ goroutineï¼Œå¤§å¤§å‡å°‘äº†ç¨‹åºå‘é€æ‰€æœ‰è¯·æ±‚æ‰€éœ€çš„æ—¶é—´ã€‚">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-01-15T14:57:52+08:00">
    <meta property="article:modified_time" content="2024-01-15T14:57:52+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="è€å¸…çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">è€å¸…çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">æ·±åº¦æ¢è®¨ Golang ä¸­å¹¶å‘å‘é€ HTTP è¯·æ±‚çš„æœ€ä½³æŠ€æœ¯</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <ul><li><strong>ğŸ’‚ ä¸ªäººç½‘ç«™:ã€ <a href="https://haiyong.site/moyu" rel="nofollow">æµ·æ‹¥</a>ã€‘ã€<a href="https://code.haiyong.site" rel="nofollow">ç¥çº§ä»£ç èµ„æºç½‘ç«™</a>ã€‘ã€<a href="https://tools.haiyong.site/" rel="nofollow">åŠå…¬ç¥å™¨</a>ã€‘</strong></li><li><strong>ğŸ¤Ÿ åŸºäºWebç«¯æ‰“é€ çš„ï¼šğŸ‘‰<a href="https://sso.mapmost.com/#/login?source_inviter=ryIXGCHG" rel="nofollow">è½»é‡åŒ–å·¥å…·åˆ›ä½œå¹³å°</a></strong></li><li><strong>ğŸ’… æƒ³å¯»æ‰¾å…±åŒå­¦ä¹ äº¤æµçš„å°ä¼™ä¼´ï¼Œè¯·ç‚¹å‡»ã€<a href="https://haiyong.site/chat/" rel="nofollow">å…¨æ ˆæŠ€æœ¯äº¤æµç¾¤</a>ã€‘</strong></li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/f4/54/Yln1l5j0_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>åœ¨ Golang é¢†åŸŸï¼Œå¹¶å‘å‘é€ HTTP è¯·æ±‚æ˜¯ä¼˜åŒ– Web åº”ç”¨ç¨‹åºçš„ä¸€é¡¹é‡è¦æŠ€èƒ½ã€‚æœ¬æ–‡æ¢è®¨äº†å®ç°æ­¤ç›®çš„çš„å„ç§æ–¹æ³•ï¼Œä»åŸºæœ¬çš„ goroutine åˆ°æ¶‰åŠé€šé“å’Œsync.WaitGroup çš„é«˜çº§æŠ€æœ¯ã€‚æˆ‘ä»¬å°†æ·±å…¥ç ”ç©¶å¹¶å‘ç¯å¢ƒä¸­æ€§èƒ½å’Œé”™è¯¯å¤„ç†çš„æœ€ä½³å®è·µï¼Œä¸ºä½ æä¾›æé«˜ Go åº”ç”¨ç¨‹åºé€Ÿåº¦å’Œå¯é æ€§çš„ç­–ç•¥ã€‚è®©æˆ‘ä»¬æ·±å…¥æ¢è®¨ Golang ä¸­å¹¶å‘ HTTP è¯·æ±‚çš„ä¸–ç•Œï¼</p> 
<h2><a id="_Goroutines__9"></a>ä½¿ç”¨ Goroutines çš„åŸºæœ¬æ–¹æ³•</h2> 
<p>å½“è°ˆåˆ°åœ¨ Golang ä¸­å®ç°å¹¶å‘æ—¶ï¼Œæœ€ç›´æ¥çš„æ–¹æ³•æ˜¯ä½¿ç”¨ goroutineã€‚è¿™äº›æ˜¯ Go ä¸­å¹¶å‘çš„æ„å»ºå—ï¼Œæä¾›äº†ä¸€ç§ç®€å•è€Œå¼ºå¤§çš„å¹¶å‘æ‰§è¡Œå‡½æ•°çš„æ–¹æ³•ã€‚</p> 
<h3><a id="Goroutine__13"></a>Goroutine å…¥é—¨</h3> 
<p>è¦å¯åŠ¨ä¸€ä¸ª goroutineï¼Œåªéœ€åœ¨å‡½æ•°è°ƒç”¨å‰åŠ ä¸Š<code>go</code>å…³é”®å­—å³å¯ã€‚è¿™ä¼šå°†å‡½æ•°ä½œä¸º goroutine å¯åŠ¨ï¼Œä»è€Œå…è®¸ä¸»ç¨‹åºç»§ç»­ç‹¬ç«‹è¿è¡Œã€‚è¿™å°±åƒå¼€å§‹ä¸€é¡¹ä»»åŠ¡å¹¶ç»§ç»­å‰è¿›è€Œä¸ç­‰å¾…å®ƒå®Œæˆã€‚</p> 
<p>ä¾‹å¦‚ï¼Œè€ƒè™‘å‘é€ HTTP è¯·æ±‚çš„åœºæ™¯ã€‚é€šå¸¸ï¼Œä½ ä¼šè°ƒç”¨ç±»ä¼¼ çš„å‡½æ•°<code>sendRequest()</code>ï¼Œå¹¶ä¸”ä½ çš„ç¨‹åºå°†ç­‰å¾…è¯¥å‡½æ•°å®Œæˆã€‚ä½¿ç”¨ goroutineï¼Œä½ å¯ä»¥åŒæ—¶æ‰§è¡Œæ­¤æ“ä½œï¼š</p> 
<pre><code class="prism language-go"><span class="token keyword">go</span> <span class="token function">sendRequest</span><span class="token punctuation">(</span><span class="token string">"http://example.com"</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_24"></a>å¤„ç†å¤šä¸ªè¯·æ±‚</h3> 
<p>å‡è®¾ä½ æœ‰ä¸€ä¸ª URL åˆ—è¡¨ï¼Œå¹¶ä¸”éœ€è¦å‘æ¯ä¸ª URL å‘é€ä¸€ä¸ª HTTP è¯·æ±‚ã€‚å¦‚æœæ²¡æœ‰ goroutineï¼Œä½ çš„ç¨‹åºå°†ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°å‘é€è¿™äº›è¯·æ±‚ï¼Œè¿™éå¸¸è€—æ—¶ã€‚ä½¿ç”¨ goroutineï¼Œä½ å‡ ä¹å¯ä»¥åŒæ—¶å‘é€å®ƒä»¬ï¼š</p> 
<pre><code class="prism language-go">urls <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{<!-- --></span><span class="token string">"http://example.com"</span><span class="token punctuation">,</span> <span class="token string">"http://another.com"</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">}</span>  
<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> url <span class="token operator">:=</span> <span class="token keyword">range</span> urls <span class="token punctuation">{<!-- --></span>  
<span class="token keyword">go</span> <span class="token function">sendRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>
</code></pre> 
<p>è¿™ä¸ªå¾ªç¯ä¸ºæ¯ä¸ª URL å¯åŠ¨ä¸€ä¸ªæ–°çš„ goroutineï¼Œå¤§å¤§å‡å°‘äº†ç¨‹åºå‘é€æ‰€æœ‰è¯·æ±‚æ‰€éœ€çš„æ—¶é—´ã€‚</p> 
<h2><a id="_HTTP__37"></a>å¹¶å‘ HTTP è¯·æ±‚çš„æ–¹æ³•</h2> 
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥ç ”ç©¶åœ¨ Go ä¸­å¹¶å‘å¤„ç† HTTP è¯·æ±‚çš„å„ç§æ–¹æ³•ã€‚æ¯ç§æ–¹æ³•éƒ½æœ‰å…¶ç‹¬ç‰¹çš„ç‰¹ç‚¹ï¼Œäº†è§£è¿™äº›å¯ä»¥å¸®åŠ©ä½ é€‰æ‹©é€‚åˆç‰¹å®šéœ€æ±‚çš„æ­£ç¡®æ–¹æ³•ã€‚</p> 
<blockquote> 
 <p>æˆ‘ä»¬ä½¿ç”¨ <a href="https://github.com/useinsider/go-pkg/tree/develop/insrequester"><strong>insrequester</strong></a> åŒ…ï¼ˆå¼€æºè¯·æ±‚ç¨‹åºï¼‰æ¥å¤„ç†æœ¬æ–‡ä¸­æåˆ°çš„ <strong>HTTPè¯·æ±‚</strong></p> 
</blockquote> 
<h3><a id="_Goroutine_43"></a>åŸºæœ¬ Goroutine</h3> 
<p>åœ¨ Go ä¸­å¹¶å‘å‘é€ HTTP è¯·æ±‚çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ goroutineã€‚Goroutines æ˜¯ç”± Go è¿è¡Œæ—¶ç®¡ç†çš„è½»é‡çº§çº¿ç¨‹ã€‚è¿™æ˜¯ä¸€ä¸ªåŸºæœ¬ç¤ºä¾‹ï¼š</p> 
<pre><code class="prism language-go">requester <span class="token operator">:=</span> insrequester<span class="token punctuation">.</span><span class="token function">NewRequester</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
urls <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{<!-- --></span><span class="token string">"http://example.com"</span><span class="token punctuation">,</span> <span class="token string">"http://example.org"</span><span class="token punctuation">,</span> <span class="token string">"http://example.net"</span><span class="token punctuation">}</span>  
<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> url <span class="token operator">:=</span> <span class="token keyword">range</span> urls <span class="token punctuation">{<!-- --></span>  
<span class="token keyword">go</span> requester<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>insrequester<span class="token punctuation">.</span>RequestEntity<span class="token punctuation">{<!-- --></span>Endpoint<span class="token punctuation">:</span> url<span class="token punctuation">}</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
  
time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span> <span class="token comment">// ç­‰å¾… goroutine å®Œæˆ</span>
</code></pre> 
<p>è¿™ç§æ–¹æ³•å¾ˆç®€å•ï¼Œä½†ä¸€æ—¦å¯åŠ¨å°±ç¼ºä¹å¯¹ goroutine çš„æ§åˆ¶ã€‚é€šè¿‡è¿™ç§æ–¹å¼æ— æ³•è·å–Getæ–¹æ³•çš„è¿”å›å€¼ã€‚ä½ éœ€è¦ç¡çœ å¤§çº¦ä¸€æ®µæ—¶é—´æ¥ç­‰å¾…æ‰€æœ‰ goroutineã€‚å³ä½¿ä½ è°ƒç”¨ sleepï¼Œä½ å¯èƒ½ä»ç„¶ä¸ç¡®å®šå®ƒä»¬æ˜¯å¦å®Œæˆã€‚</p> 
<h3><a id="WaitGroup_60"></a>WaitGroup</h3> 
<p>ä¸ºäº†æ”¹è¿›åŸºæœ¬çš„ goroutineï¼Œ<code>sync.WaitGroup</code>å¯ç”¨äºæ›´å¥½çš„åŒæ­¥ã€‚å®ƒç­‰å¾… goroutine é›†åˆå®Œæˆæ‰§è¡Œï¼š</p> 
<pre><code class="prism language-go">requester <span class="token operator">:=</span> insrequester<span class="token punctuation">.</span><span class="token function">NewRequester</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
wg <span class="token operator">:=</span> sync<span class="token punctuation">.</span>WaitGroup<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>  
  
urls <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{<!-- --></span><span class="token string">"http://example.com"</span><span class="token punctuation">,</span> <span class="token string">"http://example.org"</span><span class="token punctuation">,</span> <span class="token string">"http://example.net"</span><span class="token punctuation">}</span>  
wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>urls<span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> url <span class="token operator">:=</span> <span class="token keyword">range</span> urls <span class="token punctuation">{<!-- --></span>  
<span class="token keyword">go</span> requester<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>insrequester<span class="token punctuation">.</span>RequestEntity<span class="token punctuation">{<!-- --></span>Endpoint<span class="token punctuation">:</span> url<span class="token punctuation">}</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
  
wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//ç­‰å¾…æ‰€æœ‰è¦å®Œæˆçš„ goroutine</span>
</code></pre> 
<p>è¿™ç¡®ä¿äº† main å‡½æ•°ç­‰å¾…æ‰€æœ‰ HTTP è¯·æ±‚å®Œæˆã€‚</p> 
<h3><a id="Channels_80"></a>Channels</h3> 
<p>Channels æ˜¯ Go ä¸­ç”¨äº goroutine ä¹‹é—´é€šä¿¡çš„å¼ºå¤§åŠŸèƒ½ã€‚å®ƒä»¬å¯ç”¨äºä»å¤šä¸ª HTTP è¯·æ±‚æ”¶é›†æ•°æ®ï¼š</p> 
<pre><code class="prism language-go">requester <span class="token operator">:=</span> insrequester<span class="token punctuation">.</span><span class="token function">NewRequester</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
urls <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{<!-- --></span><span class="token string">"http://example.com"</span><span class="token punctuation">,</span> <span class="token string">"http://example.org"</span><span class="token punctuation">,</span> <span class="token string">"http://example.net"</span><span class="token punctuation">}</span>  
ch <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>urls<span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> url <span class="token operator">:=</span> <span class="token keyword">range</span> urls <span class="token punctuation">{<!-- --></span>  
<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
res<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> requester<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>insrequester<span class="token punctuation">.</span>RequestEntity<span class="token punctuation">{<!-- --></span>Endpoint<span class="token punctuation">:</span> url<span class="token punctuation">}</span><span class="token punctuation">)</span>  
ch <span class="token operator">&lt;-</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"%s: %d"</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> res<span class="token punctuation">.</span>StatusCode<span class="token punctuation">)</span>  
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">for</span> <span class="token keyword">range</span> urls <span class="token punctuation">{<!-- --></span>  
response <span class="token operator">:=</span> <span class="token operator">&lt;-</span>ch  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>
</code></pre> 
<p>é€šé“ä¸ä»…å¯ä»¥åŒæ­¥ goroutineï¼Œè¿˜å¯ä»¥ä¿ƒè¿›å®ƒä»¬ä¹‹é—´çš„æ•°æ®ä¼ é€’ã€‚</p> 
<h3><a id="Worker_Pools_105"></a>Worker Pools</h3> 
<p>Worker Pool æ˜¯ä¸€ç§æ¨¡å¼ï¼Œå…¶ä¸­åˆ›å»ºå›ºå®šæ•°é‡çš„å·¥ä½œäººå‘˜ï¼ˆgoroutinesï¼‰æ¥å¤„ç†å¯å˜æ•°é‡çš„ä»»åŠ¡ã€‚è¿™æœ‰åŠ©äºé™åˆ¶å¹¶å‘ HTTP è¯·æ±‚çš„æ•°é‡ï¼Œä»è€Œé˜²æ­¢èµ„æºè€—å°½ã€‚</p> 
<p>ä»¥ä¸‹æ˜¯åœ¨ Go ä¸­å®ç° Worker Pool çš„æ–¹æ³•ï¼š</p> 
<pre><code class="prism language-go"><span class="token comment">// å®šä¹‰ Job ç»“æ„ä½“ï¼ŒåŒ…å«ä¸€ä¸ª URL å­—æ®µ</span>
<span class="token keyword">type</span> Job <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
	URL <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// worker å‡½æ•°ç”¨äºå¤„ç†ä½œä¸šï¼Œæ¥æ”¶è¯·æ±‚è€…ã€ä½œä¸šé€šé“ã€ç»“æœé€šé“å’Œç­‰å¾…ç»„ä½œä¸ºå‚æ•°</span>
<span class="token keyword">func</span> <span class="token function">worker</span><span class="token punctuation">(</span>requester <span class="token operator">*</span>insrequester<span class="token punctuation">.</span>Request<span class="token punctuation">,</span> jobs <span class="token operator">&lt;-</span><span class="token keyword">chan</span> Job<span class="token punctuation">,</span> results <span class="token keyword">chan</span><span class="token operator">&lt;-</span> <span class="token operator">*</span>http<span class="token punctuation">.</span>Response<span class="token punctuation">,</span> wg <span class="token operator">*</span>sync<span class="token punctuation">.</span>WaitGroup<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> job <span class="token operator">:=</span> <span class="token keyword">range</span> jobs <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// ä½¿ç”¨è¯·æ±‚è€…è·å– URL å¯¹åº”çš„å“åº”</span>
		res<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> requester<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>insrequester<span class="token punctuation">.</span>RequestEntity<span class="token punctuation">{<!-- --></span>Endpoint<span class="token punctuation">:</span> job<span class="token punctuation">.</span>URL<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token comment">// å°†ç»“æœå‘é€åˆ°ç»“æœé€šé“ï¼Œå¹¶å‡å°‘ç­‰å¾…ç»„è®¡æ•°</span>
		results <span class="token operator">&lt;-</span> res
		wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">// åˆ›å»ºå¹¶åŠ è½½è¯·æ±‚è€…</span>
	requester <span class="token operator">:=</span> insrequester<span class="token punctuation">.</span><span class="token function">NewRequester</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token comment">// å®šä¹‰è¦å¤„ç†çš„ URL åˆ—è¡¨</span>
	urls <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{<!-- --></span><span class="token string">"http://example.com"</span><span class="token punctuation">,</span> <span class="token string">"http://example.org"</span><span class="token punctuation">,</span> <span class="token string">"http://example.net"</span><span class="token punctuation">}</span>
	<span class="token comment">// å®šä¹‰å·¥ä½œæ± ä¸­çš„å·¥ä½œè€…æ•°é‡</span>
	numWorkers <span class="token operator">:=</span> <span class="token number">2</span>

	<span class="token comment">// åˆ›å»ºä½œä¸šé€šé“å’Œç»“æœé€šé“</span>
	jobs <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> Job<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>urls<span class="token punctuation">)</span><span class="token punctuation">)</span>
	results <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token operator">*</span>http<span class="token punctuation">.</span>Response<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>urls<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">var</span> wg sync<span class="token punctuation">.</span>WaitGroup

	<span class="token comment">// å¯åŠ¨å·¥ä½œè€…</span>
	<span class="token keyword">for</span> w <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> w <span class="token operator">&lt;</span> numWorkers<span class="token punctuation">;</span> w<span class="token operator">++</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">go</span> <span class="token function">worker</span><span class="token punctuation">(</span>requester<span class="token punctuation">,</span> jobs<span class="token punctuation">,</span> results<span class="token punctuation">,</span> <span class="token operator">&amp;</span>wg<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// å°†ä½œä¸šå‘é€åˆ°å·¥ä½œè€…æ± </span>
	wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>urls<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> url <span class="token operator">:=</span> <span class="token keyword">range</span> urls <span class="token punctuation">{<!-- --></span>
		jobs <span class="token operator">&lt;-</span> Job<span class="token punctuation">{<!-- --></span>URL<span class="token punctuation">:</span> url<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token function">close</span><span class="token punctuation">(</span>jobs<span class="token punctuation">)</span>
	wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token comment">// æ”¶é›†ç»“æœå¹¶è¾“å‡º</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>urls<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{<!-- --></span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">&lt;-</span>results<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>ä½¿ç”¨å·¥ä½œæ± å¯ä»¥è®©ä½ æœ‰æ•ˆåœ°ç®¡ç†å¤§é‡å¹¶å‘ HTTP è¯·æ±‚ã€‚å®ƒæ˜¯ä¸€ä¸ªå¯æ‰©å±•çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥æ ¹æ®å·¥ä½œè´Ÿè½½å’Œç³»ç»Ÿå®¹é‡è¿›è¡Œè°ƒæ•´ï¼Œä»è€Œä¼˜åŒ–èµ„æºåˆ©ç”¨ç‡å¹¶æé«˜æ•´ä½“æ€§èƒ½ã€‚</p> 
<h3><a id="_Goroutine_165"></a>ä½¿ç”¨é€šé“é™åˆ¶ Goroutine</h3> 
<p>è¯¥æ–¹æ³•ä½¿ç”¨é€šé“åˆ›å»ºç±»ä¼¼ä¿¡å·é‡çš„æœºåˆ¶æ¥é™åˆ¶å¹¶å‘ goroutine çš„æ•°é‡ã€‚å®ƒåœ¨ä½ éœ€è¦é™åˆ¶ HTTP è¯·æ±‚ä»¥é¿å…æœåŠ¡å™¨ä¸å ªé‡è´Ÿæˆ–è¾¾åˆ°é€Ÿç‡é™åˆ¶çš„æƒ…å†µä¸‹éå¸¸æœ‰æ•ˆã€‚</p> 
<p>ä»¥ä¸‹æ˜¯å®ç°å®ƒçš„æ–¹æ³•ï¼š</p> 
<pre><code class="prism language-go"><span class="token comment">// åˆ›å»ºè¯·æ±‚è€…å¹¶åŠ è½½é…ç½®</span>
requester <span class="token operator">:=</span> insrequester<span class="token punctuation">.</span><span class="token function">NewRequester</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// å®šä¹‰è¦å¤„ç†çš„ URL åˆ—è¡¨</span>
urls <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{<!-- --></span><span class="token string">"http://example.com"</span><span class="token punctuation">,</span> <span class="token string">"http://example.org"</span><span class="token punctuation">,</span> <span class="token string">"http://example.net"</span><span class="token punctuation">}</span>
maxConcurrency <span class="token operator">:=</span> <span class="token number">2</span> <span class="token comment">// é™åˆ¶å¹¶å‘è¯·æ±‚çš„æ•°é‡</span>

<span class="token comment">// åˆ›å»ºä¸€ä¸ªç”¨äºé™åˆ¶å¹¶å‘è¯·æ±‚çš„é€šé“</span>
limiter <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> maxConcurrency<span class="token punctuation">)</span>

<span class="token comment">// éå† URL åˆ—è¡¨</span>
<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> url <span class="token operator">:=</span> <span class="token keyword">range</span> urls <span class="token punctuation">{<!-- --></span>
    limiter <span class="token operator">&lt;-</span> <span class="token keyword">struct</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> <span class="token comment">// è·å–ä¸€ä¸ªä»¤ç‰Œã€‚åœ¨è¿™é‡Œç­‰å¾…ä»¤ç‰Œä»é™åˆ¶å™¨é‡Šæ”¾</span>
    <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span>url <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token operator">&lt;-</span>limiter <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// é‡Šæ”¾ä»¤ç‰Œ</span>
        <span class="token comment">// ä½¿ç”¨è¯·æ±‚è€…è¿›è¡Œ POST è¯·æ±‚</span>
        requester<span class="token punctuation">.</span><span class="token function">Post</span><span class="token punctuation">(</span>insrequester<span class="token punctuation">.</span>RequestEntity<span class="token punctuation">{<!-- --></span>Endpoint<span class="token punctuation">:</span> url<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç­‰å¾…æ‰€æœ‰ goroutine å®Œæˆ</span>
<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">cap</span><span class="token punctuation">(</span>limiter<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{<!-- --></span>
    limiter <span class="token operator">&lt;-</span> <span class="token keyword">struct</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨<strong>å»¶è¿Ÿ</strong>è‡³å…³é‡è¦ã€‚å¦‚æœå°† <em><strong>&lt;-limiter</strong></em>è¯­å¥æ”¾åœ¨ Post æ–¹æ³•ä¹‹åï¼Œå¹¶ä¸” Post æ–¹æ³•è§¦å‘ææ…Œæˆ–ç±»ä¼¼å¼‚å¸¸ï¼Œåˆ™ <em><strong>&lt;-limiter</strong></em>è¡Œå°†ä¸ä¼šè¢«æ‰§è¡Œã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´æ— é™ç­‰å¾…ï¼Œå› ä¸ºä¿¡å·é‡ä»¤ç‰Œæ°¸è¿œä¸ä¼šè¢«é‡Šæ”¾ï¼Œæœ€ç»ˆå¯¼è‡´è¶…æ—¶é—®é¢˜ã€‚</p> 
</blockquote> 
<h3><a id="_Goroutines_200"></a>ä½¿ç”¨ä¿¡å·é‡é™åˆ¶ Goroutines</h3> 
<p>sync/semaphore åŒ…æä¾›äº†ä¸€ç§å¹²å‡€æœ‰æ•ˆçš„æ–¹æ³•æ¥é™åˆ¶å¹¶å‘è¿è¡Œçš„ goroutine æ•°é‡ã€‚å½“ä½ æƒ³è¦æ›´ç³»ç»Ÿåœ°ç®¡ç†èµ„æºåˆ†é…æ—¶ï¼Œæ­¤æ–¹æ³•ç‰¹åˆ«æœ‰ç”¨ã€‚</p> 
<pre><code class="prism language-go"><span class="token comment">// åˆ›å»ºè¯·æ±‚è€…å¹¶åŠ è½½é…ç½®</span>
requester <span class="token operator">:=</span> insrequester<span class="token punctuation">.</span><span class="token function">NewRequester</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// å®šä¹‰è¦å¤„ç†çš„ URL åˆ—è¡¨</span>
urls <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{<!-- --></span><span class="token string">"http://example.com"</span><span class="token punctuation">,</span> <span class="token string">"http://example.org"</span><span class="token punctuation">,</span> <span class="token string">"http://example.net"</span><span class="token punctuation">}</span>
maxConcurrency <span class="token operator">:=</span> <span class="token function">int64</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// è®¾ç½®æœ€å¤§å¹¶å‘è¯·æ±‚æ•°é‡</span>

<span class="token comment">// åˆ›å»ºä¸€ä¸ªå¸¦æƒé‡çš„ä¿¡å·é‡</span>
sem <span class="token operator">:=</span> semaphore<span class="token punctuation">.</span><span class="token function">NewWeighted</span><span class="token punctuation">(</span>maxConcurrency<span class="token punctuation">)</span>
ctx <span class="token operator">:=</span> context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// éå† URL åˆ—è¡¨</span>
<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> url <span class="token operator">:=</span> <span class="token keyword">range</span> urls <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// åœ¨å¯åŠ¨ goroutine å‰è·å–ä¿¡å·é‡æƒé‡</span>
    <span class="token keyword">if</span> err <span class="token operator">:=</span> sem<span class="token punctuation">.</span><span class="token function">Acquire</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{<!-- --></span>
       fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"æ— æ³•è·å–ä¿¡å·é‡ï¼š%v\n"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
       <span class="token keyword">continue</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span>url <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">defer</span> sem<span class="token punctuation">.</span><span class="token function">Release</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// åœ¨å®Œæˆæ—¶é‡Šæ”¾ä¿¡å·é‡æƒé‡</span>
       <span class="token comment">// ä½¿ç”¨è¯·æ±‚è€…è·å– URL å¯¹åº”çš„å“åº”</span>
       res<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> requester<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>insrequester<span class="token punctuation">.</span>RequestEntity<span class="token punctuation">{<!-- --></span>Endpoint<span class="token punctuation">:</span> url<span class="token punctuation">}</span><span class="token punctuation">)</span>
       fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%s: %d\n"</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> res<span class="token punctuation">.</span>StatusCode<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç­‰å¾…æ‰€æœ‰ goroutine é‡Šæ”¾å®ƒä»¬çš„ä¿¡å·é‡æƒé‡</span>
<span class="token keyword">if</span> err <span class="token operator">:=</span> sem<span class="token punctuation">.</span><span class="token function">Acquire</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> maxConcurrency<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{<!-- --></span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"ç­‰å¾…æ—¶æ— æ³•è·å–ä¿¡å·é‡ï¼š%v\n"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ä¸æ‰‹åŠ¨ç®¡ç†é€šé“ç›¸æ¯”ï¼Œè¿™ç§ä½¿ç”¨ä¿¡å·é‡åŒ…çš„æ–¹æ³•æä¾›äº†ä¸€ç§æ›´åŠ ç»“æ„åŒ–å’Œå¯è¯»çš„å¹¶å‘å¤„ç†æ–¹å¼ã€‚å½“å¤„ç†å¤æ‚çš„åŒæ­¥è¦æ±‚æˆ–éœ€è¦æ›´ç²¾ç»†åœ°æ§åˆ¶å¹¶å‘çº§åˆ«æ—¶ï¼Œå®ƒç‰¹åˆ«æœ‰ç”¨ã€‚</p> 
<h2><a id="_240"></a>é‚£ä¹ˆï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ</h2> 
<p>åœ¨æ¢ç´¢äº† Go ä¸­å¤„ç†å¹¶å‘ HTTP è¯·æ±‚çš„å„ç§æ–¹æ³•ä¹‹åï¼Œé—®é¢˜å‡ºç°äº†ï¼šæœ€å¥½çš„æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿæ­£å¦‚è½¯ä»¶å·¥ç¨‹ä¸­ç»å¸¸å‡ºç°çš„æƒ…å†µä¸€æ ·ï¼Œç­”æ¡ˆå–å†³äºåº”ç”¨ç¨‹åºçš„å…·ä½“è¦æ±‚å’Œçº¦æŸã€‚è®©æˆ‘ä»¬è€ƒè™‘ç¡®å®šæœ€åˆé€‚æ–¹æ³•çš„å…³é”®å› ç´ ï¼š</p> 
<h3><a id="_244"></a>è¯„ä¼°ä½ çš„éœ€æ±‚</h3> 
<ul><li><strong>è¯·æ±‚è§„æ¨¡</strong>ï¼šå¦‚æœä½ æ­£åœ¨å¤„ç†å¤§é‡è¯·æ±‚ï¼Œå·¥ä½œæ± æˆ–åŸºäºä¿¡å·é‡çš„æ–¹æ³•å¯ä»¥æ›´å¥½åœ°æ§åˆ¶èµ„æºä½¿ç”¨ã€‚</li><li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå¦‚æœå¼ºå¤§çš„é”™è¯¯å¤„ç†è‡³å…³é‡è¦ï¼Œé‚£ä¹ˆä½¿ç”¨é€šé“æˆ–ä¿¡å·é‡åŒ…å¯ä»¥æä¾›æ›´ç»“æ„åŒ–çš„é”™è¯¯ç®¡ç†ã€‚</li><li><strong>é€Ÿç‡é™åˆ¶</strong>ï¼šå¯¹äºéœ€è¦éµå®ˆé€Ÿç‡é™åˆ¶çš„åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨é€šé“æˆ–ä¿¡å·é‡åŒ…é™åˆ¶ goroutine å¯èƒ½æ˜¯æœ‰æ•ˆçš„ã€‚</li><li><strong>å¤æ‚æ€§å’Œå¯ç»´æŠ¤æ€§</strong>ï¼šè€ƒè™‘æ¯ç§æ–¹æ³•çš„å¤æ‚æ€§ã€‚è™½ç„¶æ¸ é“æä¾›äº†æ›´å¤šæ§åˆ¶ï¼Œä½†å®ƒä»¬ä¹Ÿå¢åŠ äº†å¤æ‚æ€§ã€‚å¦ä¸€æ–¹é¢ï¼Œä¿¡å·é‡åŒ…æä¾›äº†æ›´ç›´æ¥çš„è§£å†³æ–¹æ¡ˆã€‚</li></ul> 
<h2><a id="_251"></a>é”™è¯¯å¤„ç†</h2> 
<p>ç”±äº Go ä¸­å¹¶å‘æ‰§è¡Œçš„æ€§è´¨ï¼Œgoroutines ä¸­çš„é”™è¯¯å¤„ç†æ˜¯ä¸€ä¸ªæ£˜æ‰‹çš„è¯é¢˜ã€‚ç”±äº goroutine ç‹¬ç«‹è¿è¡Œï¼Œç®¡ç†å’Œä¼ æ’­é”™è¯¯å¯èƒ½å…·æœ‰æŒ‘æˆ˜æ€§ï¼Œä½†å¯¹äºæ„â€‹â€‹å»ºå¥å£®çš„åº”ç”¨ç¨‹åºè‡³å…³é‡è¦ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æœ‰æ•ˆå¤„ç†å¹¶å‘ Go ç¨‹åºä¸­é”™è¯¯çš„ç­–ç•¥ï¼š</p> 
<h3><a id="_255"></a>é›†ä¸­è¯¯å·®é€šé“</h3> 
<p>ä¸€ç§å¸¸è§çš„æ–¹æ³•æ˜¯ä½¿ç”¨é›†ä¸­å¼é”™è¯¯é€šé“ï¼Œæ‰€æœ‰ goroutine éƒ½å¯ä»¥é€šè¿‡è¯¥é€šé“å‘é€é”™è¯¯ã€‚ç„¶åï¼Œä¸» goroutine å¯ä»¥ç›‘å¬è¯¥é€šé“å¹¶é‡‡å–é€‚å½“çš„æ“ä½œã€‚</p> 
<pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">worker</span><span class="token punctuation">(</span>errChan <span class="token keyword">chan</span><span class="token operator">&lt;-</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// æ‰§è¡Œä»»åŠ¡</span>
    <span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token function">doTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{<!-- --></span>
        errChan <span class="token operator">&lt;-</span> err <span class="token comment">// å°†ä»»ä½•é”™è¯¯å‘é€åˆ°é”™è¯¯é€šé“</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    errChan <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">error</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// ç”¨äºå­˜å‚¨é”™è¯¯çš„ç¼“å†²é€šé“</span>

    <span class="token keyword">go</span> <span class="token function">worker</span><span class="token punctuation">(</span>errChan<span class="token punctuation">)</span>

    <span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token operator">&lt;-</span>errChan<span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// å¤„ç†é”™è¯¯</span>
        log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"å‘ç”Ÿé”™è¯¯ï¼š%v"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>æˆ–è€…ä½ å¯ä»¥åœ¨ä¸åŒçš„ goroutine ä¸­ç›‘å¬ errChanã€‚</p> 
<pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">worker</span><span class="token punctuation">(</span>errChan <span class="token keyword">chan</span><span class="token operator">&lt;-</span> <span class="token builtin">error</span><span class="token punctuation">,</span> job Job<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
 <span class="token comment">// æ‰§è¡Œä»»åŠ¡</span>
 <span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token function">doTask</span><span class="token punctuation">(</span>job<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{<!-- --></span>
  errChan <span class="token operator">&lt;-</span> err <span class="token comment">// å°†ä»»ä½•é”™è¯¯å‘é€åˆ°é”™è¯¯é€šé“</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">listenErrors</span><span class="token punctuation">(</span>done <span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> errChan <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
 <span class="token keyword">for</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">select</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">case</span> err <span class="token operator">:=</span> <span class="token operator">&lt;-</span>errChan<span class="token punctuation">:</span>
   <span class="token comment">// å¤„ç†é”™è¯¯</span>
  <span class="token keyword">case</span> <span class="token operator">&lt;-</span>done<span class="token punctuation">:</span>
   <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
 errChan <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">error</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token comment">// å­˜å‚¨é”™è¯¯çš„é€šé“</span>
 done <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span>       <span class="token comment">// ç”¨äºé€šçŸ¥ goroutine åœæ­¢çš„é€šé“</span>

 <span class="token keyword">go</span> <span class="token function">listenErrors</span><span class="token punctuation">(</span>done<span class="token punctuation">,</span> errChan<span class="token punctuation">)</span>
 
 <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> job <span class="token operator">:=</span> <span class="token keyword">range</span> jobs <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">go</span> <span class="token function">worker</span><span class="token punctuation">(</span>errChan<span class="token punctuation">,</span> job<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

 <span class="token comment">// ç­‰å¾…æ‰€æœ‰ goroutine å®Œæˆï¼ˆå…·ä½“æ–¹å¼éœ€è¦æ ¹æ®ä»£ç çš„å®é™…æƒ…å†µè¿›è¡Œå®ç°ï¼‰</span>
 done <span class="token operator">&lt;-</span> <span class="token keyword">struct</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> <span class="token comment">// é€šçŸ¥ goroutine åœæ­¢ç›‘å¬é”™è¯¯</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="Error_Group_315"></a>Error Group</h3> 
<p><code>golang.org/x/sync/errgroup</code> åŒ…æä¾›äº†ä¸€ç§ä¾¿æ·çš„æ–¹æ³•æ¥å¯¹å¤šä¸ª goroutine è¿›è¡Œåˆ†ç»„å¹¶å¤„ç†å®ƒä»¬äº§ç”Ÿçš„ä»»ä½•é”™è¯¯ã€‚<code>errgroup.Group</code>ç¡®ä¿ä¸€æ—¦ä»»ä½• goroutine å‘ç”Ÿé”™è¯¯ï¼Œæ‰€æœ‰åç»­æ“ä½œéƒ½å°†è¢«å–æ¶ˆã€‚</p> 
<pre><code class="prism language-go"><span class="token keyword">import</span> <span class="token string">"golang.org/x/sync/errgroup"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    g<span class="token punctuation">,</span> ctx <span class="token operator">:=</span> errgroup<span class="token punctuation">.</span><span class="token function">WithContext</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    urls <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{<!-- --></span><span class="token string">"http://example.com"</span><span class="token punctuation">,</span> <span class="token string">"http://example.org"</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> url <span class="token operator">:=</span> <span class="token keyword">range</span> urls <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// ä¸ºæ¯ä¸ª URL å¯åŠ¨ä¸€ä¸ª goroutine</span>
        g<span class="token punctuation">.</span><span class="token function">Go</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// æ›¿æ¢ä¸ºå®é™…çš„ HTTP è¯·æ±‚é€»è¾‘</span>
            <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">:=</span> <span class="token function">fetchURL</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> url<span class="token punctuation">)</span>
            <span class="token keyword">return</span> err
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ç­‰å¾…æ‰€æœ‰è¯·æ±‚å®Œæˆ</span>
    <span class="token keyword">if</span> err <span class="token operator">:=</span> g<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{<!-- --></span>
        log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"å‘ç”Ÿé”™è¯¯ï¼š%v"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>è¿™ç§æ–¹æ³•ç®€åŒ–äº†é”™è¯¯å¤„ç†ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤§é‡ goroutine æ—¶ã€‚</p> 
<h3><a id="_Goroutine_344"></a>åŒ…è£… Goroutine</h3> 
<p>å¦ä¸€ç§ç­–ç•¥æ˜¯å°†æ¯ä¸ª goroutine åŒ…è£…åœ¨ä¸€ä¸ªå¤„ç†å…¶é”™è¯¯çš„å‡½æ•°ä¸­ã€‚è¿™ç§å°è£…å¯ä»¥åŒ…æ‹¬ä»ææ…Œæˆ–å…¶ä»–é”™è¯¯ç®¡ç†é€»è¾‘ä¸­æ¢å¤ã€‚</p> 
<pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// è¿›è¡Œä¸€äº›å·¥ä½œ</span>
  <span class="token keyword">return</span> err
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
 <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   err <span class="token operator">:=</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{<!-- --></span>
     <span class="token comment">// å¤„ç†é”™è¯¯</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

 <span class="token comment">// ç­‰å¾…å·¥ä½œå®Œæˆçš„æŸç§æ–¹å¼</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ç»¼ä¸Šæ‰€è¿°ï¼ŒGo å¹¶å‘ç¼–ç¨‹ä¸­é”™è¯¯å¤„ç†ç­–ç•¥çš„é€‰æ‹©å–å†³äºåº”ç”¨ç¨‹åºçš„å…·ä½“è¦æ±‚å’Œä¸Šä¸‹æ–‡ã€‚æ— è®ºæ˜¯é€šè¿‡é›†ä¸­å¼é”™è¯¯é€šé“ã€ä¸“ç”¨é”™è¯¯å¤„ç† goroutineã€ä½¿ç”¨é”™è¯¯ç»„ï¼Œè¿˜æ˜¯å°† goroutine åŒ…è£…åœ¨é”™è¯¯ç®¡ç†å‡½æ•°ä¸­ï¼Œæ¯ç§æ–¹æ³•éƒ½æœ‰è‡ªå·±çš„ä¼˜ç‚¹å’Œæƒè¡¡ã€‚</p> 
<h2><a id="_368"></a>æ€»ç»“</h2> 
<p>æ€»ä¹‹ï¼Œæœ¬æ–‡æ¢è®¨äº†åœ¨ Golang ä¸­å¹¶å‘å‘é€ HTTP è¯·æ±‚çš„å„ç§æ–¹æ³•ï¼Œè¿™æ˜¯ä¼˜åŒ– Web åº”ç”¨ç¨‹åºçš„ä¸€é¡¹å…³é”®æŠ€èƒ½ã€‚æˆ‘ä»¬å·²ç»è®¨è®ºäº†åŸºæœ¬çš„ goroutineã€sync.WaitGroupã€é€šé“ã€å·¥ä½œæ± ä»¥åŠé™åˆ¶ goroutine çš„æ–¹æ³•ã€‚æ¯ç§æ–¹æ³•éƒ½æœ‰å…¶ç‹¬ç‰¹çš„ç‰¹ç‚¹ï¼Œå¯ä»¥æ ¹æ®ç‰¹å®šçš„åº”ç”¨è¦æ±‚è¿›è¡Œé€‰æ‹©ã€‚</p> 
<p>æ­¤å¤–ï¼Œæœ¬æ–‡è¿˜å¼ºè°ƒäº†å¹¶å‘ Go ç¨‹åºä¸­é”™è¯¯å¤„ç†çš„é‡è¦æ€§ã€‚ç®¡ç†å¹¶å‘ç¯å¢ƒä¸­çš„é”™è¯¯å¯èƒ½å…·æœ‰æŒ‘æˆ˜æ€§ï¼Œä½†å¯¹äºæ„å»ºå¥å£®çš„åº”ç”¨ç¨‹åºè‡³å…³é‡è¦ã€‚å·²ç»è®¨è®ºäº†ä½¿ç”¨é›†ä¸­å¼é”™è¯¯é€šé“ã€errgroup åŒ…æˆ–ä½¿ç”¨é”™è¯¯å¤„ç†é€»è¾‘åŒ…è£… goroutine ç­‰ç­–ç•¥æ¥å¸®åŠ©å¼€å‘äººå‘˜æœ‰æ•ˆåœ°å¤„ç†é”™è¯¯ã€‚</p> 
<p>æœ€ç»ˆï¼Œåœ¨ Go ä¸­å¤„ç†å¹¶å‘ HTTP è¯·æ±‚çš„æœ€ä½³æ–¹æ³•çš„é€‰æ‹©å–å†³äºè¯·æ±‚è§„æ¨¡ã€é”™è¯¯å¤„ç†è¦æ±‚ã€é€Ÿç‡é™åˆ¶ä»¥åŠä»£ç çš„æ•´ä½“å¤æ‚æ€§å’Œå¯ç»´æŠ¤æ€§ç­‰å› ç´ ã€‚å¼€å‘äººå‘˜åœ¨åº”ç”¨ç¨‹åºä¸­å®ç°å¹¶å‘åŠŸèƒ½æ—¶åº”ä»”ç»†è€ƒè™‘è¿™äº›å› ç´ ã€‚</p> 
<h3><a id="__376"></a>â­ï¸ å¥½ä¹¦æ¨è</h3> 
<p><b>ã€ŠGoä¸“å®¶ç¼–ç¨‹ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹</b></p> 
<p><img src="https://images2.imgbox.com/ab/b6/fC53slIM_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" width="300"></p> 
<p>ã€å†…å®¹ç®€ä»‹ã€‘</p> 
<p>æœ¬ä¹¦æ·±å…¥åœ°è®²è§£äº†Goè¯­è¨€å¸¸è§ç‰¹æ€§çš„å†…éƒ¨æœºåˆ¶å’Œå®ç°æ–¹å¼ï¼Œå¤§éƒ¨åˆ†å†…å®¹æºè‡ªå¯¹Goæºç çš„åˆ†æï¼Œå¹¶ä»ä¸­æç‚¼å‡ºå®ç°åŸç†ã€‚é€šè¿‡é˜…è¯»æœ¬ä¹¦ï¼Œè¯»è€…å¯ä»¥å¿«é€Ÿã€è½»æ¾åœ°äº†è§£Goè¯­è¨€çš„å†…éƒ¨è¿ä½œæœºåˆ¶ã€‚</p> 
<p>æœ¬ä¹¦é¦–å…ˆä»‹ç»å¸¸è§æ•°æ®ç»“æ„åŠæ§åˆ¶ç»“æ„çš„å®ç°åŸç†ï¼ŒåŒ…æ‹¬ç®¡é“ã€åˆ‡ç‰‡ã€Hashè¡¨ã€select å’Œ for-range ç­‰ï¼Œè¿™éƒ¨åˆ†å†…å®¹å¤§éƒ½ä»¥å‡ ä¸ªç²¾å¿ƒå‡†å¤‡çš„æµ‹éªŒé¢˜ç›®å¼€å¤´ï¼Œæ¯ä¸ªæµ‹éªŒé¢˜ç›®å‡å¯¹åº”ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œè¯»è€…å€Ÿæ­¤å¯ä»¥æµ‹éªŒè‡ªèº«å¯¹è¯¥çŸ¥è¯†ç‚¹çš„æŒæ¡ç¨‹åº¦ã€‚æ¥ç€ä»‹ç»äº†Goè¯­è¨€æœ€æ ¸å¿ƒçš„æ¦‚å¿µï¼ŒåŒ…æ‹¬åç¨‹çš„æ¦‚å¿µã€åç¨‹è°ƒåº¦æ¨¡å‹ã€åç¨‹è°ƒåº¦ç­–ç•¥ï¼Œä»¥åŠå†…å­˜åˆ†é…å’Œåƒåœ¾å›æ”¶ç›¸å…³çš„å†…å®¹ã€‚æœ¬ä¹¦è¿˜ä»‹ç»äº†æµ‹è¯•ã€æ³›å‹ã€ä¾èµ–ç®¡ç†ç­‰æ¯”è¾ƒå®ç”¨çš„ç‰¹æ€§ã€‚æœ€åç»“åˆç¬”è€…çš„è§é—»ï¼Œæ•´ç†äº†ä¸€äº›å‘ç”Ÿåœ¨çœŸå®é¡¹ç›®ä¸­çš„ç¼–ç¨‹é™·é˜±ã€‚</p> 
<p>ğŸ“š äº¬ä¸œè´­ä¹°é“¾æ¥ï¼š<a href="https://item.jd.com/13710415.html" rel="nofollow">ã€ŠGoä¸“å®¶ç¼–ç¨‹ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ac3f5f1017ac328abb531edf444a7cd2/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">Linux--gccç‰ˆæœ¬è¿‡ä½å¯¼è‡´rediså®‰è£…å¤±è´¥</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/189cd6bc27c28fbe5f20aa67f9137ece/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">MoviePyï¼Œä¸€ä¸ªè¶…å¼ºçš„Pythonåº“ï¼</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 è€å¸…çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>