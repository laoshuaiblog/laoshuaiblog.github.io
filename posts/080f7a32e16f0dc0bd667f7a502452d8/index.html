<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ubuntu镜像源的更改及其Petalinux的安装 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/080f7a32e16f0dc0bd667f7a502452d8/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="Ubuntu镜像源的更改及其Petalinux的安装">
  <meta property="og:description" content="在安装Petalinux之前， 需要安装一些必要的库，但是在安装的第一步，自己就遇到下面一些问题了！
Failed to download repository information Check your Internet connection.
Package **** is not available, but is referred to by another package.
package has no installation candidate
这个是在Ubuntu设置中软件和更新这块设置下载的源，设置完成后需要加载，加载就出现了下面的问题。
使用apt-get安装插件时问题很多，网上说执行更新或者升级后就可以了。
sudo apt-get update
sudo apt-get upgrade
但是很多人通过这样的方式问题根本得不到解决，归根结底还是要换下载源，这个文件就是根目录下的/etc/apt/sources.list，我分别尝试了阿里云和清华的镜像源，加到文件里面试了，更新的时候更新到一半就异常终止了，像下面这样。
注意，获取镜像源的时候一定要和自己安装的Ubuntu版本一致。
这个问题困扰了我好久一直得不到解决，最后试了文章Ubuntu安装软件出现 Check your internet connection 问题的解决办法中的镜像源就成功了，该镜像源的具体内容如下。
#deb cdrom:[Ubuntu 16.04 LTS _Xenial Xerus_ - Release amd64 (20160420.1)]/ xenial main restricted deb http://archive.ubuntu.com/ubuntu xenial main restricted universe multiverse deb-src http://archive.ubuntu.com/ubuntu xenial main restricted universe multiverse deb http://archive.">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-01T21:52:39+08:00">
    <meta property="article:modified_time" content="2024-04-01T21:52:39+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ubuntu镜像源的更改及其Petalinux的安装</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在安装Petalinux之前， 需要安装一些必要的库，但是在安装的第一步，自己就遇到下面一些问题了！</p> 
<blockquote> 
 <p>Failed to download repository information Check your Internet connection.<br> Package **** is not available, but is referred to by another package.<br> package has no installation candidate</p> 
</blockquote> 
<p>这个是在Ubuntu设置中软件和更新这块设置下载的源，设置完成后需要加载，加载就出现了下面的问题。<br> <img src="https://images2.imgbox.com/01/db/k7XZtyPO_o.png" alt="在这里插入图片描述"><br> 使用apt-get安装插件时问题很多，网上说执行更新或者升级后就可以了。</p> 
<blockquote> 
 <p>sudo apt-get update<br> sudo apt-get upgrade</p> 
</blockquote> 
<p>但是很多人通过这样的方式问题根本得不到解决，归根结底还是要换下载源，这个文件就是根目录下的/etc/apt/sources.list，我分别尝试了阿里云和清华的镜像源，加到文件里面试了，更新的时候更新到一半就异常终止了，像下面这样。<br> <img src="https://images2.imgbox.com/9e/41/C4IFhEo1_o.png" alt="在这里插入图片描述"><br> <strong>注意，获取镜像源的时候一定要和自己安装的Ubuntu版本一致</strong>。<br> 这个问题困扰了我好久一直得不到解决，最后试了文章<a href="https://blog.csdn.net/qq_38882327/article/details/93590184">Ubuntu安装软件出现 Check your internet connection 问题的解决办法</a>中的镜像源就成功了，该镜像源的具体内容如下。</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">deb</span> <span class="token expression">cdrom<span class="token operator">:</span><span class="token punctuation">[</span>Ubuntu <span class="token number">16.04</span> LTS _Xenial Xerus_ <span class="token operator">-</span> Release <span class="token function">amd64</span> <span class="token punctuation">(</span><span class="token number">20160420.1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">/</span> xenial main restricted</span></span>
deb http<span class="token operator">:</span><span class="token comment">//archive.ubuntu.com/ubuntu xenial main restricted universe multiverse</span>
deb<span class="token operator">-</span>src http<span class="token operator">:</span><span class="token comment">//archive.ubuntu.com/ubuntu xenial main restricted universe multiverse</span>
deb http<span class="token operator">:</span><span class="token comment">//archive.ubuntu.com/ubuntu xenial-updates main restricted universe multiverse</span>
deb<span class="token operator">-</span>src http<span class="token operator">:</span><span class="token comment">//archive.ubuntu.com/ubuntu xenial-updates main restricted universe multiverse</span>
deb http<span class="token operator">:</span><span class="token comment">//archive.ubuntu.com/ubuntu xenial-backports main restricted universe multiverse</span>
deb<span class="token operator">-</span>src http<span class="token operator">:</span><span class="token comment">//archive.ubuntu.com/ubuntu xenial-backports main restricted universe multiverse</span>
deb http<span class="token operator">:</span><span class="token comment">//archive.ubuntu.com/ubuntu xenial-security main restricted universe multiverse</span>
deb<span class="token operator">-</span>src http<span class="token operator">:</span><span class="token comment">//archive.ubuntu.com/ubuntu xenial-security main restricted universe multiverse</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">deb</span> <span class="token expression">http<span class="token operator">:</span></span><span class="token comment">//archive.ubuntu.com/ubuntu xenial-proposed main restricted universe multiverse</span></span>
deb http<span class="token operator">:</span><span class="token comment">//archive.canonical.com/ubuntu xenial partner</span>
deb<span class="token operator">-</span>src http<span class="token operator">:</span><span class="token comment">//archive.canonical.com/ubuntu xenial partner</span>
</code></pre> 
<p>这是适用于Ubuntu 16.04版本的，将上面的内容粘贴到/etc/apt/sources.list文件中，保存退出，这时在root用户下执行了下面的命令。</p> 
<blockquote> 
 <p>sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade</p> 
</blockquote> 
<p>然后就是一通更新，时间还挺长了，如下图所示。<br> <img src="https://images2.imgbox.com/01/b7/cbx5kexF_o.png" alt="在这里插入图片描述"><br> 最后停下来询问是否继续的时候，我选择了是，但是就此中断了，我以为又失败了，但是再使用apt-get命令安装时，就成功了。<br> 这是安装Petalinux之前安装必要库的命令。</p> 
<blockquote> 
 <p>sudo apt-get install tofrodos gawk xvfb git libncurses5-dev tftpd zlib1g-dev zlib1g-dev:i386 libssl-dev flex bison chrpath socat autoconf libtool texinfo gcc-multilib libsdl1.2-dev libglib2.0-dev screen pax</p> 
</blockquote> 
<p>输入命令后，这些库就按照成功了，之前介绍的问题也没有再出现。<br> <img src="https://images2.imgbox.com/fa/73/ajFF9Erm_o.png" alt="在这里插入图片描述"><br> 配置tftp server，在root用户下依次执行下面的命令。</p> 
<blockquote> 
 <p>su<br> apt-get install tftpd-hpa<br> chmod a+w /var/lib/tftpboot<br> reboot</p> 
</blockquote> 
<p>如下图所示，先安装所需的库，然后修改权限，最后重启系统。<br> <img src="https://images2.imgbox.com/03/39/0pHAV7LS_o.png" alt="在这里插入图片描述"><br> 前面的都是为安装Petalinux做准备，接下来就正式安装Petalinux了。<br> Petalinux工具是Xilinx公司推出的嵌入式Linux开发套件，包括了u-boot、Linux Kernel、device-tree、rootfs等源码和库，可以让客户很方便的生成、配置、编译及自定义Linux系统。Petalinux支持Versal、Zynq UltraScale+MPSoC、Zynq-7000 SoC以及MicroBlaze，可与Xilinx硬件设计工具Vivado协同工作，大大简化了Linux系统的开发工作。<br> 依次使用下面的命令创建目录并给予目录权限。</p> 
<blockquote> 
 <p>su<br> mkdir -p /opt/pkg/petalinux<br> chown username /opt/pkg<br> chgrp username /opt/pkg<br> chgrp username /opt/pkg/petalinux<br> chown username /opt/pkg/petalinux<br> exit</p> 
</blockquote> 
<p>同样进入到root用户下，创建一个多级目录，修改目录的所有者和所在组，注意上面命令中的username是你自己的用户名，最后退出root用户。<br> <img src="https://images2.imgbox.com/ae/fa/vvzxsusU_o.png" alt="在这里插入图片描述"><br> 将petalinux-v2018.3-final-installer.run复制到Ubuntu系统中，进入到存放该文件的目录下，在命令行输入下面命令赋予其可执行权限。</p> 
<blockquote> 
 <p>sudo chmod +x petalinux-v2018.3-final-installer.run</p> 
</blockquote> 
<p>使用下面的命令进行安装。</p> 
<blockquote> 
 <p>./petalinux-v2018.3-final-installer.run /opt/pkg/petalinux</p> 
</blockquote> 
<p>等待其解析即可，然后提示按回车查看协议，按Enter进入协议，然后按q键退出，再输入y继续，如下图所示。<br> <img src="https://images2.imgbox.com/a4/20/JduYn6y1_o.png" alt="在这里插入图片描述"><br> 过程中会有3次这样查看协议，和上面的做法相同，最后等待其安装成功即可。<br> <img src="https://images2.imgbox.com/83/89/OWFv6Zdy_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<p>参考文章：<br> <a href="https://blog.csdn.net/qq_38882327/article/details/93590184">Ubuntu安装软件出现 Check your internet connection 问题的解决办法</a><br> <a href="https://blog.csdn.net/qq_42824983/article/details/110236257">package has no installation candidate最新解决办法</a><br> 参考视频：<br> <a href="https://www.bilibili.com/video/BV1K7411p7kF?p=3&amp;vd_source=83ff6bc8190dddb6fcfa4b537665a9b8" rel="nofollow">Petalinux安装</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/686e9331b1c77af9db41afb392186199/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">标准版IP地址证书</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/87ca832fc51f5e7b9b47ca9dcc5bd0b4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">德国FSV30罗德与施瓦茨频谱仪</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>