<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>es6学习：模块化 - 老帅的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://laoshuaiblog.github.io/posts/7bfcae220a0e4a5f45daaded982f5b3a/">
  <meta property="og:site_name" content="老帅的博客">
  <meta property="og:title" content="es6学习：模块化">
  <meta property="og:description" content="1. 模块化简介 在 ES6 之前，社区制定了一些模块加载方案，最主要的有 CommonJS 和 AMD 两种。前者用于服务器，后者用于浏览器。ES6 在语言标准的层面上，实现了模块功能，而且实现得相当简单，完全可以取代 CommonJS 和 AMD 规范，成为浏览器和服务器通用的模块解决方案。
ES6 模块的设计思想是尽量的静态化，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。CommonJS 和 AMD 模块，都只能在运行时确定这些东西。比如，CommonJS 模块就是对象，输入时必须查找对象属性。
模块化是指将一个大的程序文件，拆分程许多小的文件，然后将小文件组合起来。类似于vue中的组件化。
1.1 模块化的好处 防止命名冲突（不同模块的相同变量名，重复不冲突）代码复用（把一个功能代码放在同一个模板里，向外暴露接口，可供给多个地方使用）高维护性（如果多人对代码修改，不会产生过度冲突；代码和模块升级只需对某一个或某些模块进行升级） 1.2 模块块化规范产品 CommonJs 规范 =》 产品: NodeJs、BrowerifyAMD 规范 =》 产品: requireJSCMD 规范 =》 产品: seaJS 1.3 ES6模块块语法 模块功能主要由两个命令构成：export 和 import 。在引入模块时script要写type=&#34;module&#34;，不然会报错哦，Uncaught SyntaxError: Cannot use import statement outside a module。
export 命令用于规定模板块对外接口import 命令用于输入其他模块的对外接口 // module.js export let test = &#39;test&#39; export function add (a, b) { return a &#43; b } // xxx.">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
  <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2021-04-26T10:21:32+08:00">
    <meta property="article:modified_time" content="2021-04-26T10:21:32+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="老帅的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">老帅的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">es6学习：模块化</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1. 模块化简介</h2> 
<p>     </p> 
<p>       在 ES6 之前，社区制定了一些模块加载方案，最主要的有 CommonJS 和 AMD 两种。前者用于服务器，后者用于浏览器。ES6 在语言标准的层面上，实现了模块功能，而且实现得相当简单，完全可以取代 CommonJS 和 AMD 规范，成为浏览器和服务器通用的模块解决方案。</p> 
<p>      ES6 模块的设计思想是尽量的静态化，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。CommonJS 和 AMD 模块，都只能在运行时确定这些东西。比如，CommonJS 模块就是对象，输入时必须查找对象属性。</p> 
<p>      模块化是指将一个大的程序文件，拆分程许多小的文件，然后将小文件组合起来。类似于vue中的组件化。</p> 
<h4>    1.1 模块化的好处</h4> 
<ul><li>防止命名冲突（不同模块的相同变量名，重复不冲突）</li><li>代码复用（把一个功能代码放在同一个模板里，向外暴露接口，可供给多个地方使用）</li><li>高维护性（如果多人对代码修改，不会产生过度冲突；代码和模块升级只需对某一个或某些模块进行升级）</li></ul> 
<h4>    1.2 模块块化规范产品</h4> 
<ul><li>CommonJs  规范  =》 产品:   NodeJs、Browerify</li><li>AMD  规范  =》 产品:    requireJS</li><li>CMD  规范  =》 产品:    seaJS</li></ul> 
<h4>    1.3 ES6模块块语法</h4> 
<p>      模块功能主要由两个命令构成：<strong>export</strong> 和 <strong>import </strong>。在引入模块时script要写<strong>type="module"</strong>，不然会报错哦，Uncaught SyntaxError: Cannot use import statement outside a module。</p> 
<ul><li>export 命令用于规定模板块对外接口</li><li>import 命令用于输入其他模块的对外接口</li></ul> 
<pre><code class="language-javascript">// module.js
export let test = 'test'

export function add (a, b) {
  return a + b
}

// xxx.html  导出的module变量为object类型  script的type要写type="module"
// 引入moudle.js文件
import * as module from './模板化/module.js'
let testAdd = module.add(23, 56)
console.log(module, testAdd, typeof module)
 
</code></pre> 
<p><img alt="" height="172" src="https://images2.imgbox.com/f7/da/4tjyMUY3_o.png" width="768"></p> 
<p>      此例为分别暴露的方法，除此之外还有统一暴露和默认暴露。默认暴露需要调用<strong>module.<span style="color:#f33b45;">default</span>.add(12, 54)</strong>。</p> 
<pre><code class="language-javascript">// 统一暴露
let test = 'test'
function add (a, b) {
  return a + b
}

export { test, add }</code></pre> 
<p><img alt="" height="169" src="https://images2.imgbox.com/35/b7/WVKAKyPf_o.png" width="798"></p> 
<pre><code class="language-javascript">// 默认暴露
export default {
  test: 'test',
  add: function (a, b) {
    return a + b
  }
}</code></pre> 
<p><img alt="" height="166" src="https://images2.imgbox.com/44/b3/JbltIg1t_o.png" width="671"></p> 
<h2>2. ES6 引入模块方式</h2> 
<ul><li>通用引入方式</li></ul> 
<pre><code class="language-javascript">import * as module from './模板化/module.js'</code></pre> 
<ul><li>解析赋值形式(如果不同模板的变量名重复，可以通过<strong>as</strong>进行设置变量别名)</li></ul> 
<pre><code class="language-javascript">import {add, test} from './模板化/module.js'
import {add as add2, test as test2} from './模板化/module2.js'
console.log(add, test)
console.log(add2, test2)</code></pre> 
<p><img alt="" height="135" src="https://images2.imgbox.com/5c/0d/DCLDNToU_o.png" width="457"></p> 
<ul><li>默认暴露的引入（一定要另起别名，方便区分，否则报错。输出m1，没有了default）</li></ul> 
<pre><code class="language-javascript">import {default as m1} from './模板化/module.js'</code></pre> 
<p><img alt="" height="85" src="https://images2.imgbox.com/a9/2e/wN4p0qjk_o.png" width="611"></p> 
<ul><li>简便模式<strong>（只针对于默认暴露）</strong></li></ul> 
<pre><code class="language-javascript">import m3Default from './模板化/module.js'</code></pre> 
<h2>3. 浏览器中模块化的使用</h2> 
<pre><code class="language-javascript">// xxx.html 引入入口模块文件app.js
&lt;script src="./js/app.js" type="module"&gt; &lt;/script&gt;

// app.js
import * as m1 from './js/module1.js'
import * as m2 from './js/module2.js'

// module1.js
.....

// module2.js
.....</code></pre> 
<h2>4. 模块化在项目中的使用</h2> 
<p>     <a href="https://www.babeljs.cn/" rel="nofollow"> babel</a></p> 
<h4>    4.1 安装工具 babel-cli   babel-preset-env(预设包)   browserify(打包工具)</h4> 
<p>      过程：①初始化 ②安装</p> 
<p><img alt="" height="391" src="https://images2.imgbox.com/6e/cd/RVuKohfn_o.png" width="954"></p> 
<h4>    4.2 通过 <strong>npx  babel  需转化文件的路径   -d   转化后存放的路径   参数</strong></h4> 
<p><img alt="" height="72" src="https://images2.imgbox.com/e6/50/80IVypMK_o.png" width="756"></p> 
<p><img alt="" height="481" src="https://images2.imgbox.com/60/6c/GXVPZt8k_o.png" width="942"></p> 
<h4>    4.3 打包 npx browserify 需要打包的文件目录  -o  打包后存放到的文件目录</h4> 
<p><img alt="" height="17" src="https://images2.imgbox.com/8d/77/vzyiFpy1_o.png" width="797"></p> 
<p>      dist目录下会多一个bundle.js文件。打包后的文件格式。</p> 
<p><img alt="" height="440" src="https://images2.imgbox.com/26/70/NgZZjcS6_o.png" width="527"></p> 
<h2>5. 实例：通过npm 引入juqery包的流程</h2> 
<h4>    5.1 在终端中通过npm i jquery命令安装jquery</h4> 
<p><img alt="" height="87" src="https://images2.imgbox.com/0f/b7/zwwcNASy_o.png" width="853"></p> 
<h4>    5.2 在js中引入jquery并使用（app.js中，通过import引入）</h4> 
<pre><code class="language-javascript">import $ from 'jquery'
$('body').css('background', 'pink')
</code></pre> 
<h4>    5.3 需要<span style="color:#f33b45;">重新</span>安装工具（更新依赖）和打包</h4> 
<p><img alt="" height="100" src="https://images2.imgbox.com/37/77/PvhNRm4W_o.png" width="753"></p> 
<p><img alt="" height="29" src="https://images2.imgbox.com/e8/e1/cCC8UHTz_o.png" width="661"></p> 
<h4>    5.4 在html中引入打包后的bundle.js文件，并打开网页看效果。</h4> 
<pre><code class="language-javascript">&lt;script src="../dist/bundle.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt;</code></pre> 
<p><img alt="" height="171" src="https://images2.imgbox.com/15/1a/6IKgxNwS_o.png" width="608"></p> 
<p> </p> 
<hr> 
<p><a href="https://blog.csdn.net/sunshine_0880/article/details/116168222?spm=1001.2014.3001.5501">下一篇进入ES7-11的学习</a> ... ...</p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c51372d4f8b4d4d5a39260aa69bf1323/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">scala安装与配置（详细步骤）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/098a5ad778a4cd2d65b9ae44b2655595/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Redis中RDB操作</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 老帅的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>